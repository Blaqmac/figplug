#!/usr/bin/env TSC_NONPOLLING_WATCHER=1 node
/* figplug 0.0.1 */
!function(e){"use strict";var n,t,i,r,o,s,a,u,c,l,f,p,d,h,m,g,_,v,D,b,y,w,E,A,F,x,C,k,S,B,T,O,$,M,j,P,N,L,I,R,q,z,U,H,V,G,J,W,Y,X,Q,Z,K,ee,ne,te,ie,re,oe,se,ae,ue,ce,le,fe,pe,de,he,me,ge,_e,ve,De,be,ye,we,Ee,Ae,Fe,xe,Ce,ke,Se,Be,Te,Oe,$e,Me,je,Pe,Ne,Le,Ie,Re,qe,ze,Ue,He,Ve,Ge,Je,We,Ye,Xe,Qe,Ze,Ke,en,nn,tn,rn,on,sn,an,un,cn,ln,fn,pn,dn,hn,mn,gn,_n,vn,Dn,bn,yn,wn,En,An,Fn,xn,Cn,kn,Sn,Bn,Tn,On,$n,Mn,jn,Pn,Nn,Ln,In,Rn,qn,zn,Un,Hn,Vn,Gn,Jn,Wn,Yn,Xn,Qn,Zn,Kn,et="0.0.1";try{"undefined"!=typeof require&&require("source-map-support").install()}catch(e){}e=void 0!==e?e:"undefined"!=typeof window?window:this;const nt=console.log.bind(console);function tt(e){try{return JSON.stringify(e,null,2)}catch(n){return String(e)}}function it(e){return e&&"object"==typeof e&&"default"in e?e.default:e}n=require("vm"),t=require("path"),i=require("fs"),r=require("util"),o=require("url"),s=require("rollup"),a=require("typescript"),u=it(require("rollup-plugin-typescript2")),c=it(require("rollup-plugin-commonjs")),l=it(require("rollup-plugin-node-resolve")),f=require("svgo"),p=require("os"),d=it(require("postcss-nesting")),h=require("child_process");const rt="function"==typeof btoa?btoa:e=>Buffer.from(e,"utf8").toString("base64");function ot(e,t){return n.runInNewContext("(()=>("+e+"))()",{},{filename:t,displayErrors:!0})}function st(e){if(e instanceof Map){let n="{ ";const t=",\n  ";for(let[i,r]of e)n+=JSON.stringify(i)+": "+st(r)+t;return"{ "==n?"{}":n.substr(0,n.length-t.length)+"\n}"}return JSON.stringify(e,null,2)}function at(e){return t.relative(".",e)||"."}function ut(e){return Buffer.from(e,"utf8").length}function ct(e){const n=e=>Math.ceil(10*e)/10;return e<=1e3?e+" B":e<1024e3?n(e/1024)+" kB":e<1048576e3?n(e/1048576)+" MB":n(e/1073741824)+" GB"}function lt(e){const n=e=>Math.ceil(10*e)/10;return e<1e3?e+"ms":e<6e4?n(e/1e3)+"s":e<36e5?n(e/1e3*60)+"min":n(e/1e3*60*60)+"hr"}const ft=r.promisify(i.stat),pt=r.promisify(i.mkdir);function dt(e){return pt(e,{recursive:!0})}const ht=r.promisify(i.readFile);async function mt(e){try{return await ft(e),!0}catch(e){}return!1}function gt(e){if(e instanceof o.URL){if("file"!=e.protocol.toLowerCase())throw new Error("not a file URL");if(""!=e.hostname&&"localhost"!=e.hostname)throw new Error("file URL with remote host");return e.pathname}return"string"==typeof e?e:e instanceof Buffer?e.toString("utf8"):String(e)}const _t=r.promisify(i.writeFile);function vt(e,n,i){return _t(e,n,i).catch(async r=>{if("ENOENT"!=r.code||"number"==typeof e)throw r;await dt(t.dirname(gt(e))),await _t(e,n,i)})}const Dt=r.promisify(i.copyFile);function bt(e,n,i){return Dt(e,n,i).catch(async r=>{if("ENOENT"!=r.code)throw r;await dt(t.dirname(gt(n))),await Dt(e,n,i)})}const yt=new Set(["version","name","script","html","menu","build"]),wt=["name","version","script"];class Manifest{constructor(e,n){this.file=e,this.props=n}getStandardProps(){let e={};for(let n in this.props)yt.has(n)&&(e[n]=this.props[n]);return e}getStandardPropMap(){let e=new Map;for(let n in this.props)yt.has(n)&&e.set(n,this.props[n]);return e}static async load(e){return e.endsWith(".json")||e.endsWith(".js")?Manifest.loadFile(t.resolve(e)):e.endsWith(t.sep)?Manifest.loadDir(t.resolve(e)):(e=t.resolve(e),(await ft(e)).isDirectory()?Manifest.loadDir(e):Manifest.loadFile(e))}static loadDir(e){return Manifest.loadFile(t.join(e,"manifest.json")).catch(n=>{if("ENOENT"==n.code)return Manifest.loadFile(t.join(e,"manifest.js"));throw n})}static async loadFile(e){let n=ot(await ht(e,"utf8"),e);for(let t of wt)if(void 0===n[t])throw new Error(`missing ${tt(t)} property in ${e}`);return n.ui=n.ui||n.html,n.html=n.html||n.ui,new Manifest(e,n)}}const Et=t.relative(".",process.argv[1]);function At(e,...n){e instanceof Error&&(e=e.stack||e.message||String(e)),console.error(`${Et}: ${e}`+(n.length>0?n.join(" "):"")),process.exit(1)}function Ft(e,n,...t){let[i,r]=function(e){let n=new Map,t=[];for(let i of e){let e=xt(i);t.push(e);for(let t of e.flags)n.set(t,e)}return[n,t]}(t),o={},s=0;for(;s<e.length;s++){let t=e[s];if("--"==t){s++;break}if("-"!=t[0])break;let a=(t=t.replace(/^\-+/,"")).indexOf("="),u=void 0;-1!=a&&(u=t.substr(a+1),t=t.substr(0,a));let c=i.get(t);if(!c){"h"==t||"help"==t?(Ct(r,n),process.exit(0)):(console.error(`unknown option -${t} (see ${Et} -help)`),process.exit(1));break}if(c.valueName){if(void 0===u){if(void 0===(u=e[s+1])||"-"==u[0]){console.error(`missing value for option -${t} (see ${Et} -help)`),process.exit(1);break}s++}try{o[t]=c.valueParser?c.valueParser(u):u}catch(e){console.error(`invalid value for option -${t} (${e.message})`)}}else void 0!==u?(console.error(`unexpected value provided for flag -${t}`),process.exit(1)):o[t]=!0}return[o,e.slice(s)]}function xt(e){const n=e=>e.replace(/^\-+/,"");if("string"==typeof e)return{flags:[n(e)]};let t={flags:"string"==typeof e[0]?[n(e[0])]:e[0].map(n),description:e[1]||void 0};if(e[2]){let[n,i]=e[2].replace(/^[<>]+|[<>]+$/g,"").split(/:/,2);if(i)switch(i.toLowerCase()){case"string":case"str":i="string";break;case"bool":case"boolean":i="boolean",t.valueParser=(e=>"false"!=(e=e.toLowerCase())&&"0"!=e&&"no"!=e&&"off"!=e);break;case"number":case"num":case"float":case"int":i="number",t.valueParser=(e=>{let n=Number(e);if(isNaN(n))throw new Error(`${tt(e)} is not a number`);return n});break;default:throw new Error(`invalid argument type "${i}"`)}else i="string";t.valueName=n||i,t.valueType=i}return t}function Ct(e,n){let t={prog:Et},i=n?"function"==typeof n?n():n:e.length>0?"Usage: $prog [options]":"Usage: $prog";if(i=i.replace(/\$(\w+)/g,(e,n)=>{let i=t[n];if(!i)throw new Error(`unknown variable $${n}`);return i}),e.length>0){i+="\noptions:\n";let n=0,t=[];for(let i of e){let e="  -"+(i.valueName?i.flags.map(e=>"boolean"==i.valueType?e+"=on|off":e+"=<"+i.valueName+">"):i.flags).join(", -");if(e.length>20){e=e.replace(/, -/g,",\n  -");for(let t of e.split(/\n/))n=Math.max(n,t.length)}else n=Math.max(n,e.length);t.push(e)}const r="                                     ";for(let o=0;o<e.length;o++){let s=e[o],a=t[o],u=r.substr(0,n-a.length);s.description?i+=`${a}${u}  ${s.description}\n`:i+=`${a}\n`}}console.error(i)}const kt=t.dirname(__dirname);const St={},Bt={exports:St};function Tt(e){return e.split("")}function Ot(e,n){return n.indexOf(e)>=0}function $t(e,n){for(var t=0,i=n.length;t<i;++t)if(e(n[t]))return n[t]}function Mt(e){Object.defineProperty(e.prototype,"stack",{get:function(){var e=new Error(this.message);e.name=this.name;try{throw e}catch(e){return e.stack}}})}function jt(e,n){this.message=e,this.defs=n}function Pt(e,n,t){var i,r;if(!0===e&&(e={}),i=e||{},t)for(r in i)Xt(i,r)&&!Xt(n,r)&&jt.croak("`"+r+"` is not a supported option",n);for(r in n)Xt(n,r)&&(i[r]=e&&Xt(e,r)?e[r]:n[r]);return i}function Nt(e,n){var t,i=0;for(t in n)Xt(n,t)&&(e[t]=n[t],i++);return i}function Lt(){}function It(){return!1}function Rt(){return!0}function qt(){return this}function zt(){return null}function Ut(e,n){e.indexOf(n)<0&&e.push(n)}function Ht(e,n){return e.replace(/\{(.+?)\}/g,function(e,t){return n&&n[t]})}function Vt(e,n){for(var t=e.length;--t>=0;)e[t]===n&&e.splice(t,1)}function Gt(e,n){return e.length<2?e.slice():function e(t){if(t.length<=1)return t;var i=Math.floor(t.length/2),r=t.slice(0,i),o=t.slice(i);return function(e,t){for(var i=[],r=0,o=0,s=0;r<e.length&&o<t.length;)n(e[r],t[o])<=0?i[s++]=e[r++]:i[s++]=t[o++];return r<e.length&&i.push.apply(i,e.slice(r)),o<t.length&&i.push.apply(i,t.slice(o)),i}(r=e(r),o=e(o))}(e)}function Jt(e){var n,t,i,r,o;e instanceof Array||(e=e.split(" ")),n="",t=[];e:for(i=0;i<e.length;++i){for(r=0;r<t.length;++r)if(t[r][0].length==e[i].length){t[r].push(e[i]);continue e}t.push([e[i]])}function s(e){return JSON.stringify(e).replace(/[\u2028\u2029]/g,function(e){switch(e){case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}return e})}function a(e){if(1==e.length)return n+="return str === "+s(e[0])+";";n+="switch(str){";for(var t=0;t<e.length;++t)n+="case "+s(e[t])+":";n+="return true}return false;"}if(t.length>3){for(t.sort(function(e,n){return n.length-e.length}),n+="switch(str.length){",i=0;i<t.length;++i)o=t[i],n+="case "+o[0].length+":",a(o);n+="}"}else a(e);return new Function("str",n)}function Wt(e,n){for(var t=e.length;--t>=0;)if(!n(e[t]))return!1;return!0}function Yt(){this._values=Object.create(null),this._size=0}function Xt(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function Qt(e){for(var n,t=e.parent(-1),i=0;n=e.parent(i);i++){if(n instanceof D&&n.body===t)return!0;if(!(n instanceof De&&n.expressions[0]===t||"Call"==n.TYPE&&n.expression===t||n instanceof ye&&n.expression===t||n instanceof we&&n.expression===t||n instanceof Ce&&n.condition===t||n instanceof xe&&n.left===t||n instanceof Fe&&n.expression===t))return!1;t=n}}function Zt(e,n,t,i){var r,o,s,a,u;for(arguments.length<4&&(i=v),r=n=n?n.split(/\s+/):[],i&&i.PROPS&&(n=n.concat(i.PROPS)),o="return function AST_"+e+"(props){ if (props) { ",s=n.length;--s>=0;)o+="this."+n[s]+" = props."+n[s]+";";if(((a=i&&new i)&&a.initialize||t&&t.initialize)&&(o+="this.initialize();"),o+="}}",u=new Function(o)(),a&&(u.prototype=a,u.BASE=i),i&&i.SUBCLASSES.push(u),u.prototype.CTOR=u,u.PROPS=n||null,u.SELF_PROPS=r,u.SUBCLASSES=[],e&&(u.prototype.TYPE=u.TYPE=e),t)for(s in t)Xt(t,s)&&(/^\$/.test(s)?u[s.substr(1)]=t[s]:u.prototype[s]=t[s]);return u.DEFMETHOD=function(e,n){this.prototype[e]=n},"undefined"!=typeof exports&&(exports["AST_"+e]=u),u}function Kt(e,n){var t,i,r=e.body;if(r instanceof v)r._walk(n);else for(t=0,i=r.length;t<i;t++)r[t]._walk(n)}function ei(e){this.visit=e,this.stack=[],this.directives=Object.create(null)}function ni(e,n){var t,i,r=e.charAt(n);return ti(r)&&ii(t=e.charAt(n+1))?r+t:ii(r)&&ti(i=e.charAt(n-1))?i+r:r}function ti(e){return"string"==typeof e&&(e=e.charCodeAt(0)),e>=55296&&e<=56319}function ii(e){return"string"==typeof e&&(e=e.charCodeAt(0)),e>=56320&&e<=57343}function ri(e){return e>=48&&e<=57}function oi(e){return"string"==typeof e&&!Cn(e)}function si(e){var n=e.charCodeAt(0);return zn.ID_Start.test(e)||36==n||95==n}function ai(e){var n=e.charCodeAt(0);return zn.ID_Continue.test(e)||36==n||95==n||8204==n||8205==n}function ui(e){return/^[a-z_$][a-z0-9_$]*$/i.test(e)}function ci(e,n,t,i,r){this.message=e,this.filename=n,this.line=t,this.col=i,this.pos=r}function li(e,n,t,i,r){throw new ci(e,n,t,i,r)}function fi(e,n,t){return e.type==n&&(null==t||e.value==t)}function pi(e,n){var t,i,r,o,s,a,u,c,l,f,p,d,h,m,g,D,E,x;function S(e,n){return fi(t.token,e,n)}function P(){return t.peeked||(t.peeked=t.input())}function W(){return t.prev=t.token,t.peeked?(t.token=t.peeked,t.peeked=null):t.token=t.input(),t.in_directives=t.in_directives&&("string"==t.token.type||S("punc",";")),t.token}function Y(){return t.prev}function Z(e,n,i,r){var o=t.input.context();li(e,o.filename,null!=n?n:o.tokline,null!=i?i:o.tokcol,null!=r?r:o.tokpos)}function ie(e,n){Z(n,e.line,e.col)}function Ee(e){null==e&&(e=t.token),ie(e,"Unexpected token: "+e.type+" ("+e.value+")")}function Ne(e,n){if(S(e,n))return W();ie(t.token,"Unexpected token "+t.token.type+" «"+t.token.value+"», expected "+e+" «"+n+"»")}function Re(e){return Ne("punc",e)}function He(e){return e.nlb||!Wt(e.comments_before,function(e){return!e.nlb})}function ln(){return!n.strict&&(S("eof")||S("punc","}")||He(t.token))}function hn(){return t.in_generator===t.in_function}function gn(){return t.in_async===t.in_function}function _n(e){S("punc",";")?W():e||ln()||Ee()}function Dn(){Re("(");var e=x(!0);return Re(")"),e}function bn(e){return function(){var n=t.token,i=e.apply(null,arguments),r=Y();return i.start=n,i.end=r,i}}function zn(){(S("operator","/")||S("operator","/="))&&(t.peeked=null,t.token=t.input(t.token.value.substr(1)))}function Yn(e){return new w({body:(e=x(!0),_n(),e)})}function Xn(e){var n,i,r=null;return ln()||(r=mt(an,!0)),null!=r?((n=$t(function(e){return e.name==r.name},t.labels))||Z("Undefined label "+r.name),r.thedef=n):0==t.in_loop&&Z(e.TYPE+" not inside a loop or switch"),_n(),i=new e({label:r}),n&&n.references.push(i),i}function Qn(e,n){var t={},i=!1,r=!1,o=!1,s=!!n,a={add_parameter:function(n){if(void 0!==t["$"+n.value])!1===i&&(i=n),a.check_strict();else if(t["$"+n.value]=!0,e)switch(n.value){case"arguments":case"eval":case"yield":s&&ie(n,"Unexpected "+n.value+" identifier as parameter inside strict mode");break;default:Cn(n.value)&&Ee()}},mark_default_assignment:function(e){!1===r&&(r=e)},mark_spread:function(e){!1===o&&(o=e)},mark_strict_mode:function(){s=!0},is_strict:function(){return!1!==r||!1!==o||s},check_strict:function(){a.is_strict()&&!1!==i&&ie(i,"Parameter "+i.value+" was used already")}};return a}function Zn(e,n){var i,r=!1;return void 0===e&&(e=Qn(!0,t.input.has_directive("use strict"))),S("expand","...")&&(r=t.token,e.mark_spread(t.token),W()),i=Kn(e,n),S("operator","=")&&!1===r&&(e.mark_default_assignment(t.token),W(),i=new Se({start:i.start,left:i,operator:"=",right:x(!1),end:t.token})),!1!==r&&(S("punc",")")||Ee(),i=new L({start:r,expression:i,end:r})),e.check_strict(),i}function Kn(e,n){var i,r,o,s,a,u=[],c=!0,l=!1,f=t.token;if(void 0===e&&(e=Qn(!1,t.input.has_directive("use strict"))),n=void 0===n?Je:n,S("punc","[")){for(W();!S("punc","]");){if(c?c=!1:Re(","),S("expand","...")&&(l=!0,i=t.token,e.mark_spread(t.token),W()),S("punc"))switch(t.token.value){case",":u.push(new vn({start:t.token,end:t.token}));continue;case"]":break;case"[":case"{":u.push(Kn(e,n));break;default:Ee()}else S("name")?(e.add_parameter(t.token),u.push(mt(n))):Z("Invalid function parameter");S("operator","=")&&!1===l&&(e.mark_default_assignment(t.token),W(),u[u.length-1]=new Se({start:u[u.length-1].start,left:u[u.length-1],operator:"=",right:x(!1),end:t.token})),l&&(S("punc","]")||Z("Rest element must be last element"),u[u.length-1]=new L({start:i,expression:u[u.length-1],end:i}))}return Re("]"),e.check_strict(),new H({start:f,names:u,is_array:!0,end:Y()})}if(S("punc","{")){for(W();!S("punc","}");){if(c?c=!1:Re(","),S("expand","...")&&(l=!0,i=t.token,e.mark_spread(t.token),W()),S("name")&&(fi(P(),"punc")||fi(P(),"operator"))&&-1!==[",","}","="].indexOf(P().value))e.add_parameter(t.token),r=Y(),o=mt(n),l?u.push(new L({start:i,expression:o,end:o.end})):u.push(new $e({start:r,key:o.name,value:o,end:o.end}));else{if(S("punc","}"))continue;s=t.token,null===(a=pt())?Ee(Y()):"name"!==Y().type||S("punc",":")?(Re(":"),u.push(new $e({start:s,quote:s.quote,key:a,value:Kn(e,n),end:Y()}))):u.push(new $e({start:Y(),key:a,value:new n({start:Y(),name:a,end:Y()}),end:Y()}))}l?S("punc","}")||Z("Rest element must be last element"):S("operator","=")&&(e.mark_default_assignment(t.token),W(),u[u.length-1].value=new Se({start:u[u.length-1].value.start,left:u[u.length-1].value,operator:"=",right:x(!1),end:t.token}))}return Re("}"),e.check_strict(),new H({start:f,names:u,is_array:!1,end:Y()})}if(S("name"))return e.add_parameter(t.token),mt(n);Z("Invalid function parameter")}function et(e,i,r,o,s){var a,u=t.in_loop,c=t.labels,l=t.in_generator,f=t.in_async;return++t.in_function,i&&(t.in_generator=t.in_function),r&&(t.in_async=t.in_function),s&&function(e){var i,r=Qn(!0,t.input.has_directive("use strict"));for(Re("(");!(S("punc",")")||(i=Zn(r),e.push(i),S("punc",")")||(Re(","),S("punc",")")&&n.ecma<8&&Ee()),i instanceof L)););W()}(s),e&&(t.in_directives=!0),t.in_loop=0,t.labels=[],e?(t.input.push_directives_stack(),a=nt(),o&&ht(o),s&&s.forEach(ht),t.input.pop_directives_stack()):a=x(!1),--t.in_function,t.in_loop=u,t.labels=c,t.in_generator=l,t.in_async=f,a}function nt(){Re("{");for(var e=[];!S("punc","}");)S("eof")&&Ee(),e.push(i());return W(),e}function tt(){Re("{");for(var e,n=[],r=null,o=null;!S("punc","}");)S("eof")&&Ee(),S("keyword","case")?(o&&(o.end=Y()),r=[],o=new oe({start:(e=t.token,W(),e),expression:x(!0),body:r}),n.push(o),Re(":")):S("keyword","default")?(o&&(o.end=Y()),r=[],o=new re({start:(e=t.token,W(),Re(":"),e),body:r}),n.push(o)):(r||Ee(),r.push(i()));return o&&(o.end=Y()),W(),n}function it(e,n){var i,r,o;for(r=[];o="var"===n?Ue:"const"===n?Ve:"let"===n?Ge:null,S("punc","{")||S("punc","[")?i=new ge({start:t.token,name:Kn(void 0,o),value:S("operator","=")?(Ne("operator","="),x(!1,e)):null,end:Y()}):"import"==(i=new ge({start:t.token,name:mt(o),value:S("operator","=")?(W(),x(!1,e)):e||"const"!==n?null:Z("Missing initializer in const declaration"),end:Y()})).name.name&&Z("Unexpected token: import"),r.push(i),S("punc",",");)W();return r}function rt(){var e,n=t.token;switch(n.type){case"name":e=dt(rn);break;case"num":e=new pn({start:n,end:n,value:n.value});break;case"string":e=new fn({start:n,end:n,value:n.value,quote:n.quote});break;case"regexp":e=new dn({start:n,end:n,value:n.value});break;case"atom":switch(n.value){case"false":e=new yn({start:n,end:n});break;case"true":e=new wn({start:n,end:n});break;case"null":e=new mn({start:n,end:n})}}return W(),e}function ot(e,n,t,i){var r=function(e,n){return n?new Se({start:e.start,left:e,operator:"=",right:n,end:n.end}):e};return e instanceof Te?r(new H({start:e.start,end:e.end,is_array:!1,names:e.properties.map(ot)}),i):e instanceof $e?(e.value=ot(e.value,0,e.key),r(e,i)):e instanceof vn?e:e instanceof H?(e.names=e.names.map(ot),r(e,i)):e instanceof rn?r(new Je({name:e.name,start:e.start,end:e.end}),i):e instanceof L?(e.expression=ot(e.expression),r(e,i)):e instanceof Be?r(new H({start:e.start,end:e.end,is_array:!0,names:e.elements.map(ot)}),i):e instanceof ke?r(ot(e.left,0,0,e.right),i):e instanceof Se?(e.left=ot(e.left,0,e.left),e):void Z("Invalid function parameter",e.start.line,e.start.col)}function st(){var e=[],n=t.token;for(e.push(new J({start:t.token,raw:t.token.raw,value:t.token.value,end:t.token}));!1===t.token.end;)W(),zn(),e.push(x(!0)),fi("template_substitution")||Ee(),e.push(new J({start:t.token,raw:t.token.raw,value:t.token.value,end:t.token}));return W(),new G({start:n,segments:e,end:t.token})}function at(e,n,i){for(var r=!0,o=[];!S("punc",e)&&(r?r=!1:Re(","),!n||!S("punc",e));)S("punc",",")&&i?o.push(new vn({start:t.token,end:t.token})):S("expand","...")?(W(),o.push(new L({start:Y(),expression:x(),end:t.token}))):o.push(x(!1));return W(),o}function ut(e){var n,i,r,o,s=[];for(t.input.push_directives_stack(),t.input.add_directive("use strict"),"name"==t.token.type&&"extends"!=t.token.value&&(r=mt(e===Le?Qe:Ze)),e!==Le||r||Ee(),"extends"==t.token.value&&(W(),o=x(!0)),Re("{"),S("punc",";")&&W();!S("punc","}");)n=t.token,(i=ct(pt(),n,!0))||Ee(),s.push(i),S("punc",";")&&W();return t.input.pop_directives_stack(),W(),new e({start:n,name:r,extends:o,properties:s,end:Y()})}function ct(e,n,i){var r=function(e,n){return"string"==typeof e||"number"==typeof e?new Ye({start:n,name:""+e,end:Y()}):(null===e&&Ee(),e)},o=!1,s=!1,a=!1,u=n;if(i&&"static"===e&&!S("punc","(")&&(s=!0,u=t.token,e=pt()),"async"!==e||S("punc","(")||S("punc",",")||S("punc","}")||(o=!0,u=t.token,e=pt()),null===e&&(a=!0,u=t.token,null===(e=pt())&&Ee()),S("punc","("))return e=r(e,n),new Pe({start:n,static:s,is_generator:a,async:o,key:e,quote:e instanceof Ye?u.quote:void 0,value:f(a,o),end:Y()});if(u=t.token,"get"==e){if(!S("punc")||S("punc","["))return e=r(pt(),n),new je({start:n,static:s,key:e,quote:e instanceof Ye?u.quote:void 0,value:f(),end:Y()})}else if("set"==e&&(!S("punc")||S("punc","[")))return e=r(pt(),n),new Me({start:n,static:s,key:e,quote:e instanceof Ye?u.quote:void 0,value:f(),end:Y()})}function lt(e){function n(e){return new e({name:pt(),start:Y(),end:Y()})}var i,r,o=e?nn:sn,s=e?en:on,a=t.token;return e?i=n(o):r=n(s),S("name","as")?(W(),e?r=n(s):i=n(o)):e?r=new s(i):i=new o(r),new de({start:a,foreign_name:i,name:r,end:Y()})}function ft(e){var n,i;if(S("punc","{")){for(W(),n=[];!S("punc","}");)n.push(lt(e)),S("punc",",")&&W();W()}else S("operator","*")&&(W(),e&&S("name","as")&&(W(),i=mt(nn)),n=[function(e,n){var i,r=e?nn:sn,o=e?en:on,s=t.token,a=Y();return n=n||new o({name:"*",start:s,end:a}),i=new r({name:"*",start:s,end:a}),new de({start:s,foreign_name:i,name:n,end:a})}(e,i)]);return n}function pt(){var e,n=t.token;switch(n.type){case"punc":if("["===n.value)return W(),e=x(!1),Re("]"),e;Ee(n);case"operator":if("*"===n.value)return W(),null;-1===["delete","in","instanceof","new","typeof","void"].indexOf(n.value)&&Ee(n);case"name":"yield"==n.value&&(hn()?ie(n,"Yield cannot be used as identifier inside generators"):fi(P(),"punc",":")||fi(P(),"punc","(")||!t.input.has_directive("use strict")||ie(n,"Unexpected yield identifier inside strict mode"));case"string":case"num":case"keyword":case"atom":return W(),n.value;default:Ee(n)}}function dt(e){var n=t.token.value;return new("this"==n?un:"super"==n?cn:e)({name:String(n),start:t.token,end:t.token})}function ht(e){var n=e.name;hn()&&"yield"==n&&ie(e.start,"Yield cannot be used as identifier inside generators"),t.input.has_directive("use strict")&&("yield"==n&&ie(e.start,"Unexpected yield identifier inside strict mode"),e instanceof ze&&("arguments"==n||"eval"==n)&&ie(e.start,"Unexpected "+n+" in strict mode"))}function mt(e,n){if(!S("name"))return n||Z("Name expected"),null;var t=dt(e);return ht(t),W(),t}function gt(e){var n,t,i,r;for(t=(n=e.start).comments_before,i=Xt(n,"comments_before_length")?n.comments_before_length:t.length;--i>=0;)if(r=t[i],/[@#]__PURE__/.test(r.value)){e.pure=r;break}}function _t(e,n,i){var r=n.value;switch(r){case"++":case"--":vt(i)||Z("Invalid use of "+r+" operator",n.line,n.col,n.pos);break;case"delete":i instanceof rn&&t.input.has_directive("use strict")&&Z("Calling delete on expression not allowed in strict mode",i.start.line,i.start.col,i.start.pos)}return new e({operator:r,expression:i})}function vt(e){return e instanceof be||e instanceof rn}function Dt(e){if(e instanceof Te)e=new H({start:e.start,names:e.properties.map(Dt),is_array:!1,end:e.end});else if(e instanceof Be){for(var n=[],t=0;t<e.elements.length;t++)e.elements[t]instanceof L&&(t+1!==e.elements.length&&ie(e.elements[t].start,"Spread must the be last element in destructuring array"),e.elements[t].expression=Dt(e.elements[t].expression)),n.push(Dt(e.elements[t]));e=new H({start:e.start,names:n,is_array:!0,end:e.end})}else e instanceof Oe?e.value=Dt(e.value):e instanceof ke&&(e=new Se({start:e.start,left:e.left,operator:"=",right:e.right,end:e.end}));return e}function bt(e){++t.in_loop;var n=e();return--t.in_loop,n}return n=Pt(n,{bare_returns:!1,ecma:8,expression:!1,filename:null,html5_comments:!0,shebang:!0,strict:!1,toplevel:null},!0),(t={input:"string"==typeof e?function(e,n,t,i){var r,o,s,a,u,c,l={text:e,filename:n,pos:0,tokpos:0,line:1,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,brace_counter:0,template_braces:[],comments_before:[],directives:{},directive_stack:[]};function f(){return ni(l.text,l.pos)}function p(e,n){var t=ni(l.text,l.pos++);if(e&&!t)throw Un;return Ln(t)?(l.newline_before=l.newline_before||!n,++l.line,l.col=0,n||"\r"!=t||"\n"!=f()||(++l.pos,t="\n")):(t.length>1&&(++l.pos,++l.col),++l.col),t}function d(e){for(;e-- >0;)p()}function h(e){return l.text.substr(l.pos,e.length)==e}function m(e,n){var t=l.text.indexOf(e,l.pos);if(n&&-1==t)throw Un;return t}function g(){l.tokline=l.line,l.tokcol=l.col,l.tokpos=l.pos}function v(t,i,o){l.regex_allowed="operator"==t&&!Vn(i)||"keyword"==t&&kn(i)||"punc"==t&&Rn(i)||"arrow"==t,"punc"==t&&"."==i?r=!0:o||(r=!1);var s={type:t,value:i,line:l.tokline,col:l.tokcol,pos:l.tokpos,endline:l.line,endcol:l.col,endpos:l.pos,nlb:l.newline_before,file:n};return/^(?:num|string|regexp)$/i.test(t)&&(s.raw=e.substring(s.pos,s.endpos)),o||(s.comments_before=l.comments_before,s.comments_after=l.comments_before=[]),l.newline_before=!1,new _(s)}function D(){for(;Nn(f());)p()}function b(e){li(e,n,l.tokline,l.tokcol,l.tokpos)}function y(e){var n,t=!1,i=!1,r=!1,o="."==e,s=function(e){for(var n,t="",i=0;(n=f())&&e(n,i++);)t+=p();return t}(function(n,s){switch(n.charCodeAt(0)){case 98:case 66:return r=!0;case 111:case 79:case 120:case 88:return!r&&(r=!0);case 101:case 69:return!!r||!t&&(t=i=!0);case 45:return i||0==s&&!e;case 43:return i;case i=!1,46:return!(o||r||t)&&(o=!0)}return Bn.test(n)});if(e&&(s=e+s),On.test(s)&&k.has_directive("use strict")&&b("Legacy octal literals are not allowed in strict mode"),n=function(e){if(Tn.test(e))return parseInt(e.substr(2),16);if(On.test(e))return parseInt(e.substr(1),8);if($n.test(e))return parseInt(e.substr(2),8);if(Mn.test(e))return parseInt(e.substr(2),2);if(jn.test(e))return parseFloat(e);var n=parseFloat(e);return n==e?n:void 0}(s),!isNaN(n))return v("num",n);b("Invalid syntax: "+s)}function w(e){var n,t,i,r=p(!0,e);switch(r.charCodeAt(0)){case 110:return"\n";case 114:return"\r";case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 120:return String.fromCharCode(E(2));case 117:if("{"==f()){for(p(!0),"}"===f()&&b("Expecting hex-character between {}");"0"==f();)p(!0);return((i=m("}",!0)-l.pos)>6||(t=E(i))>1114111)&&b("Unicode reference out of bounce"),p(!0),(n=t)>65535?(n-=65536,String.fromCharCode(55296+(n>>10))+String.fromCharCode(n%1024+56320)):String.fromCharCode(n)}return String.fromCharCode(E(4));case 10:return"";case 13:if("\n"==f())return p(!0,e),""}return r>="0"&&r<="7"?function(e){var n=f();return n>="0"&&n<="7"&&(e+=p(!0))[0]<="3"&&(n=f())>="0"&&n<="7"&&(e+=p(!0)),"0"===e?"\0":(e.length>0&&k.has_directive("use strict")&&b("Legacy octal escape sequences are not allowed in strict mode"),String.fromCharCode(parseInt(e,8)))}(r):r}function E(e){var n,t;for(n=0;e>0;--e)t=parseInt(p(!0),16),isNaN(t)&&b("Invalid hex-character pattern in string"),n=n<<4|t;return n}function A(e){var n,t=l.regex_allowed,i=function(){var e,n,t,i;for(e=l.text,n=l.pos,t=l.text.length;n<t;++n)if(i=e[n],Ln(i))return n;return-1}();return-1==i?(n=l.text.substr(l.pos),l.pos=l.text.length):(n=l.text.substring(l.pos,i),l.pos=i),l.col=l.tokcol+(l.pos-l.tokpos),l.comments_before.push(v(e,n,!0)),l.regex_allowed=t,k}function F(e){return v("operator",function e(n){if(!f())return n;var t=n+f();return Pn(t)?(p(),e(t)):n}(e||p()))}function x(){switch(p(),f()){case"/":return p(),A("comment1");case"*":return p(),a()}return l.regex_allowed?c(""):F("/")}function C(e,n){return function(t){try{return n(t)}catch(n){if(n!==Un)throw n;b(e)}}}function k(e){var n,a,m,_;if(null!=e)return c(e);for(i&&0==l.pos&&h("#!")&&(g(),d(2),A("comment5"));;){if(D(),g(),t){if(h("\x3c!--")){d(4),A("comment3");continue}if(h("--\x3e")&&l.newline_before){d(3),A("comment4");continue}}if(!(n=f()))return v("eof");switch(a=n.charCodeAt(0)){case 34:case 39:return o(n);case 46:return p(),ri(f().charCodeAt(0))?y("."):"."===f()?(p(),p(),v("expand","...")):v("punc",".");case 47:if((m=x())===k)continue;return m;case 61:return p(),">"===f()?(p(),v("arrow","=>")):F("=");case 96:return s(!0);case 123:l.brace_counter++;break;case 125:if(l.brace_counter--,l.template_braces.length>0&&l.template_braces[l.template_braces.length-1]===l.brace_counter)return s(!1)}if(ri(a))return y();if(qn(n))return v("punc",p());if(Sn(n))return F();if(92==a||si(n))return _=u(),r?v("name",_):xn(_)?v("atom",_):Fn(_)?Pn(_)?v("operator",_):v("keyword",_):v("name",_);break}b("Unexpected character '"+n+"'")}return r=!1,o=C("Unterminated string constant",function(e){var n,t,i,r;for(n=p(),t="";;){if("\\"==(i=p(!0,!0)))i=w(!0);else if(Ln(i))b("Unterminated string constant");else if(i==n)break;t+=i}return(r=v("string",t)).quote=e,r}),s=C("Unterminated template",function(e){var n,t,i,r,o;for(e&&l.template_braces.push(l.brace_counter),i="",r="",p(!0,!0);"`"!=(n=p(!0,!0));){if("\r"==n)"\n"==f()&&++l.pos,n="\n";else if("$"==n&&"{"==f())return p(!0,!0),l.brace_counter++,(t=v(e?"template_head":"template_substitution",i)).begin=e,t.raw=r,t.end=!1,t;r+=n,"\\"==n&&(o=l.pos,n=w(),r+=l.text.substr(o,l.pos-o)),i+=n}return l.template_braces.pop(),(t=v(e?"template_head":"template_substitution",i)).begin=e,t.raw=r,t.end=!0,t}),a=C("Unterminated multiline comment",function(){var e=l.regex_allowed,n=m("*/",!0),t=l.text.substring(l.pos,n).replace(/\r\n|\r|\u2028|\u2029/g,"\n");return d(function(e){for(var n=0,t=0;t<e.length;t++)ti(e.charCodeAt(t))&&ii(e.charCodeAt(t+1))&&(n++,t++);return e.length-n}(t)+2),l.comments_before.push(v("comment2",t,!0)),l.newline_before=l.newline_before||t.indexOf("\n")>=0,l.regex_allowed=e,k}),u=C("Unterminated identifier name",function(){var e,n="",t=!1,i=function(){return t=!0,p(),"u"!==f()&&b("Expecting UnicodeEscapeSequence -- uXXXX or u{XXXX}"),w()};if("\\"===(n=f()))si(n=i())||b("First identifier char is an invalid identifier char");else{if(!si(n))return"";p()}for(;null!=(e=f());){if("\\"===(e=f()))ai(e=i())||b("Invalid escaped identifier char");else{if(!ai(e))break;p()}n+=e}return Cn(n)&&t&&b("Escaped characters are not allowed in keywords"),n}),c=C("Unterminated regular expression",function(e){var n,t,i,r,o;for(t=!1,i=!1;n=p(!0);)if(Ln(n))b("Unexpected line terminator");else if(t)e+="\\"+n,t=!1;else if("["==n)i=!0,e+=n;else if("]"==n&&i)i=!1,e+=n;else{if("/"==n&&!i)break;"\\"==n?t=!0:e+=n}r=u();try{return(o=new RegExp(e,r)).raw_source=e,v("regexp",o)}catch(e){b(e.message)}}),k.next=p,k.peek=f,k.context=function(e){return e&&(l=e),l},k.add_directive=function(e){l.directive_stack[l.directive_stack.length-1].push(e),void 0===l.directives[e]?l.directives[e]=1:l.directives[e]++},k.push_directives_stack=function(){l.directive_stack.push([])},k.pop_directives_stack=function(){for(var e=l.directive_stack[l.directive_stack.length-1],n=0;n<e.length;n++)l.directives[e[n]]--;l.directive_stack.pop()},k.has_directive=function(e){return l.directives[e]>0},k}(e,n.filename,n.html5_comments,n.shebang):e,token:null,prev:null,peeked:null,in_function:0,in_async:-1,in_generator:-1,in_directives:!0,in_loop:0,labels:[]}).token=W(),i=bn(function(e){var r,c,l,f,p,d,h,m,g,_,v,D,E,N;switch(zn(),t.token.type){case"string":return t.in_directives&&(r=P(),-1==t.token.raw.indexOf("\\")&&(fi(r,"punc",";")||fi(r,"punc","}")||He(r)||fi(r,"eof"))?t.input.add_directive(t.token.value):t.in_directives=!1),c=t.in_directives,l=Yn(),c?new y(l.body):l;case"template_head":case"num":case"regexp":case"operator":case"atom":return Yn();case"name":return"async"==t.token.value&&fi(P(),"keyword","function")?(W(),W(),o(U,!1,!0,e)):"import"!=t.token.value||fi(P(),"punc","(")?fi(P(),"punc",":")?function(){var e,n=mt(tn);return"await"===n.name&&gn()&&ie(t.prev,"await cannot be used as label inside async function"),$t(function(e){return e.name==n.name},t.labels)&&Z("Label "+n.name+" defined twice"),Re(":"),t.labels.push(n),e=i(),t.labels.pop(),e instanceof k||n.references.forEach(function(e){e instanceof ee&&(e=e.label.start,Z("Continue label `"+n.name+"` refers to non-IterationStatement.",e.line,e.col,e.pos))}),new C({body:e,label:n})}():Yn():(W(),N=Y(),S("name")&&(v=mt(en)),S("punc",",")&&W(),((D=ft(!0))||v)&&Ne("name","from"),"string"!==(E=t.token).type&&Ee(),W(),f=new he({start:N,imported_name:v,imported_names:D,module_name:new fn({start:E,value:E.value,quote:E.quote,end:E}),end:t.token}),_n(),f);case"punc":switch(t.token.value){case"{":return new A({start:t.token,body:nt(),end:Y()});case"[":case"(":return Yn();case";":return t.in_directives=!1,W(),new F;default:Ee()}case"keyword":switch(t.token.value){case"break":return W(),Xn(K);case"continue":return W(),Xn(ee);case"debugger":return W(),_n(),new b;case"do":return W(),p=bt(i),Ne("keyword","while"),d=Dn(),_n(!0),new B({body:p,condition:d});case"while":return W(),new T({condition:Dn(),body:bt(i)});case"for":return W(),Re("("),m=null,!S("punc",";")&&(m=S("keyword","var")?(W(),s(!0)):S("keyword","let")?(W(),a(!0)):S("keyword","const")?(W(),u(!0)):x(!0,!0),g=S("operator","in"),_=S("name","of"),g||_)?(m instanceof ce?m.definitions.length>1&&Z("Only one variable declaration allowed in for..in loop",m.start.line,m.start.col,m.start.pos):vt(m)||(m=Dt(m))instanceof H||Z("Invalid left-hand side in for..in loop",m.start.line,m.start.col,m.start.pos),W(),g?function(e){var n=x(!0);return Re(")"),new $({init:e,object:n,body:bt(i)})}(m):function(e){var n=e instanceof ce?e.definitions[0].name:null,t=x(!0);return Re(")"),new M({init:e,name:n,object:t,body:bt(i)})}(m)):function(e){var n,t;return Re(";"),n=S("punc",";")?null:x(!0),Re(";"),t=S("punc",")")?null:x(!0),Re(")"),new O({init:e,condition:n,step:t,body:bt(i)})}(m);case"class":return W(),ut(Le);case"function":return W(),o(U,!1,!1,e);case"if":return W(),function(){var e=Dn(),n=i(),t=null;return S("keyword","else")&&(W(),t=i()),new ne({condition:e,body:n,alternative:t})}();case"return":return 0!=t.in_function||n.bare_returns||Z("'return' outside of function"),W(),h=null,S("punc",";")?W():ln()||(h=x(!0),_n()),new X({value:h});case"switch":return W(),new te({expression:Dn(),body:bt(tt)});case"throw":return W(),He(t.token)&&Z("Illegal newline after 'throw'"),h=x(!0),_n(),new Q({value:h});case"try":return W(),function(){var e,n,i=nt(),r=null,o=null;return S("keyword","catch")&&(e=t.token,W(),Re("("),n=Zn(void 0,Ke),Re(")"),r=new ae({start:e,argname:n,body:nt(),end:Y()})),S("keyword","finally")&&(e=t.token,W(),o=new ue({start:e,body:nt(),end:Y()})),r||o||Z("Missing catch/finally blocks"),new se({body:i,bcatch:r,bfinally:o})}();case"var":return W(),f=s(),_n(),f;case"let":return W(),f=a(),_n(),f;case"const":return W(),f=u(),_n(),f;case"with":return t.input.has_directive("use strict")&&Z("Strict mode may not include a with statement"),W(),new j({expression:Dn(),body:i()});case"export":if(!fi(P(),"punc","("))return W(),function(){var e,n,r,o,s,a,u=t.token;if(S("keyword","default"))e=!0,W();else if(n=ft(!1))return S("name","from")?(W(),"string"!==(a=t.token).type&&Ee(),W(),new me({start:u,is_default:e,exported_names:n,module_name:new fn({start:a,value:a.value,quote:a.quote,end:a}),end:Y()})):new me({start:u,is_default:e,exported_names:n,end:Y()});return S("punc","{")||e&&(S("keyword","class")||S("keyword","function"))&&fi(P(),"punc")?(o=x(!1),_n()):(r=i(e))instanceof ce&&e?Ee(r.start):r instanceof ce||r instanceof I||r instanceof Le?s=r:r instanceof w?o=r.body:Ee(r.start),new me({start:u,is_default:e,exported_value:o,exported_definition:s,end:Y()})}()}}Ee()}),r=function(e,n,i){He(t.token)&&Z("Unexpected newline before arrow (=>)"),Ne("arrow","=>");var r=et(S("punc","{"),!1,i);return new z({start:e,end:r.end,async:i,argnames:n,body:r})},o=function(e,n,t,i){var r,o,s,a,u;return n&&t&&Z("generators cannot be async"),r=e===U,(o=S("operator","*"))&&W(),s=S("name")?mt(r?We:Xe):null,r&&!s&&(i?e=q:Ee()),!s||e===R||s instanceof ze||Ee(Y()),a=[],u=et(!0,o||n,t,s,a),new e({start:a.start,end:u.end,is_generator:o,async:t,name:s,argnames:a,body:u})},s=function(e){return new le({start:Y(),definitions:it(e,"var"),end:Y()})},a=function(e){return new fe({start:Y(),definitions:it(e,"let"),end:Y()})},u=function(e){return new pe({start:Y(),definitions:it(e,"const"),end:Y()})},c=function(e,i){var s,a,u,f,h,m,g,_,v,D;if(S("operator","new"))return function(e){var i,r,o,s=t.token;return Ne("operator","new"),S("punc",".")?(W(),Ne("name","target"),d(new qe({start:s,end:Y()}),e)):(r=c(!1),S("punc","(")?(W(),i=at(")",n.ecma>=8)):i=[],gt(o=new ve({start:s,expression:r,args:i,end:Y()})),d(o,e))}(e);if(s=t.token,a=S("name","async")&&rt(),S("punc")){switch(t.token.value){case"(":if(a&&!e)break;return u=function(e,i){var r,o,s,a=[];for(Re("(");!S("punc",")");)r&&Ee(r),S("expand","...")?(r=t.token,i&&(o=t.token),W(),a.push(new L({start:Y(),expression:x(),end:t.token}))):a.push(x()),S("punc",")")||(Re(","),S("punc",")")&&(n.ecma<8&&Ee(),s=Y(),i&&(o=s)));return Re(")"),e&&S("arrow","=>")?r&&s&&Ee(s):o&&Ee(o),a}(i,!a),i&&S("arrow","=>")?r(s,u.map(ot),!!a):((f=a?new _e({expression:a,args:u}):1==u.length?u[0]:new De({expressions:u})).start&&(h=s.comments_before.length,[].unshift.apply(f.start.comments_before,s.comments_before),s.comments_before=f.start.comments_before,s.comments_before_length=h,0==h&&s.comments_before.length>0&&((m=s.comments_before[0]).nlb||(m.nlb=s.nlb,s.nlb=!1)),s.comments_after=f.start.comments_after),f.start=s,g=Y(),f.end&&(g.comments_before=f.end.comments_before,[].push.apply(f.end.comments_after,g.comments_after),g.comments_after=f.end.comments_after),f.end=g,f instanceof _e&&gt(f),d(f,e));case"[":return d(l(),e);case"{":return d(p(),e)}a||Ee()}return i&&S("name")&&fi(P(),"arrow")?(_=new Je({name:t.token.value,start:s,end:s}),W(),r(s,[_],!!a)):S("keyword","function")?(W(),(v=o(q,!1,!!a)).start=s,v.end=Y(),d(v,e)):a?d(a,e):S("keyword","class")?(W(),(D=ut(Ie)).start=s,D.end=Y(),d(D,e)):S("template_head")?d(st(),e):Wn(t.token.type)?d(rt(),e):void Ee()},l=bn(function(){return Re("["),new Be({elements:at("]",!n.strict,!0)})}),f=bn(function(e,n){return o(R,e,n)}),p=bn(function(){var e,i,r,o=t.token,s=!0,a=[];for(Re("{");!S("punc","}")&&(s?s=!1:Re(","),n.strict||!S("punc","}"));)if("expand"!=(o=t.token).type){if(i=pt(),S("punc",":"))null===i?Ee(Y()):(W(),e=x(!1));else{if(r=ct(i,o)){a.push(r);continue}e=new rn({start:Y(),name:i,end:Y()})}S("operator","=")&&(W(),e=new ke({start:o,left:e,operator:"=",right:x(!1),end:Y()})),a.push(new $e({start:o,quote:o.quote,key:i instanceof v?i:""+i,value:e,end:Y()}))}else W(),a.push(new L({start:o,expression:x(!1),end:Y()}));return W(),new Te({properties:a})}),d=function(e,n){var i,r,o,s=e.start;return S("punc",".")?(W(),d(new ye({start:s,expression:e,property:(i=t.token,"name"!=i.type&&Ee(),W(),i.value),end:Y()}),n)):S("punc","[")?(W(),r=x(!0),Re("]"),d(new we({start:s,expression:e,property:r,end:Y()}),n)):n&&S("punc","(")?(W(),gt(o=new _e({start:s,expression:e,args:h(),end:Y()})),d(o,!0)):S("template_head")?d(new V({start:s,prefix:e,template_string:st()}),n):e},h=bn(function(){for(var e=[];!S("punc",")");)S("expand","...")?(W(),e.push(new L({start:Y(),expression:x(!1)}))):e.push(x(!1)),S("punc",")")||(Re(","),S("punc",")")&&n.ecma<8&&Ee());return W(),e}),m=function(e,n){var i,r,o=t.token;if("name"==o.type&&"await"==o.value){if(gn())return W(),gn()||Z("Unexpected await expression outside async function",t.prev.line,t.prev.col,t.prev.pos),new En({expression:m(!0)});t.input.has_directive("use strict")&&ie(t.token,"Unexpected await identifier inside strict mode")}if(S("operator")&&Hn(o.value))return W(),zn(),(i=_t(Ae,o,m(e))).start=o,i.end=Y(),i;for(r=c(e,n);S("operator")&&Vn(t.token.value)&&!He(t.token);)r instanceof z&&Ee(),(r=_t(Fe,t.token,r)).start=o,r.end=t.token,W();return r},g=function(e,n,i){var r,o,s=S("operator")?t.token.value:null;return"in"==s&&i&&(s=null),"**"==s&&e instanceof Ae&&!fi(e.start,"punc","(")&&"--"!==e.operator&&"++"!==e.operator&&Ee(e.start),null!=(r=null!=s?Jn[s]:null)&&(r>n||"**"===s&&n===r)?(W(),o=g(m(!0),r,i),g(new xe({start:e.start,left:e,operator:s,right:o,end:o.end}),n,i)):e},D=function(e){var n,i=t.token,r=function(e){return g(m(!0,!0),0,e)}(e);return S("operator","?")?(W(),n=x(!1),Re(":"),new Ce({start:i,condition:r,consequent:n,alternative:x(!1,e),end:Y()})):r},E=function(e){var n,i,r=t.token;if("name"==r.type&&"yield"==r.value){if(hn())return W(),function(){hn()||Z("Unexpected yield expression outside generator function",t.prev.line,t.prev.col,t.prev.pos);var e=!1,n=!0;return ln()||S("punc")&&In(t.token.value)?n=!1:S("operator","*")&&(e=!0,W()),new An({is_star:e,expression:n?x():null})}();t.input.has_directive("use strict")&&ie(t.token,"Unexpected yield identifier inside strict mode")}if(n=D(e),i=t.token.value,S("operator")&&Gn(i)){if(vt(n)||(n=Dt(n))instanceof H)return W(),new ke({start:r,left:n,operator:i,right:E(e),end:Y()});Z("Invalid assignment")}return n},x=function(e,n){for(var i=t.token,r=[];r.push(E(n)),e&&S("punc",",");)W(),e=!0;return 1==r.length?r[0]:new De({start:i,expressions:r,end:P()})},n.expression?x(!0):function(){var e,r,o=t.token,s=[];for(t.input.push_directives_stack();!S("eof");)s.push(i());return t.input.pop_directives_stack(),e=Y(),(r=n.toplevel)?(r.body=r.body.concat(s),r.end=e):r=new N({start:o,body:s,end:e}),r}()}function di(e,n){ei.call(this),this.before=e,this.after=n}function hi(e,n,t){this.name=n.name,this.orig=[n],this.init=t,this.eliminated=0,this.scope=e,this.references=[],this.replaced=0,this.global=!1,this.export=!1,this.mangled_name=null,this.undeclared=!1,this.id=hi.next_id++}function mi(e,n){var t,i,r,o=e.enclosed;e:for(;;)if(oi(t=Yn(++e.cname))&&!Ot(t,n.reserved)){for(i=o.length;--i>=0;)if(t==((r=o[i]).mangled_name||r.unmangleable(n)&&r.name))continue e;return t}}function gi(e){return"comment2"==e.type&&/@preserve|@license|@cc_on/i.test(e.value)}function _i(e){var n,t,i,r,o,s,a,u,c,l,f,p,d,h,m,g,_,b,y,w,E,A,F,x,C,k,S,B,T=!e;function O(n,t){var i=function(n,t){var i=0,r=0;function o(){return"'"+n.replace(/\x27/g,"\\'")+"'"}function s(){return'"'+n.replace(/\x22/g,'\\"')+'"'}if(n=n.replace(/[\\\b\f\n\r\v\t\x22\x27\u2028\u2029\0\ufeff]/g,function(t,o){switch(t){case'"':return++i,'"';case"'":return++r,"'";case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\v":return e.ie8?"\\x0B":"\\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case"\ufeff":return"\\ufeff";case"\0":return/[0-9]/.test(ni(n,o+1))?"\\x00":"\\0"}return t}),n=c(n),"`"===t)return"`"+n.replace(/`/g,"\\`")+"`";switch(e.quote_style){case 1:return o();case 2:return s();case 3:return"'"==t?o():s();default:return i>r?o():s()}}(n,t);return e.inline_script&&(i=(i=(i=i.replace(/<\x2fscript([>\/\t\n\f\r ])/gi,"<\\/script$1")).replace(/\x3c!--/g,"\\x3c!--")).replace(/--\x3e/g,"--\\x3e")),i}function $(n){var t,i,r,c=ni(n=String(n),0),v=ni(b,b.length-1);if(m&&c&&(m=!1,"\n"!=c&&($("\n"),x())),g&&c&&(g=!1,/[\s;})]/.test(c)||F()),_=-1,v=b.charAt(b.length-1),d&&(d=!1,(":"==v&&"}"==c||(!c||";}".indexOf(c)<0)&&";"!=v)&&(e.semicolons||A(c)?(u+=";",o++,a++):(E(),u+="\n",a++,s++,o=0,/^\s+$/.test(n)&&(d=!0)),e.beautify||(p=!1))),!e.beautify&&e.preserve_line&&B[B.length-1])for(t=B[B.length-1].start.line;s<t;)E(),u+="\n",a++,s++,o=0,p=!1;p&&((ai(v)&&(ai(c)||"\\"==c)||"/"==c&&c==v||("+"==c||"-"==c)&&c==b)&&(u+=" ",o++,a++),p=!1),l&&(y.push({token:l,name:f,line:s,col:o}),l=!1,h||w()),u+=n,a+=n.length,r=(i=n.split(/\r?\n/)).length-1,s+=r,o+=i[0].length,r>0&&(E(),o=i[r].length),b=n}function M(){d=!1,$(";")}function j(){return r+e.indent_level}function P(){return h&&E(),u}function N(){var e=u.lastIndexOf("\n");return/^ *$/.test(u.slice(e+1))}return void 0===(e=Pt(e,{ascii_only:!1,beautify:!1,bracketize:!1,comments:!1,ecma:5,ie8:!1,indent_level:4,indent_start:0,inline_script:!0,keep_quoted_props:!1,max_line_len:!1,preamble:null,preserve_line:!1,quote_keys:!1,quote_style:0,safari10:!1,semicolons:!0,shebang:!0,shorthand:void 0,source_map:null,webkit:!1,width:80,wrap_iife:!1},!0)).shorthand&&(e.shorthand=e.ecma>5),n=It,e.comments&&(t=e.comments,"string"==typeof e.comments&&/^\/.*\/[a-zA-Z]*$/.test(e.comments)&&(i=e.comments.lastIndexOf("/"),t=new RegExp(e.comments.substr(1,i-1),e.comments.substr(i+1))),n=t instanceof RegExp?function(e){return"comment5"!=e.type&&t.test(e.value)}:"function"==typeof t?function(e){return"comment5"!=e.type&&t(this,e)}:"some"===t?gi:Rt),r=0,o=0,s=1,a=0,u="",c=e.ascii_only?function(n,t){return e.ecma>=6&&(n=n.replace(/[\ud800-\udbff][\udc00-\udfff]/g,function(e){var n;return"\\u{"+(n=e,ti(n.charAt(0))?65536+(n.charCodeAt(0)-55296<<10)+n.charCodeAt(1)-56320:n.charCodeAt(0)).toString(16)+"}"})),n.replace(/[\u0000-\u001f\u007f-\uffff]/g,function(e){var n=e.charCodeAt(0).toString(16);if(n.length<=2&&!t){for(;n.length<2;)n="0"+n;return"\\x"+n}for(;n.length<4;)n="0"+n;return"\\u"+n})}:function(e){for(var n="",t=0,i=e.length;t<i;t++)ti(e[t])&&!ii(e[t+1])||ii(e[t])&&!ti(e[t-1])?n+="\\u"+e.charCodeAt(t).toString(16):n+=e[t];return n},p=!1,d=!1,h=0,m=!1,g=!1,_=-1,b="",y=e.source_map&&[],w=y?function(){y.forEach(function(n){try{e.source_map.add(n.token.file,n.line,n.col,n.token.line,n.token.col,n.name||"name"!=n.token.type?n.name:n.token.value)}catch(e){v.warn("Couldn't figure out mapping for {file}:{line},{col} → {cline},{ccol} [{name}]",{file:n.token.file,line:n.token.line,col:n.token.col,cline:n.line,ccol:n.col,name:n.name||""})}}),y=[]}:Lt,E=e.max_line_len?function(){var n,t,i;o>e.max_line_len&&(h&&(n=u.slice(0,h),t=u.slice(h),y&&(i=t.length-o,y.forEach(function(e){e.line++,e.col+=i})),u=n+"\n"+t,s++,a++,o=t.length),o>e.max_line_len&&v.warn("Output exceeds {max_line_len} characters",e)),h&&(h=0,w())}:Lt,A=Jt("( [ + * / - , . `"),F=e.beautify?function(){$(" ")}:function(){p=!0},x=e.beautify?function(n){var t;e.beautify&&$((t=n?.5:0,function e(n,t){if(t<=0)return"";if(1==t)return n;var i=e(n,t>>1);return i+=i,1&t&&(i+=n),i}(" ",e.indent_start+r-t*e.indent_level)))}:Lt,C=e.beautify?function(e,n){var t,i;return!0===e&&(e=j()),t=r,r=e,i=n(),r=t,i}:function(e,n){return n()},k=e.beautify?function(){if(_<0)return $("\n");"\n"!=u[_]&&(u=u.slice(0,_)+"\n"+u.slice(_),a++,s++),_++}:e.max_line_len?function(){E(),h=u.length}:Lt,S=e.beautify?function(){$(";")}:function(){d=!0},B=[],{get:P,toString:P,indent:x,indentation:function(){return r},current_width:function(){return o-r},should_break:function(){return e.width&&this.current_width()>=e.width},newline:k,print:$,star:function(){$("*")},space:F,comma:function(){$(","),F()},colon:function(){$(":"),F()},last:function(){return b},semicolon:S,force_semicolon:M,to_utf8:c,print_name:function(e){$(function(e){return e=e.toString(),c(e,!0)}(e))},print_string:function(e,n,t){var i=O(e,n);!0===t&&-1===i.indexOf("\\")&&(Xn.test(u)||M(),M()),$(i)},print_template_string_chars:function(e){var n=O(e,"`").replace(/\${/g,"\\${");return $(n.substr(1,n.length-2))},encode_string:O,next_indent:j,with_indent:C,with_block:function(e){var n;return $("{"),k(),C(j(),function(){n=e()}),x(),$("}"),n},with_parens:function(e){$("(");var n=e();return $(")"),n},with_square:function(e){$("[");var n=e();return $("]"),n},add_mapping:y?function(e,n){l=e,f=n}:Lt,option:function(n){return e[n]},prepend_comments:T?Lt:function(t){var i,r,o,s,u=this,c=t.start;!c||c.comments_before&&c.comments_before._dumped===u||((i=c.comments_before)||(i=c.comments_before=[]),i._dumped=u,t instanceof Y&&t.value&&((r=new ei(function(e){var n,t=r.parent();if(!(t instanceof Y||t instanceof xe&&t.left===e||"Call"==t.TYPE&&t.expression===e||t instanceof Ce&&t.condition===e||t instanceof ye&&t.expression===e||t instanceof De&&t.expressions[0]===e||t instanceof we&&t.expression===e||t instanceof Fe))return!0;e.start&&(n=e.start.comments_before)&&n._dumped!==u&&(n._dumped=u,i=i.concat(n))})).push(t),t.value.walk(r)),0==a&&(i.length>0&&e.shebang&&"comment5"==i[0].type&&($("#!"+i.shift().value+"\n"),x()),(o=e.preamble)&&$(o.replace(/\r\n?|[\n\u2028\u2029]|\s*$/g,"\n"))),0!=(i=i.filter(n,t)).length&&(s=N(),i.forEach(function(e,n){s||(e.nlb?($("\n"),x(),s=!0):n>0&&F()),/comment[134]/.test(e.type)?($("//"+e.value.replace(/[@#]__PURE__/g," ")+"\n"),x(),s=!0):"comment2"==e.type&&($("/*"+e.value.replace(/[@#]__PURE__/g," ")+"*/"),s=!1)}),s||(c.nlb?($("\n"),x()):F())))},append_comments:T||n===It?Lt:function(e,t){var i,r,o=e.end;o&&(i=o[t?"comments_before":"comments_after"])&&i._dumped!==this&&(e instanceof D||Wt(i,function(e){return!/comment[134]/.test(e.type)}))&&(i._dumped=this,r=u.length,i.filter(n,e).forEach(function(e,n){g=!1,m?($("\n"),x(),m=!1):e.nlb&&(n>0||!N())?($("\n"),x()):(n>0||!t)&&F(),/comment[134]/.test(e.type)?($("//"+e.value.replace(/[@#]__PURE__/g," ")),m=!0):"comment2"==e.type&&($("/*"+e.value.replace(/[@#]__PURE__/g," ")+"*/"),g=!0)}),u.length>r&&(_=r))},line:function(){return s},col:function(){return o},pos:function(){return a},push_node:function(e){B.push(e)},pop_node:function(){return B.pop()},parent:function(e){return B[B.length-2-(e||0)]}}}function vi(e,n){var t,i,r,o,s,a;if(!(this instanceof vi))return new vi(e,n);if(di.call(this,this.before,this.after),this.options=Pt(e,{arrows:!n,booleans:!n,collapse_vars:!n,comparisons:!n,computed_props:!n,conditionals:!n,dead_code:!n,drop_console:!1,drop_debugger:!n,ecma:5,evaluate:!n,expression:!1,global_defs:{},hoist_funs:!1,hoist_props:!n,hoist_vars:!1,ie8:!1,if_return:!n,inline:!n,join_vars:!n,keep_classnames:!1,keep_fargs:!0,keep_fnames:!1,keep_infinity:!1,loops:!n,negate_iife:!n,passes:1,properties:!n,pure_getters:!n&&"strict",pure_funcs:null,reduce_funcs:!n,reduce_vars:!n,sequences:!n,side_effects:!n,switches:!n,top_retain:null,toplevel:!(!e||!e.top_retain),typeofs:!n,unsafe:!1,unsafe_arrows:!1,unsafe_comps:!1,unsafe_Function:!1,unsafe_math:!1,unsafe_methods:!1,unsafe_proto:!1,unsafe_regexp:!1,unsafe_undefined:!1,unused:!n,warnings:!1},!0),"object"==typeof(t=this.options.global_defs))for(i in t)/^@/.test(i)&&Xt(t,i)&&(t[i.slice(1)]=pi(t[i],{expression:!0}));!0===this.options.inline&&(this.options.inline=3),r=this.options.pure_funcs,this.pure_funcs="function"==typeof r?r:r?function(e){return r.indexOf(e.expression.print_to_string())<0}:Rt,(o=this.options.top_retain)instanceof RegExp?this.top_retain=function(e){return o.test(e.name)}:"function"==typeof o?this.top_retain=o:o&&("string"==typeof o&&(o=o.split(/,/)),this.top_retain=function(e){return o.indexOf(e.name)>=0}),s=this.options.toplevel,this.toplevel="string"==typeof s?{funcs:/funcs/.test(s),vars:/vars/.test(s)}:{funcs:s,vars:s},a=this.options.sequences,this.sequences_limit=1==a?800:0|a,this.warnings_produced={}}function Di(e,n){e.walk(new ei(function(e){return e instanceof De?Di(e.tail_node(),n):e instanceof fn?n(e.value):e instanceof Ce&&(Di(e.consequent,n),Di(e.alternative,n)),!0}))}function bi(e,n,t){n[e]&&t.forEach(function(t){n[t]&&("object"!=typeof n[t]&&(n[t]={}),e in n[t]||(n[t][e]=n[e]))})}function yi(e){e&&("props"in e?e.props instanceof Yt||(e.props=Yt.fromObject(e.props)):e.props=new Yt)}function wi(e){return{props:e.props.toObject()}}function Ei(e,n){return e[n]<<8|e[n+1]}(function(){var e;e=function(){return function(e){var n={};function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}return t.m=e,t.c=n,t.p="",t(0)}([function(e,n,t){n.SourceMapGenerator=t(1).SourceMapGenerator,n.SourceMapConsumer=t(7).SourceMapConsumer,n.SourceNode=t(10).SourceNode},function(e,n,t){var i=t(2),r=t(4),o=t(5).ArraySet,s=t(6).MappingList;function a(e){e||(e={}),this._file=r.getArg(e,"file",null),this._sourceRoot=r.getArg(e,"sourceRoot",null),this._skipValidation=r.getArg(e,"skipValidation",!1),this._sources=new o,this._names=new o,this._mappings=new s,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(e){var n=e.sourceRoot,t=new a({file:e.file,sourceRoot:n});return e.eachMapping(function(e){var i={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(i.source=e.source,null!=n&&(i.source=r.relative(n,i.source)),i.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(i.name=e.name)),t.addMapping(i)}),e.sources.forEach(function(i){var o,s=i;null!==n&&(s=r.relative(n,i)),t._sources.has(s)||t._sources.add(s),null!=(o=e.sourceContentFor(i))&&t.setSourceContent(i,o)}),t},a.prototype.addMapping=function(e){var n=r.getArg(e,"generated"),t=r.getArg(e,"original",null),i=r.getArg(e,"source",null),o=r.getArg(e,"name",null);this._skipValidation||this._validateMapping(n,t,i,o),null!=i&&(i=String(i),this._sources.has(i)||this._sources.add(i)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:n.line,generatedColumn:n.column,originalLine:null!=t&&t.line,originalColumn:null!=t&&t.column,source:i,name:o})},a.prototype.setSourceContent=function(e,n){var t=e;null!=this._sourceRoot&&(t=r.relative(this._sourceRoot,t)),null!=n?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[r.toSetString(t)]=n):this._sourcesContents&&(delete this._sourcesContents[r.toSetString(t)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(e,n,t){var i,s,a,u=n;if(null==n){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');u=e.file}null!=(i=this._sourceRoot)&&(u=r.relative(i,u)),s=new o,a=new o,this._mappings.unsortedForEach(function(n){var o,c,l;n.source===u&&null!=n.originalLine&&null!=(o=e.originalPositionFor({line:n.originalLine,column:n.originalColumn})).source&&(n.source=o.source,null!=t&&(n.source=r.join(t,n.source)),null!=i&&(n.source=r.relative(i,n.source)),n.originalLine=o.line,n.originalColumn=o.column,null!=o.name&&(n.name=o.name)),null==(c=n.source)||s.has(c)||s.add(c),null==(l=n.name)||a.has(l)||a.add(l)},this),this._sources=s,this._names=a,e.sources.forEach(function(n){var o=e.sourceContentFor(n);null!=o&&(null!=t&&(n=r.join(t,n)),null!=i&&(n=r.relative(i,n)),this.setSourceContent(n,o))},this)},a.prototype._validateMapping=function(e,n,t,i){if(n&&"number"!=typeof n.line&&"number"!=typeof n.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||n||t||i)&&!(e&&"line"in e&&"column"in e&&n&&"line"in n&&"column"in n&&e.line>0&&e.column>=0&&n.line>0&&n.column>=0&&t))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:t,original:n,name:i}))},a.prototype._serializeMappings=function(){for(var e,n,t,o,s=0,a=1,u=0,c=0,l=0,f=0,p="",d=this._mappings.toArray(),h=0,m=d.length;h<m;h++){if(e="",(n=d[h]).generatedLine!==a)for(s=0;n.generatedLine!==a;)e+=";",a++;else if(h>0){if(!r.compareByGeneratedPositionsInflated(n,d[h-1]))continue;e+=","}e+=i.encode(n.generatedColumn-s),s=n.generatedColumn,null!=n.source&&(o=this._sources.indexOf(n.source),e+=i.encode(o-f),f=o,e+=i.encode(n.originalLine-1-c),c=n.originalLine-1,e+=i.encode(n.originalColumn-u),u=n.originalColumn,null!=n.name&&(t=this._names.indexOf(n.name),e+=i.encode(t-l),l=t)),p+=e}return p},a.prototype._generateSourcesContent=function(e,n){return e.map(function(e){if(!this._sourcesContents)return null;null!=n&&(e=r.relative(n,e));var t=r.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,t)?this._sourcesContents[t]:null},this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},n.SourceMapGenerator=a},function(e,n,t){var i=t(3);n.encode=function(e){var n,t="",r=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{n=31&r,(r>>>=5)>0&&(n|=32),t+=i.encode(n)}while(r>0);return t},n.decode=function(e,n,t){var r,o,s,a,u=e.length,c=0,l=0;do{if(n>=u)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=i.decode(e.charCodeAt(n++))))throw new Error("Invalid base64 digit: "+e.charAt(n-1));r=!!(32&o),c+=(o&=31)<<l,l+=5}while(r);t.value=(a=(s=c)>>1,1==(1&s)?-a:a),t.rest=n}},function(e,n){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");n.encode=function(e){if(0<=e&&e<t.length)return t[e];throw new TypeError("Must be between 0 and 63: "+e)},n.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},function(e,n){var t,i,r;function o(e){var n=e.match(t);return n?{scheme:n[1],auth:n[2],host:n[3],port:n[4],path:n[5]}:null}function s(e){var n="";return e.scheme&&(n+=e.scheme+":"),n+="//",e.auth&&(n+=e.auth+"@"),e.host&&(n+=e.host),e.port&&(n+=":"+e.port),e.path&&(n+=e.path),n}function a(e){var t,i,r,a,u,c=e,l=o(e);if(l){if(!l.path)return e;c=l.path}for(i=n.isAbsolute(c),a=0,u=(r=c.split(/\/+/)).length-1;u>=0;u--)"."===(t=r[u])?r.splice(u,1):".."===t?a++:a>0&&(""===t?(r.splice(u+1,a),a=0):(r.splice(u,2),a--));return""===(c=r.join("/"))&&(c=i?"/":"."),l?(l.path=c,s(l)):c}function u(e,n){var t,r,u;return""===e&&(e="."),""===n&&(n="."),t=o(n),(r=o(e))&&(e=r.path||"/"),t&&!t.scheme?(r&&(t.scheme=r.scheme),s(t)):t||n.match(i)?n:!r||r.host||r.path?(u="/"===n.charAt(0)?n:a(e.replace(/\/+$/,"")+"/"+n),r?(r.path=u,s(r)):u):(r.host=n,s(r))}function c(e){return e}function l(e){var n,t;if(!e)return!1;if((n=e.length)<9)return!1;if(95!==e.charCodeAt(n-1)||95!==e.charCodeAt(n-2)||111!==e.charCodeAt(n-3)||116!==e.charCodeAt(n-4)||111!==e.charCodeAt(n-5)||114!==e.charCodeAt(n-6)||112!==e.charCodeAt(n-7)||95!==e.charCodeAt(n-8)||95!==e.charCodeAt(n-9))return!1;for(t=n-10;t>=0;t--)if(36!==e.charCodeAt(t))return!1;return!0}function f(e,n){return e===n?0:null===e?1:null===n?-1:e>n?1:-1}n.getArg=function(e,n,t){if(n in e)return e[n];if(3===arguments.length)return t;throw new Error('"'+n+'" is a required argument.')},t=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,i=/^data:.+\,.+$/,n.urlParse=o,n.urlGenerate=s,n.normalize=a,n.join=u,n.isAbsolute=function(e){return"/"===e.charAt(0)||t.test(e)},n.relative=function(e,n){var t,i;for(""===e&&(e="."),e=e.replace(/\/$/,""),t=0;0!==n.indexOf(e+"/");){if((i=e.lastIndexOf("/"))<0)return n;if((e=e.slice(0,i)).match(/^([^\/]+:\/)?\/*$/))return n;++t}return Array(t+1).join("../")+n.substr(e.length+1)},r=!("__proto__"in Object.create(null)),n.toSetString=r?c:function(e){return l(e)?"$"+e:e},n.fromSetString=r?c:function(e){return l(e)?e.slice(1):e},n.compareByOriginalPositions=function(e,n,t){var i=f(e.source,n.source);return 0!==i?i:0!=(i=e.originalLine-n.originalLine)?i:0!=(i=e.originalColumn-n.originalColumn)||t?i:0!=(i=e.generatedColumn-n.generatedColumn)?i:0!=(i=e.generatedLine-n.generatedLine)?i:f(e.name,n.name)},n.compareByGeneratedPositionsDeflated=function(e,n,t){var i=e.generatedLine-n.generatedLine;return 0!==i?i:0!=(i=e.generatedColumn-n.generatedColumn)||t?i:0!==(i=f(e.source,n.source))?i:0!=(i=e.originalLine-n.originalLine)?i:0!=(i=e.originalColumn-n.originalColumn)?i:f(e.name,n.name)},n.compareByGeneratedPositionsInflated=function(e,n){var t=e.generatedLine-n.generatedLine;return 0!==t?t:0!=(t=e.generatedColumn-n.generatedColumn)?t:0!==(t=f(e.source,n.source))?t:0!=(t=e.originalLine-n.originalLine)?t:0!=(t=e.originalColumn-n.originalColumn)?t:f(e.name,n.name)},n.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},n.computeSourceURL=function(e,n,t){var i,r;if(n=n||"",e&&("/"!==e[e.length-1]&&"/"!==n[0]&&(e+="/"),n=e+n),t){if(!(i=o(t)))throw new Error("sourceMapURL could not be parsed");i.path&&(r=i.path.lastIndexOf("/"))>=0&&(i.path=i.path.substring(0,r+1)),n=u(s(i),n)}return a(n)}},function(e,n,t){var i=t(4),r=Object.prototype.hasOwnProperty,o="undefined"!=typeof Map;function s(){this._array=[],this._set=o?new Map:Object.create(null)}s.fromArray=function(e,n){for(var t=new s,i=0,r=e.length;i<r;i++)t.add(e[i],n);return t},s.prototype.size=function(){return o?this._set.size:Object.getOwnPropertyNames(this._set).length},s.prototype.add=function(e,n){var t=o?e:i.toSetString(e),s=o?this.has(e):r.call(this._set,t),a=this._array.length;s&&!n||this._array.push(e),s||(o?this._set.set(e,a):this._set[t]=a)},s.prototype.has=function(e){if(o)return this._set.has(e);var n=i.toSetString(e);return r.call(this._set,n)},s.prototype.indexOf=function(e){var n,t;if(o){if((n=this._set.get(e))>=0)return n}else if(t=i.toSetString(e),r.call(this._set,t))return this._set[t];throw new Error('"'+e+'" is not in the set.')},s.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},s.prototype.toArray=function(){return this._array.slice()},n.ArraySet=s},function(e,n,t){var i=t(4);function r(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}r.prototype.unsortedForEach=function(e,n){this._array.forEach(e,n)},r.prototype.add=function(e){var n,t,r,o,s,a;t=e,r=(n=this._last).generatedLine,o=t.generatedLine,s=n.generatedColumn,a=t.generatedColumn,o>r||o==r&&a>=s||i.compareByGeneratedPositionsInflated(n,t)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},r.prototype.toArray=function(){return this._sorted||(this._array.sort(i.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},n.MappingList=r},function(e,n,t){var i=t(4),r=t(8),o=t(5).ArraySet,s=t(2),a=t(9).quickSort;function u(e,n){var t=e;return"string"==typeof e&&(t=i.parseSourceMapInput(e)),null!=t.sections?new f(t,n):new c(t,n)}function c(e,n){var t,r,s,a,u,c,l,f=e;if("string"==typeof e&&(f=i.parseSourceMapInput(e)),t=i.getArg(f,"version"),r=i.getArg(f,"sources"),s=i.getArg(f,"names",[]),a=i.getArg(f,"sourceRoot",null),u=i.getArg(f,"sourcesContent",null),c=i.getArg(f,"mappings"),l=i.getArg(f,"file",null),t!=this._version)throw new Error("Unsupported version: "+t);a&&(a=i.normalize(a)),r=r.map(String).map(i.normalize).map(function(e){return a&&i.isAbsolute(a)&&i.isAbsolute(e)?i.relative(a,e):e}),this._names=o.fromArray(s.map(String),!0),this._sources=o.fromArray(r,!0),this._absoluteSources=this._sources.toArray().map(function(e){return i.computeSourceURL(a,e,n)}),this.sourceRoot=a,this.sourcesContent=u,this._mappings=c,this._sourceMapURL=n,this.file=l}function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function f(e,n){var t,r,s,a=e;if("string"==typeof e&&(a=i.parseSourceMapInput(e)),t=i.getArg(a,"version"),r=i.getArg(a,"sections"),t!=this._version)throw new Error("Unsupported version: "+t);this._sources=new o,this._names=new o,s={line:-1,column:0},this._sections=r.map(function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=i.getArg(e,"offset"),r=i.getArg(t,"line"),o=i.getArg(t,"column");if(r<s.line||r===s.line&&o<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=t,{generatedOffset:{generatedLine:r+1,generatedColumn:o+1},consumer:new u(i.getArg(e,"map"),n)}})}u.fromSourceMap=function(e,n){return c.fromSourceMap(e,n)},u.prototype._version=3,u.prototype.__generatedMappings=null,Object.defineProperty(u.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),u.prototype.__originalMappings=null,Object.defineProperty(u.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),u.prototype._charIsMappingSeparator=function(e,n){var t=e.charAt(n);return";"===t||","===t},u.prototype._parseMappings=function(e,n){throw new Error("Subclasses must implement _parseMappings")},u.GENERATED_ORDER=1,u.ORIGINAL_ORDER=2,u.GREATEST_LOWER_BOUND=1,u.LEAST_UPPER_BOUND=2,u.prototype.eachMapping=function(e,n,t){var r,o,s=n||null;switch(t||u.GENERATED_ORDER){case u.GENERATED_ORDER:r=this._generatedMappings;break;case u.ORIGINAL_ORDER:r=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}o=this.sourceRoot,r.map(function(e){var n=null===e.source?null:this._sources.at(e.source);return{source:n=i.computeSourceURL(o,n,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,s)},u.prototype.allGeneratedPositionsFor=function(e){var n,t,o,s,a,u=i.getArg(e,"line"),c={source:i.getArg(e,"source"),originalLine:u,originalColumn:i.getArg(e,"column",0)};if(c.source=this._findSourceIndex(c.source),c.source<0)return[];if(n=[],(t=this._findMapping(c,this._originalMappings,"originalLine","originalColumn",i.compareByOriginalPositions,r.LEAST_UPPER_BOUND))>=0)if(o=this._originalMappings[t],void 0===e.column)for(s=o.originalLine;o&&o.originalLine===s;)n.push({line:i.getArg(o,"generatedLine",null),column:i.getArg(o,"generatedColumn",null),lastColumn:i.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++t];else for(a=o.originalColumn;o&&o.originalLine===u&&o.originalColumn==a;)n.push({line:i.getArg(o,"generatedLine",null),column:i.getArg(o,"generatedColumn",null),lastColumn:i.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++t];return n},n.SourceMapConsumer=u,c.prototype=Object.create(u.prototype),c.prototype.consumer=u,c.prototype._findSourceIndex=function(e){var n,t=e;if(null!=this.sourceRoot&&(t=i.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);for(n=0;n<this._absoluteSources.length;++n)if(this._absoluteSources[n]==e)return n;return-1},c.fromSourceMap=function(e,n){var t,r,s,u,f,p,d,h=Object.create(c.prototype),m=h._names=o.fromArray(e._names.toArray(),!0),g=h._sources=o.fromArray(e._sources.toArray(),!0);for(h.sourceRoot=e._sourceRoot,h.sourcesContent=e._generateSourcesContent(h._sources.toArray(),h.sourceRoot),h.file=e._file,h._sourceMapURL=n,h._absoluteSources=h._sources.toArray().map(function(e){return i.computeSourceURL(h.sourceRoot,e,n)}),t=e._mappings.toArray().slice(),r=h.__generatedMappings=[],s=h.__originalMappings=[],u=0,f=t.length;u<f;u++)p=t[u],(d=new l).generatedLine=p.generatedLine,d.generatedColumn=p.generatedColumn,p.source&&(d.source=g.indexOf(p.source),d.originalLine=p.originalLine,d.originalColumn=p.originalColumn,p.name&&(d.name=m.indexOf(p.name)),s.push(d)),r.push(d);return a(h.__originalMappings,i.compareByOriginalPositions),h},c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),c.prototype._parseMappings=function(e,n){for(var t,r,o,u,c,f=1,p=0,d=0,h=0,m=0,g=0,_=e.length,v=0,D={},b={},y=[],w=[];v<_;)if(";"===e.charAt(v))f++,v++,p=0;else if(","===e.charAt(v))v++;else{for((t=new l).generatedLine=f,u=v;u<_&&!this._charIsMappingSeparator(e,u);u++);if(o=D[r=e.slice(v,u)])v+=r.length;else{for(o=[];v<u;)s.decode(e,v,b),c=b.value,v=b.rest,o.push(c);if(2===o.length)throw new Error("Found a source, but no line and column");if(3===o.length)throw new Error("Found a source and line, but no column");D[r]=o}t.generatedColumn=p+o[0],p=t.generatedColumn,o.length>1&&(t.source=m+o[1],m+=o[1],t.originalLine=d+o[2],d=t.originalLine,t.originalLine+=1,t.originalColumn=h+o[3],h=t.originalColumn,o.length>4&&(t.name=g+o[4],g+=o[4])),w.push(t),"number"==typeof t.originalLine&&y.push(t)}a(w,i.compareByGeneratedPositionsDeflated),this.__generatedMappings=w,a(y,i.compareByOriginalPositions),this.__originalMappings=y},c.prototype._findMapping=function(e,n,t,i,o,s){if(e[t]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[t]);if(e[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[i]);return r.search(e,n,o,s)},c.prototype.computeColumnSpans=function(){var e,n,t;for(e=0;e<this._generatedMappings.length;++e)n=this._generatedMappings[e],e+1<this._generatedMappings.length&&(t=this._generatedMappings[e+1],n.generatedLine===t.generatedLine)?n.lastGeneratedColumn=t.generatedColumn-1:n.lastGeneratedColumn=1/0},c.prototype.originalPositionFor=function(e){var n,t,r,o={generatedLine:i.getArg(e,"line"),generatedColumn:i.getArg(e,"column")},s=this._findMapping(o,this._generatedMappings,"generatedLine","generatedColumn",i.compareByGeneratedPositionsDeflated,i.getArg(e,"bias",u.GREATEST_LOWER_BOUND));return s>=0&&(n=this._generatedMappings[s]).generatedLine===o.generatedLine?(null!==(t=i.getArg(n,"source",null))&&(t=this._sources.at(t),t=i.computeSourceURL(this.sourceRoot,t,this._sourceMapURL)),null!==(r=i.getArg(n,"name",null))&&(r=this._names.at(r)),{source:t,line:i.getArg(n,"originalLine",null),column:i.getArg(n,"originalColumn",null),name:r}):{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e})},c.prototype.sourceContentFor=function(e,n){var t,r,o,s;if(!this.sourcesContent)return null;if((t=this._findSourceIndex(e))>=0)return this.sourcesContent[t];if(o=e,null!=this.sourceRoot&&(o=i.relative(this.sourceRoot,o)),null!=this.sourceRoot&&(r=i.urlParse(this.sourceRoot))){if(s=o.replace(/^file:\/\//,""),"file"==r.scheme&&this._sources.has(s))return this.sourcesContent[this._sources.indexOf(s)];if((!r.path||"/"==r.path)&&this._sources.has("/"+o))return this.sourcesContent[this._sources.indexOf("/"+o)]}if(n)return null;throw new Error('"'+o+'" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(e){var n,t,r,o=i.getArg(e,"source");return(o=this._findSourceIndex(o))<0?{line:null,column:null,lastColumn:null}:(n={source:o,originalLine:i.getArg(e,"line"),originalColumn:i.getArg(e,"column")},(t=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",i.compareByOriginalPositions,i.getArg(e,"bias",u.GREATEST_LOWER_BOUND)))>=0&&(r=this._originalMappings[t]).source===n.source?{line:i.getArg(r,"generatedLine",null),column:i.getArg(r,"generatedColumn",null),lastColumn:i.getArg(r,"lastGeneratedColumn",null)}:{line:null,column:null,lastColumn:null})},n.BasicSourceMapConsumer=c,f.prototype=Object.create(u.prototype),f.prototype.constructor=u,f.prototype._version=3,Object.defineProperty(f.prototype,"sources",{get:function(){var e,n,t;for(e=[],n=0;n<this._sections.length;n++)for(t=0;t<this._sections[n].consumer.sources.length;t++)e.push(this._sections[n].consumer.sources[t]);return e}}),f.prototype.originalPositionFor=function(e){var n={generatedLine:i.getArg(e,"line"),generatedColumn:i.getArg(e,"column")},t=r.search(n,this._sections,function(e,n){return e.generatedLine-n.generatedOffset.generatedLine||e.generatedColumn-n.generatedOffset.generatedColumn}),o=this._sections[t];return o?o.consumer.originalPositionFor({line:n.generatedLine-(o.generatedOffset.generatedLine-1),column:n.generatedColumn-(o.generatedOffset.generatedLine===n.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},f.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},f.prototype.sourceContentFor=function(e,n){var t,i;for(t=0;t<this._sections.length;t++)if(i=this._sections[t].consumer.sourceContentFor(e,!0))return i;if(n)return null;throw new Error('"'+e+'" is not in the SourceMap.')},f.prototype.generatedPositionFor=function(e){var n,t,r;for(n=0;n<this._sections.length;n++)if(-1!==(t=this._sections[n]).consumer._findSourceIndex(i.getArg(e,"source"))&&(r=t.consumer.generatedPositionFor(e)))return{line:r.line+(t.generatedOffset.generatedLine-1),column:r.column+(t.generatedOffset.generatedLine===r.line?t.generatedOffset.generatedColumn-1:0)};return{line:null,column:null}},f.prototype._parseMappings=function(e,n){var t,r,o,s,u,c,l,f;for(this.__generatedMappings=[],this.__originalMappings=[],t=0;t<this._sections.length;t++)for(o=(r=this._sections[t]).consumer._generatedMappings,s=0;s<o.length;s++)u=o[s],c=r.consumer._sources.at(u.source),c=i.computeSourceURL(r.consumer.sourceRoot,c,this._sourceMapURL),this._sources.add(c),c=this._sources.indexOf(c),l=null,u.name&&(l=r.consumer._names.at(u.name),this._names.add(l),l=this._names.indexOf(l)),f={source:c,generatedLine:u.generatedLine+(r.generatedOffset.generatedLine-1),generatedColumn:u.generatedColumn+(r.generatedOffset.generatedLine===u.generatedLine?r.generatedOffset.generatedColumn-1:0),originalLine:u.originalLine,originalColumn:u.originalColumn,name:l},this.__generatedMappings.push(f),"number"==typeof f.originalLine&&this.__originalMappings.push(f);a(this.__generatedMappings,i.compareByGeneratedPositionsDeflated),a(this.__originalMappings,i.compareByOriginalPositions)},n.IndexedSourceMapConsumer=f},function(e,n){n.GREATEST_LOWER_BOUND=1,n.LEAST_UPPER_BOUND=2,n.search=function(e,t,i,r){if(0===t.length)return-1;var o=function e(t,i,r,o,s,a){var u=Math.floor((i-t)/2)+t,c=s(r,o[u],!0);return 0===c?u:c>0?i-u>1?e(u,i,r,o,s,a):a==n.LEAST_UPPER_BOUND?i<o.length?i:-1:u:u-t>1?e(t,u,r,o,s,a):a==n.LEAST_UPPER_BOUND?u:t<0?-1:t}(-1,t.length,e,t,i,r||n.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&0===i(t[o],t[o-1],!0);)--o;return o}},function(e,n){function t(e,n,t){var i=e[n];e[n]=e[t],e[t]=i}n.quickSort=function(e,n){!function e(n,i,r,o){var s,a,u,c,l,f;if(r<o){for(s=r-1,t(n,(l=r,f=o,Math.round(l+Math.random()*(f-l))),o),a=n[o],u=r;u<o;u++)i(n[u],a)<=0&&t(n,s+=1,u);t(n,s+1,u),e(n,i,r,(c=s+1)-1),e(n,i,c+1,o)}}(e,n,0,e.length-1)}},function(e,n,t){var i=t(1).SourceMapGenerator,r=t(4),o=/(\r?\n)/,s="$$$isSourceNode$$$";function a(e,n,t,i,r){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==n?null:n,this.source=null==t?null:t,this.name=null==r?null:r,this[s]=!0,null!=i&&this.add(i)}a.fromStringWithSourceMap=function(e,n,t){var i=new a,s=e.split(o),u=0,c=function(){return e()+(e()||"");function e(){return u<s.length?s[u++]:void 0}},l=1,f=0,p=null;return n.eachMapping(function(e){var n,t;if(null!==p){if(!(l<e.generatedLine))return n=(t=s[u]||"").substr(0,e.generatedColumn-f),s[u]=t.substr(e.generatedColumn-f),f=e.generatedColumn,d(p,n),void(p=e);d(p,c()),l++,f=0}for(;l<e.generatedLine;)i.add(c()),l++;f<e.generatedColumn&&(t=s[u]||"",i.add(t.substr(0,e.generatedColumn)),s[u]=t.substr(e.generatedColumn),f=e.generatedColumn),p=e},this),u<s.length&&(p&&d(p,c()),i.add(s.splice(u).join(""))),n.sources.forEach(function(e){var o=n.sourceContentFor(e);null!=o&&(null!=t&&(e=r.join(t,e)),i.setSourceContent(e,o))}),i;function d(e,n){if(null===e||void 0===e.source)i.add(n);else{var o=t?r.join(t,e.source):e.source;i.add(new a(e.originalLine,e.originalColumn,o,n,e.name))}}},a.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},a.prototype.prepend=function(e){if(Array.isArray(e))for(var n=e.length-1;n>=0;n--)this.prepend(e[n]);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},a.prototype.walk=function(e){for(var n,t=0,i=this.children.length;t<i;t++)(n=this.children[t])[s]?n.walk(e):""!==n&&e(n,{source:this.source,line:this.line,column:this.column,name:this.name})},a.prototype.join=function(e){var n,t,i=this.children.length;if(i>0){for(n=[],t=0;t<i-1;t++)n.push(this.children[t]),n.push(e);n.push(this.children[t]),this.children=n}return this},a.prototype.replaceRight=function(e,n){var t=this.children[this.children.length-1];return t[s]?t.replaceRight(e,n):"string"==typeof t?this.children[this.children.length-1]=t.replace(e,n):this.children.push("".replace(e,n)),this},a.prototype.setSourceContent=function(e,n){this.sourceContents[r.toSetString(e)]=n},a.prototype.walkSourceContents=function(e){var n,t,i;for(n=0,t=this.children.length;n<t;n++)this.children[n][s]&&this.children[n].walkSourceContents(e);for(n=0,t=(i=Object.keys(this.sourceContents)).length;n<t;n++)e(r.fromSetString(i[n]),this.sourceContents[i[n]])},a.prototype.toString=function(){var e="";return this.walk(function(n){e+=n}),e},a.prototype.toStringWithSourceMap=function(e){var n={code:"",line:1,column:0},t=new i(e),r=!1,o=null,s=null,a=null,u=null;return this.walk(function(e,i){n.code+=e,null!==i.source&&null!==i.line&&null!==i.column?(o===i.source&&s===i.line&&a===i.column&&u===i.name||t.addMapping({source:i.source,original:{line:i.line,column:i.column},generated:{line:n.line,column:n.column},name:i.name}),o=i.source,s=i.line,a=i.column,u=i.name,r=!0):r&&(t.addMapping({generated:{line:n.line,column:n.column}}),o=null,r=!1);for(var c=0,l=e.length;c<l;c++)10===e.charCodeAt(c)?(n.line++,n.column=0,c+1===l?(o=null,r=!1):r&&t.addMapping({source:i.source,original:{line:i.line,column:i.column},generated:{line:n.line,column:n.column},name:i.name})):n.column++}),this.walkSourceContents(function(e,n){t.setSourceContent(e,n)}),{code:n.code,map:t}},n.SourceNode=a}])},"object"==typeof St&&"object"==typeof Bt?Bt.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof St?St.sourceMap=e():this.sourceMap=e()}).apply({}),Bt.exports.SourceMapGenerator,Bt.exports.SourceMapConsumer,Bt.exports.SourceNode,m={SourceMapGenerator:Bt.exports.SourceMapGenerator,SourceMapConsumer:Bt.exports.SourceMapConsumer,SourceNode:Bt.exports.SourceNode,VERSION:"0.6.1"},jt.prototype=Object.create(Error.prototype),jt.prototype.constructor=jt,jt.prototype.name="DefaultsError",Mt(jt),jt.croak=function(e,n){throw new jt(e,n)},g=function(){function e(e,o,s){var a,u=[],c=[];function l(){var l=o(e[a],a),f=l instanceof r;return f&&(l=l.v),l instanceof t?(l=l.v)instanceof i?c.push.apply(c,s?l.v.slice().reverse():l.v):c.push(l):l!==n&&(l instanceof i?u.push.apply(u,s?l.v.slice().reverse():l.v):u.push(l)),f}if(e instanceof Array)if(s){for(a=e.length;--a>=0&&!l(););u.reverse(),c.reverse()}else for(a=0;a<e.length&&!l();++a);else for(a in e)if(Xt(e,a)&&l())break;return c.concat(u)}e.at_top=function(e){return new t(e)},e.splice=function(e){return new i(e)},e.last=function(e){return new r(e)};var n=e.skip={};function t(e){this.v=e}function i(e){this.v=e}function r(e){this.v=e}return e}(),Yt.prototype={set:function(e,n){return this.has(e)||++this._size,this._values["$"+e]=n,this},add:function(e,n){return this.has(e)?this.get(e).push(n):this.set(e,[n]),this},get:function(e){return this._values["$"+e]},del:function(e){return this.has(e)&&(--this._size,delete this._values["$"+e]),this},has:function(e){return"$"+e in this._values},each:function(e){for(var n in this._values)e(this._values[n],n.substr(1))},size:function(){return this._size},map:function(e){var n,t=[];for(n in this._values)t.push(e(this._values[n],n.substr(1)));return t},clone:function(){var e,n=new Yt;for(e in this._values)n._values[e]=this._values[e];return n._size=this._size,n},toObject:function(){return this._values}},Yt.fromObject=function(e){var n=new Yt;return n._size=Nt(n._values,e),n},_=Zt("Token","type value line col pos endline endcol endpos nlb comments_before comments_after file raw",{},null),(v=Zt("Node","start end",{_clone:function(e){if(e){var n=this.clone();return n.transform(new di(function(e){if(e!==n)return e.clone(!0)}))}return new this.CTOR(this)},clone:function(e){return this._clone(e)},$documentation:"Base class of all AST nodes",$propdoc:{start:"[AST_Token] The first token of this node",end:"[AST_Token] The last token of this node"},_walk:function(e){return e._visit(this)},walk:function(e){return this._walk(e)}},null)).warn_function=null,v.warn=function(e,n){v.warn_function&&v.warn_function(Ht(e,n))},D=Zt("Statement",null,{$documentation:"Base class of all statements"}),b=Zt("Debugger",null,{$documentation:"Represents a debugger statement"},D),y=Zt("Directive","value quote",{$documentation:'Represents a directive, like "use strict";',$propdoc:{value:"[string] The value of this directive as a plain string (it's not an AST_String!)",quote:"[string] the original quote character"}},D),w=Zt("SimpleStatement","body",{$documentation:"A statement consisting of an expression, i.e. a = 1 + 2",$propdoc:{body:"[AST_Node] an expression node (should not be instanceof AST_Statement)"},_walk:function(e){return e._visit(this,function(){this.body._walk(e)})}},D),E=Zt("Block","body",{$documentation:"A body of statements (usually bracketed)",$propdoc:{body:"[AST_Statement*] an array of statements"},_walk:function(e){return e._visit(this,function(){Kt(this,e)})}},D),A=Zt("BlockStatement",null,{$documentation:"A block statement"},E),F=Zt("EmptyStatement",null,{$documentation:"The empty statement (empty block or simply a semicolon)"},D),x=Zt("StatementWithBody","body",{$documentation:"Base class for all statements that contain one nested body: `For`, `ForIn`, `Do`, `While`, `With`",$propdoc:{body:"[AST_Statement] the body; this should always be present, even if it's an AST_EmptyStatement"}},D),C=Zt("LabeledStatement","label",{$documentation:"Statement with a label",$propdoc:{label:"[AST_Label] a label definition"},_walk:function(e){return e._visit(this,function(){this.label._walk(e),this.body._walk(e)})},clone:function(e){var n,t,i=this._clone(e);return e&&(n=i.label,t=this.label,i.walk(new ei(function(e){e instanceof Z&&e.label&&e.label.thedef===t&&(e.label.thedef=n,n.references.push(e))}))),i}},x),k=Zt("IterationStatement",null,{$documentation:"Internal class.  All loops inherit from it."},x),S=Zt("DWLoop","condition",{$documentation:"Base class for do/while statements",$propdoc:{condition:"[AST_Node] the loop condition.  Should not be instanceof AST_Statement"}},k),B=Zt("Do",null,{$documentation:"A `do` statement",_walk:function(e){return e._visit(this,function(){this.body._walk(e),this.condition._walk(e)})}},S),T=Zt("While",null,{$documentation:"A `while` statement",_walk:function(e){return e._visit(this,function(){this.condition._walk(e),this.body._walk(e)})}},S),O=Zt("For","init condition step",{$documentation:"A `for` statement",$propdoc:{init:"[AST_Node?] the `for` initialization code, or null if empty",condition:"[AST_Node?] the `for` termination clause, or null if empty",step:"[AST_Node?] the `for` update clause, or null if empty"},_walk:function(e){return e._visit(this,function(){this.init&&this.init._walk(e),this.condition&&this.condition._walk(e),this.step&&this.step._walk(e),this.body._walk(e)})}},k),$=Zt("ForIn","init object",{$documentation:"A `for ... in` statement",$propdoc:{init:"[AST_Node] the `for/in` initialization code",object:"[AST_Node] the object that we're looping through"},_walk:function(e){return e._visit(this,function(){this.init._walk(e),this.object._walk(e),this.body._walk(e)})}},k),M=Zt("ForOf",null,{$documentation:"A `for ... of` statement"},$),j=Zt("With","expression",{$documentation:"A `with` statement",$propdoc:{expression:"[AST_Node] the `with` expression"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),this.body._walk(e)})}},x),P=Zt("Scope","variables functions uses_with uses_eval parent_scope enclosed cname",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{variables:"[Object/S] a map of name -> SymbolDef for all variables/functions defined in this scope",functions:"[Object/S] like `variables`, but only lists function declarations",uses_with:"[boolean/S] tells whether this scope uses the `with` statement",uses_eval:"[boolean/S] tells whether this scope contains a direct call to the global `eval`",parent_scope:"[AST_Scope?/S] link to the parent scope",enclosed:"[SymbolDef*/S] a list of all symbol definitions that are accessed from this scope or any subscopes",cname:"[integer/S] current index for mangling variables (used internally by the mangler)"},get_defun_scope:function(){for(var e=this;e.is_block_scope();)e=e.parent_scope;return e},clone:function(e){var n=this._clone(e);return this.variables&&(n.variables=this.variables.clone()),this.functions&&(n.functions=this.functions.clone()),this.enclosed&&(n.enclosed=this.enclosed.slice()),n}},E),N=Zt("Toplevel","globals",{$documentation:"The toplevel scope",$propdoc:{globals:"[Object/S] a map of name -> SymbolDef for all undeclared names"},wrap_commonjs:function(e){var n=this.body,t="(function(exports){'$ORIG';})(typeof "+e+"=='undefined'?("+e+"={}):"+e+");";return(t=pi(t)).transform(new di(function(e){if(e instanceof y&&"$ORIG"==e.value)return g.splice(n)}))}},P),L=Zt("Expansion","expression",{$documentation:"An expandible argument, such as ...rest, a splat, such as [1,2,...all], or an expansion in a variable declaration, such as var [first, ...rest] = list",$propdoc:{expression:"[AST_Node] the thing to be expanded"},_walk:function(e){var n=this;return e._visit(this,function(){n.expression.walk(e)})}}),I=Zt("Lambda","name argnames uses_arguments is_generator async",{$documentation:"Base class for functions",$propdoc:{name:"[AST_SymbolDeclaration?] the name of this function",argnames:"[AST_SymbolFunarg|AST_Destructuring|AST_Expansion|AST_DefaultAssign*] array of function arguments, destructurings, or expanding arguments",uses_arguments:"[boolean/S] tells whether this function accesses the arguments array",is_generator:"[boolean] is this a generator method",async:"[boolean] is this method async"},args_as_names:function(){for(var e=[],n=0;n<this.argnames.length;n++)this.argnames[n]instanceof H?e=e.concat(this.argnames[n].all_symbols()):e.push(this.argnames[n]);return e},_walk:function(e){return e._visit(this,function(){this.name&&this.name._walk(e);for(var n=this.argnames,t=0,i=n.length;t<i;t++)n[t]._walk(e);Kt(this,e)})}},P),R=Zt("Accessor",null,{$documentation:"A setter/getter function.  The `name` property is always null."},I),q=Zt("Function","inlined",{$documentation:"A function expression"},I),z=Zt("Arrow","inlined",{$documentation:"An ES6 Arrow function ((a) => b)"},I),U=Zt("Defun","inlined",{$documentation:"A function definition"},I),H=Zt("Destructuring","names is_array",{$documentation:"A destructuring of several names. Used in destructuring assignment and with destructuring function argument names",$propdoc:{names:"[AST_Node*] Array of properties or elements",is_array:"[Boolean] Whether the destructuring represents an object or array"},_walk:function(e){return e._visit(this,function(){this.names.forEach(function(n){n._walk(e)})})},all_symbols:function(){var e=[];return this.walk(new ei(function(n){n instanceof Re&&e.push(n),n instanceof L&&e.push(n.expression)})),e}}),V=Zt("PrefixedTemplateString","template_string prefix",{$documentation:"A templatestring with a prefix, such as String.raw`foobarbaz`",$propdoc:{template_string:"[AST_TemplateString] The template string",prefix:"[AST_SymbolRef|AST_PropAccess] The prefix, which can be a symbol such as `foo` or a dotted expression such as `String.raw`."},_walk:function(e){this.prefix._walk(e),this.template_string._walk(e)}}),G=Zt("TemplateString","segments",{$documentation:"A template string literal",$propdoc:{segments:"[AST_Node*] One or more segments, starting with AST_TemplateSegment. AST_Node may follow AST_TemplateSegment, but each AST_Node must be followed by AST_TemplateSegment."},_walk:function(e){return e._visit(this,function(){this.segments.forEach(function(n){n._walk(e)})})}}),J=Zt("TemplateSegment","value raw",{$documentation:"A segment of a template string literal",$propdoc:{value:"Content of the segment",raw:"Raw content of the segment"}}),W=Zt("Jump",null,{$documentation:"Base class for “jumps” (for now that's `return`, `throw`, `break` and `continue`)"},D),Y=Zt("Exit","value",{$documentation:"Base class for “exits” (`return` and `throw`)",$propdoc:{value:"[AST_Node?] the value returned or thrown by this statement; could be null for AST_Return"},_walk:function(e){return e._visit(this,this.value&&function(){this.value._walk(e)})}},W),X=Zt("Return",null,{$documentation:"A `return` statement"},Y),Q=Zt("Throw",null,{$documentation:"A `throw` statement"},Y),Z=Zt("LoopControl","label",{$documentation:"Base class for loop control statements (`break` and `continue`)",$propdoc:{label:"[AST_LabelRef?] the label, or null if none"},_walk:function(e){return e._visit(this,this.label&&function(){this.label._walk(e)})}},W),K=Zt("Break",null,{$documentation:"A `break` statement"},Z),ee=Zt("Continue",null,{$documentation:"A `continue` statement"},Z),ne=Zt("If","condition alternative",{$documentation:"A `if` statement",$propdoc:{condition:"[AST_Node] the `if` condition",alternative:"[AST_Statement?] the `else` part, or null if not present"},_walk:function(e){return e._visit(this,function(){this.condition._walk(e),this.body._walk(e),this.alternative&&this.alternative._walk(e)})}},x),te=Zt("Switch","expression",{$documentation:"A `switch` statement",$propdoc:{expression:"[AST_Node] the `switch` “discriminant”"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),Kt(this,e)})}},E),ie=Zt("SwitchBranch",null,{$documentation:"Base class for `switch` branches"},E),re=Zt("Default",null,{$documentation:"A `default` switch branch"},ie),oe=Zt("Case","expression",{$documentation:"A `case` switch branch",$propdoc:{expression:"[AST_Node] the `case` expression"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),Kt(this,e)})}},ie),se=Zt("Try","bcatch bfinally",{$documentation:"A `try` statement",$propdoc:{bcatch:"[AST_Catch?] the catch block, or null if not present",bfinally:"[AST_Finally?] the finally block, or null if not present"},_walk:function(e){return e._visit(this,function(){Kt(this,e),this.bcatch&&this.bcatch._walk(e),this.bfinally&&this.bfinally._walk(e)})}},E),ae=Zt("Catch","argname",{$documentation:"A `catch` node; only makes sense as part of a `try` statement",$propdoc:{argname:"[AST_SymbolCatch|AST_Destructuring|AST_Expansion|AST_DefaultAssign] symbol for the exception"},_walk:function(e){return e._visit(this,function(){this.argname._walk(e),Kt(this,e)})}},E),ue=Zt("Finally",null,{$documentation:"A `finally` node; only makes sense as part of a `try` statement"},E),ce=Zt("Definitions","definitions",{$documentation:"Base class for `var` or `const` nodes (variable declarations/initializations)",$propdoc:{definitions:"[AST_VarDef*] array of variable definitions"},_walk:function(e){return e._visit(this,function(){for(var n=this.definitions,t=0,i=n.length;t<i;t++)n[t]._walk(e)})}},D),le=Zt("Var",null,{$documentation:"A `var` statement"},ce),fe=Zt("Let",null,{$documentation:"A `let` statement"},ce),pe=Zt("Const",null,{$documentation:"A `const` statement"},ce),de=Zt("NameMapping","foreign_name name",{$documentation:"The part of the export/import statement that declare names from a module.",$propdoc:{foreign_name:"[AST_SymbolExportForeign|AST_SymbolImportForeign] The name being exported/imported (as specified in the module)",name:"[AST_SymbolExport|AST_SymbolImport] The name as it is visible to this module."},_walk:function(e){return e._visit(this,function(){this.foreign_name._walk(e),this.name._walk(e)})}}),he=Zt("Import","imported_name imported_names module_name",{$documentation:"An `import` statement",$propdoc:{imported_name:"[AST_SymbolImport] The name of the variable holding the module's default export.",imported_names:"[AST_NameMapping*] The names of non-default imported variables",module_name:"[AST_String] String literal describing where this module came from"},_walk:function(e){return e._visit(this,function(){this.imported_name&&this.imported_name._walk(e),this.imported_names&&this.imported_names.forEach(function(n){n._walk(e)}),this.module_name._walk(e)})}}),me=Zt("Export","exported_definition exported_value is_default exported_names module_name",{$documentation:"An `export` statement",$propdoc:{exported_definition:"[AST_Defun|AST_Definitions|AST_DefClass?] An exported definition",exported_value:"[AST_Node?] An exported value",exported_names:"[AST_NameMapping*?] List of exported names",module_name:"[AST_String?] Name of the file to load exports from",is_default:"[Boolean] Whether this is the default exported value of this module"},_walk:function(e){e._visit(this,function(){this.exported_definition&&this.exported_definition._walk(e),this.exported_value&&this.exported_value._walk(e),this.exported_names&&this.exported_names.forEach(function(n){n._walk(e)}),this.module_name&&this.module_name._walk(e)})}},D),ge=Zt("VarDef","name value",{$documentation:"A variable declaration; only appears in a AST_Definitions node",$propdoc:{name:"[AST_Destructuring|AST_SymbolConst|AST_SymbolLet|AST_SymbolVar] name of the variable",value:"[AST_Node?] initializer, or null of there's no initializer"},_walk:function(e){return e._visit(this,function(){this.name._walk(e),this.value&&this.value._walk(e)})}}),_e=Zt("Call","expression args",{$documentation:"A function call expression",$propdoc:{expression:"[AST_Node] expression to invoke as function",args:"[AST_Node*] array of arguments"},_walk:function(e){return e._visit(this,function(){for(var n=this.args,t=0,i=n.length;t<i;t++)n[t]._walk(e);this.expression._walk(e)})}}),ve=Zt("New",null,{$documentation:"An object instantiation.  Derives from a function call since it has exactly the same properties"},_e),De=Zt("Sequence","expressions",{$documentation:"A sequence expression (comma-separated expressions)",$propdoc:{expressions:"[AST_Node*] array of expressions (at least two)"},_walk:function(e){return e._visit(this,function(){this.expressions.forEach(function(n){n._walk(e)})})}}),be=Zt("PropAccess","expression property",{$documentation:'Base class for property access expressions, i.e. `a.foo` or `a["foo"]`',$propdoc:{expression:"[AST_Node] the “container” expression",property:"[AST_Node|string] the property to access.  For AST_Dot this is always a plain string, while for AST_Sub it's an arbitrary AST_Node"}}),ye=Zt("Dot",null,{$documentation:"A dotted property access expression",_walk:function(e){return e._visit(this,function(){this.expression._walk(e)})}},be),we=Zt("Sub",null,{$documentation:'Index-style property access, i.e. `a["foo"]`',_walk:function(e){return e._visit(this,function(){this.expression._walk(e),this.property._walk(e)})}},be),Ee=Zt("Unary","operator expression",{$documentation:"Base class for unary expressions",$propdoc:{operator:"[string] the operator",expression:"[AST_Node] expression that this unary operator applies to"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e)})}}),Ae=Zt("UnaryPrefix",null,{$documentation:"Unary prefix expression, i.e. `typeof i` or `++i`"},Ee),Fe=Zt("UnaryPostfix",null,{$documentation:"Unary postfix expression, i.e. `i++`"},Ee),xe=Zt("Binary","operator left right",{$documentation:"Binary expression, i.e. `a + b`",$propdoc:{left:"[AST_Node] left-hand side expression",operator:"[string] the operator",right:"[AST_Node] right-hand side expression"},_walk:function(e){return e._visit(this,function(){this.left._walk(e),this.right._walk(e)})}}),Ce=Zt("Conditional","condition consequent alternative",{$documentation:"Conditional expression using the ternary operator, i.e. `a ? b : c`",$propdoc:{condition:"[AST_Node]",consequent:"[AST_Node]",alternative:"[AST_Node]"},_walk:function(e){return e._visit(this,function(){this.condition._walk(e),this.consequent._walk(e),this.alternative._walk(e)})}}),ke=Zt("Assign",null,{$documentation:"An assignment expression — `a = b + 5`"},xe),Se=Zt("DefaultAssign",null,{$documentation:"A default assignment expression like in `(a = 3) => a`"},xe),Be=Zt("Array","elements",{$documentation:"An array literal",$propdoc:{elements:"[AST_Node*] array of elements"},_walk:function(e){return e._visit(this,function(){for(var n=this.elements,t=0,i=n.length;t<i;t++)n[t]._walk(e)})}}),Te=Zt("Object","properties",{$documentation:"An object literal",$propdoc:{properties:"[AST_ObjectProperty*] array of properties"},_walk:function(e){return e._visit(this,function(){for(var n=this.properties,t=0,i=n.length;t<i;t++)n[t]._walk(e)})}}),Oe=Zt("ObjectProperty","key value",{$documentation:"Base class for literal object properties",$propdoc:{key:"[string|AST_Node] property name. For ObjectKeyVal this is a string. For getters, setters and computed property this is an AST_Node.",value:"[AST_Node] property value.  For getters and setters this is an AST_Accessor."},_walk:function(e){return e._visit(this,function(){this.key instanceof v&&this.key._walk(e),this.value._walk(e)})}}),$e=Zt("ObjectKeyVal","quote",{$documentation:"A key: value object property",$propdoc:{quote:"[string] the original quote character"}},Oe),Me=Zt("ObjectSetter","quote static",{$propdoc:{quote:"[string|undefined] the original quote character, if any",static:"[boolean] whether this is a static setter (classes only)"},$documentation:"An object setter property"},Oe),je=Zt("ObjectGetter","quote static",{$propdoc:{quote:"[string|undefined] the original quote character, if any",static:"[boolean] whether this is a static getter (classes only)"},$documentation:"An object getter property"},Oe),Pe=Zt("ConciseMethod","quote static is_generator async",{$propdoc:{quote:"[string|undefined] the original quote character, if any",static:"[boolean] is this method static (classes only)",is_generator:"[boolean] is this a generator method",async:"[boolean] is this method async"},$documentation:"An ES6 concise method inside an object or class"},Oe),Ne=Zt("Class","name extends properties inlined",{$propdoc:{name:"[AST_SymbolClass|AST_SymbolDefClass?] optional class name.",extends:"[AST_Node]? optional parent class",properties:"[AST_ObjectProperty*] array of properties"},$documentation:"An ES6 class",_walk:function(e){return e._visit(this,function(){this.name&&this.name._walk(e),this.extends&&this.extends._walk(e),this.properties.forEach(function(n){n._walk(e)})})}},P),Le=Zt("DefClass",null,{$documentation:"A class definition"},Ne),Ie=Zt("ClassExpression",null,{$documentation:"A class expression."},Ne),Re=Zt("Symbol","scope name thedef",{$propdoc:{name:"[string] name of this symbol",scope:"[AST_Scope/S] the current scope (not necessarily the definition scope)",thedef:"[SymbolDef/S] the definition of this symbol"},$documentation:"Base class for all symbols"}),qe=Zt("NewTarget",null,{$documentation:"A reference to new.target"}),ze=Zt("SymbolDeclaration","init",{$documentation:"A declaration symbol (symbol in var/const, function name or argument, symbol in catch)"},Re),Ue=Zt("SymbolVar",null,{$documentation:"Symbol defining a variable"},ze),He=Zt("SymbolBlockDeclaration",null,{$documentation:"Base class for block-scoped declaration symbols"},ze),Ve=Zt("SymbolConst",null,{$documentation:"A constant declaration"},He),Ge=Zt("SymbolLet",null,{$documentation:"A block-scoped `let` declaration"},He),Je=Zt("SymbolFunarg",null,{$documentation:"Symbol naming a function argument"},Ue),We=Zt("SymbolDefun",null,{$documentation:"Symbol defining a function"},ze),Ye=Zt("SymbolMethod",null,{$documentation:"Symbol in an object defining a method"},Re),Xe=Zt("SymbolLambda",null,{$documentation:"Symbol naming a function expression"},ze),Qe=Zt("SymbolDefClass",null,{$documentation:"Symbol naming a class's name in a class declaration. Lexically scoped to its containing scope, and accessible within the class."},He),Ze=Zt("SymbolClass",null,{$documentation:"Symbol naming a class's name. Lexically scoped to the class."},ze),Ke=Zt("SymbolCatch",null,{$documentation:"Symbol naming the exception in catch"},He),en=Zt("SymbolImport",null,{$documentation:"Symbol referring to an imported name"},He),nn=Zt("SymbolImportForeign",null,{$documentation:"A symbol imported from a module, but it is defined in the other module, and its real name is irrelevant for this module's purposes"},Re),tn=Zt("Label","references",{$documentation:"Symbol naming a label (declaration)",$propdoc:{references:"[AST_LoopControl*] a list of nodes referring to this label"},initialize:function(){this.references=[],this.thedef=this}},Re),rn=Zt("SymbolRef",null,{$documentation:"Reference to some symbol (not definition/declaration)"},Re),on=Zt("SymbolExport",null,{$documentation:"Symbol referring to a name to export"},rn),sn=Zt("SymbolExportForeign",null,{$documentation:"A symbol exported from this module, but it is used in the other module, and its real name is irrelevant for this module's purposes"},Re),an=Zt("LabelRef",null,{$documentation:"Reference to a label symbol"},Re),un=Zt("This",null,{$documentation:"The `this` symbol"},Re),cn=Zt("Super",null,{$documentation:"The `super` symbol"},un),ln=Zt("Constant",null,{$documentation:"Base class for all constants",getValue:function(){return this.value}}),fn=Zt("String","value quote",{$documentation:"A string literal",$propdoc:{value:"[string] the contents of this string",quote:"[string] the original quote character"}},ln),pn=Zt("Number","value literal",{$documentation:"A number literal",$propdoc:{value:"[number] the numeric value",literal:"[string] numeric value as string (optional)"}},ln),dn=Zt("RegExp","value",{$documentation:"A regexp literal",$propdoc:{value:"[RegExp] the actual regexp"}},ln),hn=Zt("Atom",null,{$documentation:"Base class for atoms"},ln),mn=Zt("Null",null,{$documentation:"The `null` atom",value:null},hn),gn=Zt("NaN",null,{$documentation:"The impossible value",value:NaN},hn),_n=Zt("Undefined",null,{$documentation:"The `undefined` value",value:void 0},hn),vn=Zt("Hole",null,{$documentation:"A hole in an array",value:void 0},hn),Dn=Zt("Infinity",null,{$documentation:"The `Infinity` value",value:1/0},hn),bn=Zt("Boolean",null,{$documentation:"Base class for booleans"},hn),yn=Zt("False",null,{$documentation:"The `false` atom",value:!1},bn),wn=Zt("True",null,{$documentation:"The `true` atom",value:!0},bn),En=Zt("Await","expression",{$documentation:"An `await` statement",$propdoc:{expression:"[AST_Node] the mandatory expression being awaited"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e)})}}),An=Zt("Yield","expression is_star",{$documentation:"A `yield` statement",$propdoc:{expression:"[AST_Node?] the value returned or thrown by this statement; could be null (representing undefined) but only when is_star is set to false",is_star:"[Boolean] Whether this is a yield or yield* statement"},_walk:function(e){return e._visit(this,this.expression&&function(){this.expression._walk(e)})}}),ei.prototype={_visit:function(e,n){this.push(e);var t=this.visit(e,n?function(){n.call(e)}:Lt);return!t&&n&&n.call(e),this.pop(),t},parent:function(e){return this.stack[this.stack.length-2-(e||0)]},push:function(e){e instanceof I?this.directives=Object.create(this.directives):e instanceof y&&!this.directives[e.value]?this.directives[e.value]=e:e instanceof Ne&&(this.directives=Object.create(this.directives),this.directives["use strict"]||(this.directives["use strict"]=e)),this.stack.push(e)},pop:function(){var e=this.stack.pop();(e instanceof I||e instanceof Ne)&&(this.directives=Object.getPrototypeOf(this.directives))},self:function(){return this.stack[this.stack.length-1]},find_parent:function(e){var n,t,i;for(t=(n=this.stack).length;--t>=0;)if((i=n[t])instanceof e)return i},has_directive:function(e){var n,t,i,r=this.directives[e];if(r)return r;if((n=this.stack[this.stack.length-1])instanceof P&&n.body)for(t=0;t<n.body.length&&(i=n.body[t])instanceof y;++t)if(i.value==e)return i},loopcontrol_target:function(e){var n,t,i=this.stack;if(e.label){for(n=i.length;--n>=0;)if((t=i[n])instanceof C&&t.label.name==e.label.name)return t.body}else for(n=i.length;--n>=0;)if((t=i[n])instanceof k||e instanceof K&&t instanceof te)return t}},Cn="enum implements import interface package private protected public static super this "+(xn="false null true")+" "+(Fn="break case catch class const continue debugger default delete do else export extends finally for function if in instanceof let new return switch throw try typeof var void while with"),kn="return new delete throw else case yield await",Fn=Jt(Fn),Cn=Jt(Cn),kn=Jt(kn),xn=Jt(xn),Sn=Jt(Tt("+-*&%=<>!?|~^")),Bn=/[0-9a-f]/i,Tn=/^0x[0-9a-f]+$/i,On=/^0[0-7]+$/,$n=/^0o[0-7]+$/i,Mn=/^0b[01]+$/i,jn=/^\d*\.?\d*(?:e[+-]?\d*(?:\d\.?|\.?\d)\d*)?$/i,Pn=Jt(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","^","*","**","/","%",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","**=","%=",">>=","<<=",">>>=","|=","^=","&=","&&","||"]),Nn=Jt(Tt("  \n\r\t\f\v​           \u2028\u2029  　\ufeff")),Ln=Jt(Tt("\n\r\u2028\u2029")),In=Jt(Tt(";]),:")),Rn=Jt(Tt("[{(,;:")),qn=Jt(Tt("[]{}(),;:")),zn={ID_Start:/[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,ID_Continue:/[0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},ci.prototype=Object.create(Error.prototype),ci.prototype.constructor=ci,ci.prototype.name="SyntaxError",Mt(ci),Un={},Hn=Jt(["typeof","void","delete","--","++","!","~","-","+"]),Vn=Jt(["--","++"]),Gn=Jt(["=","+=","-=","/=","*=","**=","%=",">>=","<<=",">>>=","|=","^=","&="]),Jn=function(e,n){var t,i,r;for(t=0;t<e.length;++t)for(i=e[t],r=0;r<i.length;++r)n[i[r]]=t+1;return n}([["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"],["**"]],{}),Wn=Jt(["atom","num","string","regexp","name"]),di.prototype=new ei,function(e){function n(n,t){n.DEFMETHOD("transform",function(n,i){var r,o;return n.push(this),n.before&&(r=n.before(this,t,i)),r===e&&(t(r=this,n),n.after&&(o=n.after(r,i))!==e&&(r=o)),n.pop(),r})}function t(e,n){return g(e,function(e){return e.transform(n,!0)})}n(v,Lt),n(C,function(e,n){e.label=e.label.transform(n),e.body=e.body.transform(n)}),n(w,function(e,n){e.body=e.body.transform(n)}),n(E,function(e,n){e.body=t(e.body,n)}),n(S,function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n)}),n(O,function(e,n){e.init&&(e.init=e.init.transform(n)),e.condition&&(e.condition=e.condition.transform(n)),e.step&&(e.step=e.step.transform(n)),e.body=e.body.transform(n)}),n($,function(e,n){e.init=e.init.transform(n),e.object=e.object.transform(n),e.body=e.body.transform(n)}),n(j,function(e,n){e.expression=e.expression.transform(n),e.body=e.body.transform(n)}),n(Y,function(e,n){e.value&&(e.value=e.value.transform(n))}),n(Z,function(e,n){e.label&&(e.label=e.label.transform(n))}),n(ne,function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n),e.alternative&&(e.alternative=e.alternative.transform(n))}),n(te,function(e,n){e.expression=e.expression.transform(n),e.body=t(e.body,n)}),n(oe,function(e,n){e.expression=e.expression.transform(n),e.body=t(e.body,n)}),n(se,function(e,n){e.body=t(e.body,n),e.bcatch&&(e.bcatch=e.bcatch.transform(n)),e.bfinally&&(e.bfinally=e.bfinally.transform(n))}),n(ae,function(e,n){e.argname=e.argname.transform(n),e.body=t(e.body,n)}),n(ce,function(e,n){e.definitions=t(e.definitions,n)}),n(ge,function(e,n){e.name=e.name.transform(n),e.value&&(e.value=e.value.transform(n))}),n(H,function(e,n){e.names=t(e.names,n)}),n(I,function(e,n){e.name&&(e.name=e.name.transform(n)),e.argnames=t(e.argnames,n),e.body instanceof v?e.body=e.body.transform(n):e.body=t(e.body,n)}),n(_e,function(e,n){e.expression=e.expression.transform(n),e.args=t(e.args,n)}),n(De,function(e,n){e.expressions=t(e.expressions,n)}),n(ye,function(e,n){e.expression=e.expression.transform(n)}),n(we,function(e,n){e.expression=e.expression.transform(n),e.property=e.property.transform(n)}),n(An,function(e,n){e.expression&&(e.expression=e.expression.transform(n))}),n(En,function(e,n){e.expression=e.expression.transform(n)}),n(Ee,function(e,n){e.expression=e.expression.transform(n)}),n(xe,function(e,n){e.left=e.left.transform(n),e.right=e.right.transform(n)}),n(Ce,function(e,n){e.condition=e.condition.transform(n),e.consequent=e.consequent.transform(n),e.alternative=e.alternative.transform(n)}),n(Be,function(e,n){e.elements=t(e.elements,n)}),n(Te,function(e,n){e.properties=t(e.properties,n)}),n(Oe,function(e,n){e.key instanceof v&&(e.key=e.key.transform(n)),e.value=e.value.transform(n)}),n(Ne,function(e,n){e.name&&(e.name=e.name.transform(n)),e.extends&&(e.extends=e.extends.transform(n)),e.properties=t(e.properties,n)}),n(L,function(e,n){e.expression=e.expression.transform(n)}),n(de,function(e,n){e.foreign_name=e.foreign_name.transform(n),e.name=e.name.transform(n)}),n(he,function(e,n){e.imported_name&&(e.imported_name=e.imported_name.transform(n)),e.imported_names&&t(e.imported_names,n),e.module_name=e.module_name.transform(n)}),n(me,function(e,n){e.exported_definition&&(e.exported_definition=e.exported_definition.transform(n)),e.exported_value&&(e.exported_value=e.exported_value.transform(n)),e.exported_names&&t(e.exported_names,n),e.module_name&&(e.module_name=e.module_name.transform(n))}),n(G,function(e,n){e.segments=t(e.segments,n)}),n(V,function(e,n){e.template_string=e.template_string.transform(n)})}(),hi.next_id=1,hi.prototype={unmangleable:function(e){return e||(e={}),this.global&&!e.toplevel||this.export||this.undeclared||!e.eval&&(this.scope.uses_eval||this.scope.uses_with)||e.keep_fnames&&(this.orig[0]instanceof Xe||this.orig[0]instanceof We)||this.orig[0]instanceof Ye||e.keep_classnames&&(this.orig[0]instanceof Ze||this.orig[0]instanceof Qe)},mangle:function(e){var n,t,i,r=e.cache&&e.cache.props;this.global&&r&&r.has(this.name)?this.mangled_name=r.get(this.name):this.mangled_name||this.unmangleable(e)||(t=this.scope,i=this.orig[0],e.ie8&&i instanceof Xe&&(t=t.parent_scope),(n=this.redefined())?this.mangled_name=n.mangled_name||n.name:this.mangled_name=t.next_mangled(e,this),this.global&&r&&r.set(this.name,this.mangled_name))},redefined:function(){return this.defun&&this.defun.variables.get(this.name)}},N.DEFMETHOD("figure_out_scope",function(e){var n,t,i,r,o,s,a,u;if(e=Pt(e,{cache:null,ie8:!1,safari10:!1}),t=(n=this).parent_scope=null,i=new Yt,r=null,o=null,s=[],a=new ei(function(n,u){var c,l,f,p,d,h,m;if(n.is_block_scope())return c=t,n.block_scope=t=new P(n),t.init_scope_vars(c),n instanceof P||(t.uses_with=c.uses_with,t.uses_eval=c.uses_eval,t.directives=c.directives),e.safari10&&(n instanceof O||n instanceof $)&&s.push(t),u(),t=c,!0;if(n instanceof H)return o=n,u(),o=null,!0;if(n instanceof P)return n.init_scope_vars(t),c=t,l=r,f=i,r=t=n,i=new Yt,u(),t=c,r=l,i=f,!0;if(n instanceof C){if(p=n.label,i.has(p.name))throw new Error(Ht("Label {name} defined twice",p));return i.set(p.name,p),u(),i.del(p.name),!0}if(n instanceof j)for(d=t;d;d=d.parent_scope)d.uses_with=!0;else{if(n instanceof Re&&(n.scope=t),n instanceof tn&&(n.thedef=n,n.references=[]),n instanceof Xe)r.def_function(n,"arguments"==n.name?void 0:r);else if(n instanceof We)g((n.scope=r.parent_scope.get_defun_scope()).def_function(n,r),1);else if(n instanceof Ze)g(r.def_variable(n,r),1);else if(n instanceof en)t.def_variable(n);else if(n instanceof Qe)g((n.scope=r.parent_scope).def_function(n,r),1);else if(n instanceof Ue||n instanceof Ge||n instanceof Ve)Wt((h=n instanceof He?t.def_variable(n,null):r.def_variable(n,"SymbolVar"==n.TYPE?null:void 0)).orig,function(e){return e===n||(n instanceof He?e instanceof Xe:!(e instanceof Ge||e instanceof Ve))})||li(n.name+" redeclared",n.start.file,n.start.line,n.start.col,n.start.pos),n instanceof Je||g(h,2),h.destructuring=o,r!==t&&(n.mark_enclosed(e),h=t.find_variable(n),n.thedef!==h&&(n.thedef=h,n.reference(e)));else if(n instanceof Ke)t.def_variable(n).defun=r;else if(n instanceof an){if(!(m=i.get(n.name)))throw new Error(Ht("Undefined label {name} [{line},{col}]",{name:n.name,line:n.start.line,col:n.start.col}));n.thedef=m}t instanceof N||!(n instanceof me||n instanceof he)||li(n.TYPE+" statement may only appear at top level",n.start.file,n.start.line,n.start.col,n.start.pos)}function g(e,n){var t,i;if(o){t=0;do{n++}while(a.parent(t++)!==o)}i=a.parent(n),e.export=i instanceof me}}),n.walk(a),n.globals=new Yt,a=new ei(function(t,i){var r,o,s,u;if(t instanceof Z&&t.label)return t.label.thedef.references.push(t),!0;if(t instanceof rn){if("eval"==(o=t.name)&&a.parent()instanceof _e)for(s=t.scope;s&&!s.uses_eval;s=s.parent_scope)s.uses_eval=!0;return a.parent()instanceof de&&a.parent(1).module_name||!(r=t.scope.find_variable(o))?r=n.def_global(t):r.scope instanceof I&&"arguments"==o&&(r.scope.uses_arguments=!0),t.thedef=r,t.reference(e),!t.scope.is_block_scope()||r.orig[0]instanceof He||(t.scope=t.scope.get_defun_scope()),!0}if(t instanceof Ke&&(u=t.definition().redefined()))for(s=t.scope;s&&(Ut(s.enclosed,u),s!==u.scope);)s=s.parent_scope}),n.walk(a),e.ie8&&n.walk(new ei(function(t,i){if(t instanceof Ke){var r=t.name,o=t.thedef.references,s=t.thedef.defun,a=s.find_variable(r)||n.globals.get(r)||s.def_variable(t);return o.forEach(function(n){n.thedef=a,n.reference(e)}),t.thedef=a,t.reference(e),!0}})),e.safari10)for(u=0;u<s.length;u++)(t=s[u]).parent_scope.variables.each(function(e){Ut(t.enclosed,e)})}),N.DEFMETHOD("def_global",function(e){var n,t=this.globals,i=e.name;return t.has(i)?t.get(i):((n=new hi(this,e)).undeclared=!0,n.global=!0,t.set(i,n),n)}),P.DEFMETHOD("init_scope_vars",function(e){this.variables=new Yt,this.functions=new Yt,this.uses_with=!1,this.uses_eval=!1,this.parent_scope=e,this.enclosed=[],this.cname=-1}),v.DEFMETHOD("is_block_scope",It),Ne.DEFMETHOD("is_block_scope",It),I.DEFMETHOD("is_block_scope",It),N.DEFMETHOD("is_block_scope",It),ie.DEFMETHOD("is_block_scope",It),E.DEFMETHOD("is_block_scope",Rt),k.DEFMETHOD("is_block_scope",Rt),I.DEFMETHOD("init_scope_vars",function(){P.prototype.init_scope_vars.apply(this,arguments),this.uses_arguments=!1,this.def_variable(new Je({name:"arguments",start:this.start,end:this.end}))}),Re.DEFMETHOD("mark_enclosed",function(e){for(var n=this.definition(),t=this.scope;t&&(Ut(t.enclosed,n),e.keep_fnames&&t.functions.each(function(e){Ut(n.scope.enclosed,e)}),t!==n.scope);)t=t.parent_scope}),Re.DEFMETHOD("reference",function(e){this.definition().references.push(this),this.mark_enclosed(e)}),P.DEFMETHOD("find_variable",function(e){return e instanceof Re&&(e=e.name),this.variables.get(e)||this.parent_scope&&this.parent_scope.find_variable(e)}),P.DEFMETHOD("def_function",function(e,n){var t=this.def_variable(e,n);return(!t.init||t.init instanceof U)&&(t.init=n),this.functions.set(e.name,t),t}),P.DEFMETHOD("def_variable",function(e,n){var t=this.variables.get(e.name);return t?(t.orig.push(e),t.init&&(t.scope!==e.scope||t.init instanceof q)&&(t.init=n)):(t=new hi(this,e,n),this.variables.set(e.name,t),t.global=!this.parent_scope),e.thedef=t}),P.DEFMETHOD("next_mangled",function(e){return mi(this,e)}),N.DEFMETHOD("next_mangled",function(e){var n;do{n=mi(this,e)}while(Ot(n,this.mangled_names));return n}),q.DEFMETHOD("next_mangled",function(e,n){var t,i,r;for(i=(t=n.orig[0]instanceof Je&&this.name&&this.name.definition())?t.mangled_name||t.name:null;;)if(r=mi(this,e),!i||i!=r)return r}),Re.DEFMETHOD("unmangleable",function(e){var n=this.definition();return!n||n.unmangleable(e)}),tn.DEFMETHOD("unmangleable",It),Re.DEFMETHOD("unreferenced",function(){return 0==this.definition().references.length&&!(this.scope.uses_eval||this.scope.uses_with)}),Re.DEFMETHOD("definition",function(){return this.thedef}),Re.DEFMETHOD("global",function(){return this.definition().global}),N.DEFMETHOD("_default_mangler_options",function(e){return e=Pt(e,{eval:!1,ie8:!1,keep_classnames:!1,keep_fnames:!1,reserved:[],toplevel:!1}),Array.isArray(e.reserved)||(e.reserved=[]),Ut(e.reserved,"arguments"),e}),N.DEFMETHOD("mangle_names",function(e){var n,t,i,r;function o(n){Ot(n.name,e.reserved)||t.push(n)}e=this._default_mangler_options(e),n=-1,t=[],i=this.mangled_names=[],e.cache&&(this.globals.each(o),e.cache.props&&e.cache.props.each(function(e){Ut(i,e)})),r=new ei(function(i,r){var s,a;if(i instanceof C)return s=n,r(),n=s,!0;if(i instanceof P)i.variables.each(o);else if(i.is_block_scope())i.block_scope.variables.each(o);else{if(i instanceof tn){do{a=Yn(++n)}while(!oi(a));return i.mangled_name=a,!0}!e.ie8&&i instanceof Ke&&t.push(i.definition())}}),this.walk(r),t.forEach(function(n){n.mangle(e)})}),N.DEFMETHOD("find_colliding_names",function(e){var n=e.cache&&e.cache.props,t=Object.create(null);return e.reserved.forEach(i),this.globals.each(r),this.walk(new ei(function(e){e instanceof P&&e.variables.each(r),e instanceof Ke&&r(e.definition())})),t;function i(e){t[e]=!0}function r(t){var r=t.name;if(t.global&&n&&n.has(r))r=n.get(r);else if(!t.unmangleable(e))return;i(r)}}),N.DEFMETHOD("expand_names",function(e){Yn.reset(),Yn.sort(),e=this._default_mangler_options(e);var n=this.find_colliding_names(e),t=0;function i(i){if(!(i.global&&e.cache||i.unmangleable(e)||Ot(i.name,e.reserved))){var r=i.redefined();i.name=r?r.name:function(){var e;do{e=Yn(t++)}while(n[e]||!oi(e));return e}(),i.orig.forEach(function(e){e.name=i.name}),i.references.forEach(function(e){e.name=i.name})}}this.globals.each(i),this.walk(new ei(function(e){e instanceof P&&e.variables.each(i),e instanceof Ke&&i(e.definition())}))}),v.DEFMETHOD("tail_node",qt),De.DEFMETHOD("tail_node",function(){return this.expressions[this.expressions.length-1]}),N.DEFMETHOD("compute_char_frequency",function(e){e=this._default_mangler_options(e);try{v.prototype.print=function(n,t){this._print(n,t),this instanceof Re&&!this.unmangleable(e)?Yn.consider(this.name,-1):e.properties&&(this instanceof ye?Yn.consider(this.property,-1):this instanceof we&&function e(n){n instanceof fn?Yn.consider(n.value,-1):n instanceof Ce?(e(n.consequent),e(n.alternative)):n instanceof De&&e(n.tail_node())}(this.property))},Yn.consider(this.print_to_string(),1)}finally{v.prototype.print=v.prototype._print}Yn.sort()}),Yn=function(){var e,n,t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_".split(""),i="0123456789".split("");function r(){n=Object.create(null),t.forEach(function(e){n[e]=0}),i.forEach(function(e){n[e]=0})}function o(e,t){return n[t]-n[e]}function s(n){var t="",i=54;n++;do{t+=e[--n%i],n=Math.floor(n/i),i=64}while(n>0);return t}return s.consider=function(e,t){for(var i=e.length;--i>=0;)n[e[i]]+=t},s.sort=function(){e=Gt(t,o).concat(Gt(i,o))},s.reset=r,r(),s}(),Xn=/^$|[;{][\s\n]*$/,function(){function e(e,n){e.DEFMETHOD("_codegen",n)}var n=!1,t=null,i=null;function r(e,n){Array.isArray(e)?e.forEach(function(e){r(e,n)}):e.DEFMETHOD("needs_parens",n)}function o(e,t,i,r){var o=e.length-1;n=r,e.forEach(function(e,r){!0!==n||e instanceof y||e instanceof F||e instanceof w&&e.body instanceof fn||(n=!1),e instanceof F||(i.indent(),e.print(i),r==o&&t||(i.newline(),t&&i.newline())),!0===n&&e instanceof w&&e.body instanceof fn&&(n=!1)}),n=!1}function s(e,n,t){e.body.length>0?n.with_block(function(){o(e.body,!1,n,t)}):(n.print("{"),n.with_indent(n.next_indent(),function(){n.append_comments(e,!0)}),n.print("}"))}function a(e,n,t){var i=!1;t&&e.walk(new ei(function(e){return!!(i||e instanceof P)||(e instanceof xe&&"in"==e.operator?(i=!0,!0):void 0)})),e.print(n,i)}function u(e,n,t){t.option("quote_keys")?t.print_string(e):""+ +e==e&&e>=0?t.print(f(e)):(Cn(e)?!t.option("ie8"):ui(e))?n&&t.option("keep_quoted_props")?t.print_string(e,n):t.print_name(e):t.print_string(e,n)}function c(e,n){n.option("bracketize")?p(e,n):!e||e instanceof F?n.force_semicolon():e.print(n)}function l(e,n){return e.args.length>0||n.option("beautify")}function f(e){var n,t=e.toString(10),i=[t.replace(/^0\./,".").replace("e+","e")];return Math.floor(e)===e?(e>=0?i.push("0x"+e.toString(16).toLowerCase(),"0"+e.toString(8)):i.push("-0x"+(-e).toString(16).toLowerCase(),"-0"+(-e).toString(8)),(n=/^(.*?)(0+)$/.exec(e))&&i.push(n[1]+"e"+n[2].length)):(n=/^0?\.(0+)(.*)$/.exec(e))&&i.push(n[2]+"e-"+(n[1].length+n[2].length),t.substr(t.indexOf("."))),function(e){for(var n=e[0],t=n.length,i=1;i<e.length;++i)e[i].length<t&&(t=(n=e[i]).length);return n}(i)}function p(e,n){!e||e instanceof F?n.print("{}"):e instanceof A?e.print(n):n.with_block(function(){n.indent(),e.print(n),n.newline()})}function d(e,n){e.DEFMETHOD("add_source_map",function(e){n(this,e)})}function h(e,n){n.add_mapping(e.start)}v.DEFMETHOD("print",function(e,n){var r=this,o=r._codegen;function s(){e.prepend_comments(r),r.add_source_map(e),o(r,e),e.append_comments(r)}r instanceof P?t=r:!i&&r instanceof y&&"use asm"==r.value&&(i=t),e.push_node(r),n||r.needs_parens(e)?e.with_parens(s):s(),e.pop_node(),r===i&&(i=null)}),v.DEFMETHOD("_print",v.prototype.print),v.DEFMETHOD("print_to_string",function(e){var n=_i(e);return this.print(n),n.get()}),r(v,It),r(q,function(e){return!!Qt(e)||!!(e.option("webkit")&&(n=e.parent())instanceof be&&n.expression===this)||!!e.option("wrap_iife")&&(n=e.parent())instanceof _e&&n.expression===this;var n}),r(z,function(e){var n=e.parent();return n instanceof be&&n.expression===this}),r([Ie,Te],Qt),r(Ee,function(e){var n=e.parent();return n instanceof be&&n.expression===this||n instanceof _e&&n.expression===this||n instanceof xe&&"**"===n.operator&&this instanceof Ae&&n.left===this&&"++"!==this.operator&&"--"!==this.operator}),r(En,function(e){var n=e.parent();return n instanceof be&&n.expression===this||n instanceof _e&&n.expression===this||e.option("safari10")&&n instanceof Ae}),r(De,function(e){var n=e.parent();return n instanceof _e||n instanceof Ee||n instanceof xe||n instanceof ge||n instanceof be||n instanceof Be||n instanceof Oe||n instanceof Ce||n instanceof z||n instanceof Se||n instanceof L||n instanceof M&&this===n.object||n instanceof An}),r(xe,function(e){var n,t,i,r,o=e.parent();return o instanceof _e&&o.expression===this||o instanceof Ee||o instanceof be&&o.expression===this||o instanceof xe&&(n=o.operator,t=Jn[n],i=this.operator,t>(r=Jn[i])||t==r&&this===o.right)||void 0}),r(An,function(e){var n=e.parent();return n instanceof xe&&"="!==n.operator||n instanceof _e&&n.expression===this||n instanceof Ce&&n.condition===this||n instanceof Ee||n instanceof be&&n.expression===this||void 0}),r(be,function(e){var n,t=e.parent();if(t instanceof ve&&t.expression===this)return n=!1,this.walk(new ei(function(e){return!!(n||e instanceof P)||(e instanceof _e?(n=!0,!0):void 0)})),n}),r(_e,function(e){var n,t=e.parent();return t instanceof ve&&t.expression===this||this.expression instanceof q&&t instanceof be&&t.expression===this&&(n=e.parent(1))instanceof ke&&n.left===t}),r(ve,function(e){var n=e.parent();if(!l(this,e)&&(n instanceof be||n instanceof _e&&n.expression===this))return!0}),r(pn,function(e){var n,t=e.parent();if(t instanceof be&&t.expression===this&&((n=this.getValue())<0||/^0/.test(f(n))))return!0}),r([ke,Ce],function(e){var n=e.parent();return n instanceof Ee||n instanceof xe&&!(n instanceof ke)||n instanceof _e&&n.expression===this||n instanceof Ce&&n.condition===this||n instanceof be&&n.expression===this||this instanceof ke&&this.left instanceof H&&!1===this.left.is_array||void 0}),e(y,function(e,n){n.print_string(e.value,e.quote),n.semicolon()}),e(L,function(e,n){n.print("..."),e.expression.print(n)}),e(H,function(e,n){n.print(e.is_array?"[":"{");var t=e.names.length;e.names.forEach(function(e,i){i>0&&n.comma(),e.print(n),i==t-1&&e instanceof vn&&n.comma()}),n.print(e.is_array?"]":"}")}),e(b,function(e,n){n.print("debugger"),n.semicolon()}),x.DEFMETHOD("_do_print_body",function(e){c(this.body,e)}),e(D,function(e,n){e.body.print(n),n.semicolon()}),e(N,function(e,n){o(e.body,!0,n,!0),n.print("")}),e(C,function(e,n){e.label.print(n),n.colon(),e.body.print(n)}),e(w,function(e,n){e.body.print(n),n.semicolon()}),e(A,function(e,n){s(e,n)}),e(F,function(e,n){n.semicolon()}),e(B,function(e,n){n.print("do"),n.space(),p(e.body,n),n.space(),n.print("while"),n.space(),n.with_parens(function(){e.condition.print(n)}),n.semicolon()}),e(T,function(e,n){n.print("while"),n.space(),n.with_parens(function(){e.condition.print(n)}),n.space(),e._do_print_body(n)}),e(O,function(e,n){n.print("for"),n.space(),n.with_parens(function(){e.init?(e.init instanceof ce?e.init.print(n):a(e.init,n,!0),n.print(";"),n.space()):n.print(";"),e.condition?(e.condition.print(n),n.print(";"),n.space()):n.print(";"),e.step&&e.step.print(n)}),n.space(),e._do_print_body(n)}),e($,function(e,n){n.print("for"),n.space(),n.with_parens(function(){e.init.print(n),n.space(),n.print(e instanceof M?"of":"in"),n.space(),e.object.print(n)}),n.space(),e._do_print_body(n)}),e(j,function(e,n){n.print("with"),n.space(),n.with_parens(function(){e.expression.print(n)}),n.space(),e._do_print_body(n)}),I.DEFMETHOD("_do_print",function(e,n){var t=this;n||(t.async&&(e.print("async"),e.space()),e.print("function"),t.is_generator&&e.star(),t.name&&e.space()),t.name instanceof Re?t.name.print(e):n&&t.name instanceof v&&e.with_square(function(){t.name.print(e)}),e.with_parens(function(){t.argnames.forEach(function(n,t){t&&e.comma(),n.print(e)})}),e.space(),s(t,e,!0)}),e(I,function(e,n){e._do_print(n)}),e(V,function(e,n){e.prefix.print(n),e.template_string.print(n)}),e(G,function(e,n){var t,i=n.parent()instanceof V;for(n.print("`"),t=0;t<e.segments.length;t++)e.segments[t]instanceof J?i?n.print(e.segments[t].raw):n.print_template_string_chars(e.segments[t].value):(n.print("${"),e.segments[t].print(n),n.print("}"));n.print("`")}),z.DEFMETHOD("_do_print",function(e){var n=this,t=e.parent(),i=t instanceof xe||t instanceof Ee||t instanceof _e&&n===t.expression;i&&e.print("("),n.async&&(e.print("async"),e.space()),1===n.argnames.length&&n.argnames[0]instanceof Re?n.argnames[0].print(e):e.with_parens(function(){n.argnames.forEach(function(n,t){t&&e.comma(),n.print(e)})}),e.space(),e.print("=>"),e.space(),n.body instanceof v?n.body.print(e):s(n,e),i&&e.print(")")}),Y.DEFMETHOD("_do_print",function(e,n){e.print(n),this.value&&(e.space(),this.value.print(e)),e.semicolon()}),e(X,function(e,n){e._do_print(n,"return")}),e(Q,function(e,n){e._do_print(n,"throw")}),e(An,function(e,n){var t=e.is_star?"*":"";n.print("yield"+t),e.expression&&(n.space(),e.expression.print(n))}),e(En,function(e,n){n.print("await"),n.space();var t=e.expression,i=!(t instanceof _e||t instanceof rn||t instanceof be||t instanceof Ee||t instanceof ln);i&&n.print("("),e.expression.print(n),i&&n.print(")")}),Z.DEFMETHOD("_do_print",function(e,n){e.print(n),this.label&&(e.space(),this.label.print(e)),e.semicolon()}),e(K,function(e,n){e._do_print(n,"break")}),e(ee,function(e,n){e._do_print(n,"continue")}),e(ne,function(e,n){n.print("if"),n.space(),n.with_parens(function(){e.condition.print(n)}),n.space(),e.alternative?(function(e,n){var t=e.body;if(n.option("bracketize")||n.option("ie8")&&t instanceof B)return p(t,n);if(!t)return n.force_semicolon();for(;;)if(t instanceof ne){if(!t.alternative)return void p(e.body,n);t=t.alternative}else{if(!(t instanceof x))break;t=t.body}c(e.body,n)}(e,n),n.space(),n.print("else"),n.space(),e.alternative instanceof ne?e.alternative.print(n):c(e.alternative,n)):e._do_print_body(n)}),e(te,function(e,n){n.print("switch"),n.space(),n.with_parens(function(){e.expression.print(n)}),n.space();var t=e.body.length-1;t<0?n.print("{}"):n.with_block(function(){e.body.forEach(function(e,i){n.indent(!0),e.print(n),i<t&&e.body.length>0&&n.newline()})})}),ie.DEFMETHOD("_do_print_body",function(e){e.newline(),this.body.forEach(function(n){e.indent(),n.print(e),e.newline()})}),e(re,function(e,n){n.print("default:"),e._do_print_body(n)}),e(oe,function(e,n){n.print("case"),n.space(),e.expression.print(n),n.print(":"),e._do_print_body(n)}),e(se,function(e,n){n.print("try"),n.space(),s(e,n),e.bcatch&&(n.space(),e.bcatch.print(n)),e.bfinally&&(n.space(),e.bfinally.print(n))}),e(ae,function(e,n){n.print("catch"),n.space(),n.with_parens(function(){e.argname.print(n)}),n.space(),s(e,n)}),e(ue,function(e,n){n.print("finally"),n.space(),s(e,n)}),ce.DEFMETHOD("_do_print",function(e,n){e.print(n),e.space(),this.definitions.forEach(function(n,t){t&&e.comma(),n.print(e)});var t=e.parent();(t instanceof O||t instanceof $)&&t.init===this||e.semicolon()}),e(fe,function(e,n){e._do_print(n,"let")}),e(le,function(e,n){e._do_print(n,"var")}),e(pe,function(e,n){e._do_print(n,"const")}),e(he,function(e,n){n.print("import"),n.space(),e.imported_name&&e.imported_name.print(n),e.imported_name&&e.imported_names&&(n.print(","),n.space()),e.imported_names&&(1===e.imported_names.length&&"*"===e.imported_names[0].foreign_name.name?e.imported_names[0].print(n):(n.print("{"),e.imported_names.forEach(function(t,i){n.space(),t.print(n),i<e.imported_names.length-1&&n.print(",")}),n.space(),n.print("}"))),(e.imported_name||e.imported_names)&&(n.space(),n.print("from"),n.space()),e.module_name.print(n),n.semicolon()}),e(de,function(e,n){var t=n.parent()instanceof he,i=e.name.definition();(i&&i.mangled_name||e.name.name)!==e.foreign_name.name?(t?n.print(e.foreign_name.name):e.name.print(n),n.space(),n.print("as"),n.space(),t?e.name.print(n):n.print(e.foreign_name.name)):e.name.print(n)}),e(me,function(e,n){if(n.print("export"),n.space(),e.is_default&&(n.print("default"),n.space()),e.exported_names)1===e.exported_names.length&&"*"===e.exported_names[0].name.name?e.exported_names[0].print(n):(n.print("{"),e.exported_names.forEach(function(t,i){n.space(),t.print(n),i<e.exported_names.length-1&&n.print(",")}),n.space(),n.print("}"));else if(e.exported_value)e.exported_value.print(n);else if(e.exported_definition&&(e.exported_definition.print(n),e.exported_definition instanceof ce))return;e.module_name&&(n.space(),n.print("from"),n.space(),e.module_name.print(n)),n.semicolon()}),e(ge,function(e,n){if(e.name.print(n),e.value){n.space(),n.print("="),n.space();var t=n.parent(1),i=t instanceof O||t instanceof $;a(e.value,n,i)}}),e(_e,function(e,n){e.expression.print(n),e instanceof ve&&!l(e,n)||((e.expression instanceof _e||e.expression instanceof I)&&n.add_mapping(e.start),n.with_parens(function(){e.args.forEach(function(e,t){t&&n.comma(),e.print(n)})}))}),e(ve,function(e,n){n.print("new"),n.space(),_e.prototype._codegen(e,n)}),De.DEFMETHOD("_do_print",function(e){this.expressions.forEach(function(n,t){t>0&&(e.comma(),e.should_break()&&(e.newline(),e.indent())),n.print(e)})}),e(De,function(e,n){e._do_print(n)}),e(ye,function(e,n){var t,i=e.expression;i.print(n),t=e.property,n.option("ie8")&&Cn(t)?(n.print("["),n.add_mapping(e.end),n.print_string(t),n.print("]")):(i instanceof pn&&i.getValue()>=0&&(/[xa-f.)]/i.test(n.last())||n.print(".")),n.print("."),n.add_mapping(e.end),n.print_name(t))}),e(we,function(e,n){e.expression.print(n),n.print("["),e.property.print(n),n.print("]")}),e(Ae,function(e,n){var t=e.operator;n.print(t),(/^[a-z]/i.test(t)||/[+-]$/.test(t)&&e.expression instanceof Ae&&/^[+-]/.test(e.expression.operator))&&n.space(),e.expression.print(n)}),e(Fe,function(e,n){e.expression.print(n),n.print(e.operator)}),e(xe,function(e,n){var t=e.operator;e.left.print(n),">"==t[0]&&e.left instanceof Fe&&"--"==e.left.operator?n.print(" "):n.space(),n.print(t),("<"==t||"<<"==t)&&e.right instanceof Ae&&"!"==e.right.operator&&e.right.expression instanceof Ae&&"--"==e.right.expression.operator?n.print(" "):n.space(),e.right.print(n)}),e(Ce,function(e,n){e.condition.print(n),n.space(),n.print("?"),n.space(),e.consequent.print(n),n.space(),n.colon(),e.alternative.print(n)}),e(Be,function(e,n){n.with_square(function(){var t=e.elements,i=t.length;i>0&&n.space(),t.forEach(function(e,t){t&&n.comma(),e.print(n),t===i-1&&e instanceof vn&&n.comma()}),i>0&&n.space()})}),e(Te,function(e,n){e.properties.length>0?n.with_block(function(){e.properties.forEach(function(e,t){t&&(n.print(","),n.newline()),n.indent(),e.print(n)}),n.newline()}):n.print("{}")}),e(Ne,function(e,n){if(n.print("class"),n.space(),e.name&&(e.name.print(n),n.space()),e.extends){var t=!(e.extends instanceof rn||e.extends instanceof be||e.extends instanceof Ie||e.extends instanceof q);n.print("extends"),t?n.print("("):n.space(),e.extends.print(n),t?n.print(")"):n.space()}e.properties.length>0?n.with_block(function(){e.properties.forEach(function(e,t){t&&n.newline(),n.indent(),e.print(n)}),n.newline()}):n.print("{}")}),e(qe,function(e,n){n.print("new.target")}),e($e,function(e,n){function t(e){var n=e.definition();return n?n.mangled_name||n.name:e.name}var i=n.option("shorthand");i&&e.value instanceof Re&&ui(e.key)&&t(e.value)===e.key&&oi(e.key)?u(e.key,e.quote,n):i&&e.value instanceof Se&&e.value.left instanceof Re&&ui(e.key)&&t(e.value.left)===e.key?(u(e.key,e.quote,n),n.space(),n.print("="),n.space(),e.value.right.print(n)):(e.key instanceof v?n.with_square(function(){e.key.print(n)}):u(e.key,e.quote,n),n.colon(),e.value.print(n))}),Oe.DEFMETHOD("_print_getter_setter",function(e,n){var t=this;t.static&&(n.print("static"),n.space()),e&&(n.print(e),n.space()),t.key instanceof Ye?u(t.key.name,t.quote,n):n.with_square(function(){t.key.print(n)}),t.value._do_print(n,!0)}),e(Me,function(e,n){e._print_getter_setter("set",n)}),e(je,function(e,n){e._print_getter_setter("get",n)}),e(Pe,function(e,n){e._print_getter_setter(e.is_generator?"*":e.async&&"async",n)}),Re.DEFMETHOD("_do_print",function(e){var n=this.definition();e.print_name(n?n.mangled_name||n.name:this.name)}),e(Re,function(e,n){e._do_print(n)}),e(vn,Lt),e(un,function(e,n){n.print("this")}),e(cn,function(e,n){n.print("super")}),e(ln,function(e,n){n.print(e.getValue())}),e(fn,function(e,t){t.print_string(e.getValue(),e.quote,n)}),e(pn,function(e,n){i&&e.start&&null!=e.start.raw?n.print(e.start.raw):n.print(f(e.getValue()))}),e(dn,function(e,n){var t,i=e.getValue(),r=i.toString();i.raw_source&&(r="/"+i.raw_source+r.slice(r.lastIndexOf("/"))),r=n.to_utf8(r),n.print(r),(t=n.parent())instanceof xe&&/^in/.test(t.operator)&&t.left===e&&n.print(" ")}),d(v,Lt),d(y,h),d(b,h),d(Re,h),d(W,h),d(x,h),d(C,Lt),d(I,h),d(te,h),d(ie,h),d(A,h),d(N,Lt),d(ve,h),d(se,h),d(ae,h),d(ue,h),d(ce,h),d(ln,h),d(Me,function(e,n){n.add_mapping(e.start,e.key.name)}),d(je,function(e,n){n.add_mapping(e.start,e.key.name)}),d(Oe,function(e,n){n.add_mapping(e.start,e.key)})}(),vi.prototype=new di,Nt(vi.prototype,{option:function(e){return this.options[e]},exposed:function(e){if(e.export)return!0;if(e.global)for(var n=0,t=e.orig.length;n<t;n++)if(!this.toplevel[e.orig[n]instanceof We?"funcs":"vars"])return!0;return!1},in_boolean_context:function(){if(!this.option("booleans"))return!1;for(var e,n=this.self(),t=0;e=this.parent(t);t++){if(e instanceof w||e instanceof Ce&&e.condition===n||e instanceof S&&e.condition===n||e instanceof O&&e.condition===n||e instanceof ne&&e.condition===n||e instanceof Ae&&"!"==e.operator&&e.expression===n)return!0;if(!(e instanceof xe&&("&&"==e.operator||"||"==e.operator)||e instanceof Ce||e.tail_node()===n))return!1;n=e}},compress:function(e){var n,t,i,r,o,s;for(this.option("expression")&&e.process_expression(!0),n=+this.options.passes||1,t=1/0,i=!1,r={ie8:this.option("ie8")},o=0;o<n;o++)if(e.figure_out_scope(r),(o>0||this.option("reduce_vars"))&&e.reset_opt_flags(this),e=e.transform(this),n>1)if(s=0,e.walk(new ei(function(){s++})),this.info("pass "+o+": last_count: "+t+", count: "+s),s<t)t=s,i=!1;else{if(i)break;i=!0}return this.option("expression")&&e.process_expression(!1),e},info:function(){"verbose"==this.options.warnings&&v.warn.apply(v,arguments)},warn:function(e,n){if(this.options.warnings){var t=Ht(e,n);t in this.warnings_produced||(this.warnings_produced[t]=!0,v.warn.apply(v,arguments))}},clear_warnings:function(){this.warnings_produced={}},before:function(e,n,t){var i,r;return e._squeezed?e:(i=!1,e instanceof P&&(e=(e=e.hoist_properties(this)).hoist_declarations(this),i=!0),n(e,this),n(e,this),r=e.optimize(this),i&&r instanceof P&&(r.drop_unused(this),n(r,this)),r===e&&(r._squeezed=!0),r)}}),function(){var e,n,t,i,r,o,s,a,u,c,l,f,p,d;function h(e,n){e.DEFMETHOD("optimize",function(e){if(this._optimized)return this;if(e.has_directive("use asm"))return this;var t=n(this,e);return t._optimized=!0,t})}function m(e){return e instanceof z||e instanceof q}function _(e){if(e instanceof un)return!0;if(e instanceof rn)return e.definition().orig[0]instanceof Xe;if(e instanceof be){if((e=e.expression)instanceof rn){if(e.is_immutable())return!1;e=e.fixed_value()}return!e||!(e instanceof dn)&&(e instanceof ln||_(e))}return!1}function x(e,n){if(!(e instanceof rn))return!1;for(var t=e.definition().orig,i=t.length;--i>=0;)if(t[i]instanceof n)return!0}function M(e,n){for(var t,i=0;(t=e.parent(i++))&&!(t instanceof P);)if(t instanceof ae){t=t.argname.definition().scope;break}return t.find_variable(n)}function ue(e,n,t){return t||(t={}),n&&(t.start||(t.start=n.start),t.end||(t.end=n.end)),new e(t)}function de(e,n){return 1==n.length?n[0]:ue(De,e,{expressions:n.reduce(Ge,[])})}function Me(e,n){switch(typeof e){case"string":return ue(fn,n,{value:e});case"number":return isNaN(e)?ue(gn,n):isFinite(e)?1/e<0?ue(Ae,n,{operator:"-",expression:ue(pn,n,{value:-e})}):ue(pn,n,{value:e}):e<0?ue(Ae,n,{operator:"-",expression:ue(Dn,n)}):ue(Dn,n);case"boolean":return ue(e?wn:yn,n);case"undefined":return ue(_n,n);default:if(null===e)return ue(mn,n,{value:null});if(e instanceof RegExp)return ue(dn,n,{value:e});throw new Error(Ht("Can't handle constant of type: {type}",{type:typeof e}))}}function qe(e,n,t){return e instanceof Ae&&"delete"==e.operator||e instanceof _e&&e.expression===n&&(t instanceof be||t instanceof rn&&"eval"==t.name)?de(n,[ue(pn,n,{value:0}),t]):t}function Ge(e,n){return n instanceof De?e.push.apply(e,n.expressions):e.push(n),e}function Qe(e){if(null===e)return[];if(e instanceof A)return e.body;if(e instanceof F)return[];if(e instanceof D)return[e];throw new Error("Can't convert thing to statement array")}function Ze(e){return null===e||e instanceof F||e instanceof A&&0==e.body.length}function en(e){return!(e instanceof Le||e instanceof U||e instanceof fe||e instanceof pe||e instanceof me||e instanceof he)}function nn(e){return e instanceof k&&e.body instanceof A?e.body:e}function tn(e){return"Call"==e.TYPE&&(e.expression instanceof q||tn(e.expression))}function sn(e){return e instanceof rn&&e.definition().undeclared}function an(e){return e instanceof Dn||e instanceof gn||e instanceof _n}function cn(e,n){var t,i=n.find_parent(P).get_defun_scope(),r=10;do{t=!1,a(e),n.option("dead_code")&&c(e,n),n.option("if_return")&&u(e,n),n.sequences_limit>0&&(f(e,n),d(e,n)),n.option("join_vars")&&D(e),n.option("collapse_vars")&&s(e,n)}while(t&&r-- >0);function s(e,n){var r,s,a,u,c,l,f,p,d,h,v,D,y,A,F,C,B,T,M,N,I,R,q,U,V;if(i.uses_eval||i.uses_with)return e;for(s=[],a=n.self()instanceof se,u=e.length,c=new di(function(e,r){var s,u,l,m,g,_,E;if(M)return e;if(e instanceof te){if(!T){if(e!==f[p])return e;p++}for(e.expression=e.expression.transform(c),s=0,u=e.body.length;!M&&s<u;s++)if((l=e.body[s])instanceof oe){if(!T){if(l!==f[p])continue;p++}if(l.expression=l.expression.transform(c),F||!A)break}return M=!0,e}if(!T){if(e!==f[p])return e;if(++p<f.length)return;return T=!0,(v=function e(n,t){var i=c.parent(t);return i instanceof xe?n:i instanceof _e?n:i instanceof oe?n:i instanceof Ce?n:i instanceof ce?e(i,t+1):i instanceof Y?n:i instanceof ne?n:i instanceof k?n:i instanceof De?e(i,t+1):i instanceof w?e(i,t+1):i instanceof te?n:i instanceof ge?n:null}(e,0))===e&&(M=!0),e}return g=c.parent(),e instanceof ke&&"="!=e.operator&&D.equivalent_to(e.left)||e instanceof En||e instanceof _e&&D instanceof be&&D.equivalent_to(e.expression)||e instanceof b||e instanceof H||e instanceof k&&!(e instanceof O)||e instanceof se||e instanceof j||g instanceof O&&e!==g.init||(F||!A)&&e instanceof rn&&!e.is_declared(n)?(M=!0,e):!I||e instanceof ze||!D.equivalent_to(e)?((e instanceof _e||e instanceof Y||e instanceof be&&(F||e.expression.may_throw_on_access(n))||e instanceof rn&&(y[e.name]||F&&!function(e){return 1==e.orig.length&&e.orig[0]instanceof We||e.scope.get_defun_scope()===i&&e.references.every(function(e){return e.scope.get_defun_scope()===i})}(e.definition()))||(m=function(e){return e instanceof ge?e.value&&e.name:Cn(e.left,e)}(e))&&(m instanceof be||m.name in y)||C&&(a?e.has_side_effects(n):function e(t,r){if(t instanceof ke)return e(t.left,!0)||e(t.right);if(t instanceof ce)return!1;if(t instanceof Ee)return e(t.expression,!0);if(t instanceof ge)return t.value&&e(t.value);if(r){if(t instanceof ye)return e(t.expression,!0);if(t instanceof we)return e(t.expression,!0)||e(t.property);if(t instanceof rn)return t.definition().scope!==i}return t.has_side_effects(n)}(e))||(F||!A)&&(g instanceof xe&&o(g.operator)||g instanceof Ce||g instanceof ne))&&(v=e,e instanceof P&&(M=!0)),e instanceof P?e:void 0):Cn(e,g)?(h&&N++,e):(t=M=!0,N++,n.info("Collapsing {name} [{file}:{line},{col}]",{name:e.print_to_string(),file:e.start.file,line:e.start.line,col:e.start.col}),d instanceof Fe?ue(Ae,d,d):d instanceof ge?h?(M=!1,e):(_=d.name.definition(),E=d.value,_.references.length-_.replaced!=1||n.exposed(_)?ue(ke,d,{operator:"=",left:ue(rn,d.name,d.name),right:E}):(_.replaced++,B&&an(E)?E.transform(n):qe(g,e,E))):(d.write_only=!1,d))},function(e){M||v!==e||(M=!0)}),l=new di(function(e){if(M)return e;if(!T){if(e!==f[p])return e;if(++p<f.length)return;return T=!0,e}return e instanceof rn&&e.name==U.name?(--N||(M=!0),Cn(e,l.parent())?e:(U.replaced++,h.replaced--,d.value)):e instanceof re||e instanceof P?e:void 0});--u>=0;)for(0==u&&n.option("unused")&&J(),f=[],W(e[u]);s.length>0;)if(p=0,d=(f=s.pop())[f.length-1],h=null,v=null,(D=X(d))&&!_(D)&&!D.has_side_effects(n)){if(y=Z(d),D instanceof rn&&(y[D.name]=!1),!(A=h)&&D instanceof rn&&(U=D.definition()).references.length-U.replaced==(d instanceof ge?1:2)&&(A=!0),F=!((V=d)instanceof Ee)&&Q(V).has_side_effects(n),C=d.may_throw(n),B=d.name instanceof Je,T=B,M=!1,N=0,!(I=!r||!T)){for(R=n.self().argnames.lastIndexOf(d.name)+1;!M&&R<r.length;R++)r[R].transform(c);I=!0}for(q=u;!M&&q<e.length;q++)e[q].transform(c);if(h)if(U=d.name.definition(),M&&U.references.length-U.replaced>N)N=!1;else{for(M=!1,p=0,T=B,q=u;!M&&q<e.length;q++)e[q].transform(l);h.single_use=!1}N&&!K(d)&&e.splice(u,1)}function G(e,n,t){var r=!1,o=!(e instanceof z);return n.walk(new ei(function(n,s){var a,u;if(r)return!0;if(n instanceof rn&&e.variables.has(n.name)){if((a=n.definition().scope)!==i)for(;a=a.parent_scope;)if(a===i)return!0;return r=!0}return(t||o)&&n instanceof un?r=!0:n instanceof P&&!(n instanceof z)?(u=o,o=!1,s(),o=u,!0):void 0})),r}function J(){var e,t,i,o,a,u,c,l,f=n.self();if(m(f)&&!f.name&&!f.uses_arguments&&!f.uses_eval&&(e=n.parent())instanceof _e&&e.expression===f&&Wt(e.args,function(e){return!(e instanceof L)}))for((t=n.has_directive("use strict"))&&!Ot(t,f.body)&&(t=!1),i=f.argnames.length,r=e.args.slice(i),o=Object.create(null),a=i;--a>=0;)u=f.argnames[a],c=e.args[a],r.unshift(ue(ge,u,{name:u,value:c})),u.name in o||(o[u.name]=!0,u instanceof L?Wt(l=e.args.slice(a),function(e){return!G(f,e,t)})&&s.unshift([ue(ge,u,{name:u.expression,value:ue(Be,e,{elements:l})})]):(c?G(f,c,t)&&(c=null):c=ue(_n,u).transform(n),c&&s.unshift([ue(ge,u,{name:u,value:c})])))}function W(e){f.push(e),e instanceof ke?(e.left.has_side_effects(n)||s.push(f.slice()),W(e.right)):e instanceof xe?(W(e.left),W(e.right)):e instanceof _e?(W(e.expression),e.args.forEach(W)):e instanceof oe?W(e.expression):e instanceof Ce?(W(e.condition),W(e.consequent),W(e.alternative)):!(e instanceof ce)||!n.option("unused")&&e instanceof pe?e instanceof S?(W(e.condition),e.body instanceof E||W(e.body)):e instanceof Y?e.value&&W(e.value):e instanceof O?(e.init&&W(e.init),e.condition&&W(e.condition),e.step&&W(e.step),e.body instanceof E||W(e.body)):e instanceof $?(W(e.object),e.body instanceof E||W(e.body)):e instanceof ne?(W(e.condition),e.body instanceof E||W(e.body),!e.alternative||e.alternative instanceof E||W(e.alternative)):e instanceof De?e.expressions.forEach(W):e instanceof w?W(e.body):e instanceof te?(W(e.expression),e.body.forEach(W)):e instanceof Ee?"++"!=e.operator&&"--"!=e.operator||s.push(f.slice()):e instanceof ge&&e.value&&(s.push(f.slice()),W(e.value)):e.definitions.forEach(W),f.pop()}function X(e){var t,i,r,o;return e instanceof ge&&e.name instanceof ze?(i=e.name.definition(),Ot(e.name,i.orig)?(r=i.orig.length-i.eliminated,o=i.references.length-i.replaced,r>1&&!(e.name instanceof Je)||(o>1?function(n){var t,i=e.value;if(i instanceof rn&&"arguments"!=i.name&&!(t=i.definition()).undeclared)return h=t}():!n.exposed(i))?ue(rn,e.name,e.name):void 0):void 0):!x(t=e[e instanceof ke?"left":"expression"],Ve)&&t}function Q(e){return e[e instanceof ke?"right":"value"]}function Z(e){var n,t=Object.create(null);return e instanceof Ee?t:(n=new ei(function(e,i){for(var r=e;r instanceof be;)r=r.expression;(r instanceof rn||r instanceof un)&&(t[r.name]=t[r.name]||Cn(e,n.parent()))}),Q(e).walk(n),t)}function K(t){var i,r,o,s,a;return t.name instanceof Je?(i=n.parent(),(o=(r=n.self().argnames).indexOf(t.name))<0?i.args.length=Math.min(i.args.length,r.length-1):(s=i.args)[o]&&(s[o]=ue(pn,s[o],{value:0})),!0):(a=!1,e[u].transform(new di(function(e,n,i){return a?e:e===t||e.body===t?(a=!0,e instanceof ge?(e.value=null,e):i?g.skip:null):void 0},function(e){if(e instanceof De)switch(e.expressions.length){case 0:return null;case 1:return e.expressions[0]}})))}}function a(e){var n,i,r;for(n=[],i=0;i<e.length;)(r=e[i])instanceof A&&Wt(r.body,en)?(t=!0,a(r.body),[].splice.apply(e,[i,1].concat(r.body)),i+=r.body.length):r instanceof F?(t=!0,e.splice(i,1)):r instanceof y?n.indexOf(r.value)<0?(i++,n.push(r.value)):(t=!0,e.splice(i,1)):i++}function u(e,n){var i,r,o,s,a,u,c,f,p,d,h;for(i=n.self(),r=function(e){var n,t,i;for(n=0,t=e.length;--t>=0;)if((i=e[t])instanceof ne&&i.body instanceof X&&++n>1)return!0;return!1}(e),o=i instanceof I,s=e.length;--s>=0;){if(a=e[s],u=v(s),c=e[u],o&&!c&&a instanceof X){if(!a.value){t=!0,e.splice(s,1);continue}if(a.value instanceof Ae&&"void"==a.value.operator){t=!0,e[s]=ue(w,a,{body:a.value.expression});continue}}if(a instanceof ne){if(m(f=Tn(a.body))){f.label&&Vt(f.label.thedef.references,f),t=!0,(a=a.clone()).condition=a.condition.negate(n),p=_(a.body,f),a.body=ue(A,a,{body:Qe(a.alternative).concat(g())}),a.alternative=ue(A,a,{body:p}),e[s]=a.transform(n);continue}if(m(f=Tn(a.alternative))){f.label&&Vt(f.label.thedef.references,f),t=!0,(a=a.clone()).body=ue(A,a.body,{body:Qe(a.body).concat(g())}),p=_(a.alternative,f),a.alternative=ue(A,a.alternative,{body:p}),e[s]=a.transform(n);continue}}if(a instanceof ne&&a.body instanceof X){if(!(d=a.body.value)&&!a.alternative&&(o&&!c||c instanceof X&&!c.value)){t=!0,e[s]=ue(w,a.condition,{body:a.condition});continue}if(d&&!a.alternative&&c instanceof X&&c.value){t=!0,(a=a.clone()).alternative=c,e.splice(s,1,a.transform(n)),e.splice(u,1);continue}if(d&&!a.alternative&&(!c&&o&&r||c instanceof X)){t=!0,(a=a.clone()).alternative=c||ue(X,a,{value:null}),e.splice(s,1,a.transform(n)),c&&e.splice(u,1);continue}if(h=e[D(s)],n.option("sequences")&&o&&!a.alternative&&h instanceof ne&&h.body instanceof X&&v(u)==e.length&&c instanceof w){t=!0,(a=a.clone()).alternative=ue(A,c,{body:[c,ue(X,c,{value:null})]}),e.splice(s,1,a.transform(n)),e.splice(u,1);continue}}}function m(t){var r,a,u,c,l;if(!t)return!1;for(r=s+1,a=e.length;r<a;r++)if((u=e[r])instanceof pe||u instanceof fe)return!1;return l=t instanceof Z?n.loopcontrol_target(t):null,t instanceof X&&o&&(!(c=t.value)||c instanceof Ae&&"void"==c.operator)||t instanceof ee&&i===nn(l)||t instanceof K&&l instanceof A&&i===l}function g(){var n=e.slice(s+1);return e.length=s+1,n.filter(function(n){return!(n instanceof U&&(e.push(n),1))})}function _(e,n){var t=Qe(e).slice(0,-1);return n.value&&t.push(ue(w,n.value,{body:n.value.expression})),t}function v(n){var t,i,r;for(t=n+1,i=e.length;t<i&&(r=e[t])instanceof le&&l(r);t++);return t}function D(n){var t,i;for(t=n;--t>=0&&(i=e[t])instanceof le&&l(i););return t}}function c(e,n){var i,r,o,s,a,u,c;for(r=n.self(),o=0,s=0,a=e.length;o<a;o++)if((u=e[o])instanceof Z?(c=n.loopcontrol_target(u),u instanceof K&&!(c instanceof k)&&nn(c)===r||u instanceof ee&&nn(c)===r?u.label&&Vt(u.label.thedef.references,u):e[s++]=u):e[s++]=u,Tn(u)){i=e.slice(o+1);break}e.length=s,t=s!=a,i&&i.forEach(function(t){hn(n,t,e)})}function l(e){return Wt(e.definitions,function(e){return!e.value})}function f(e,n){var i,r,o,s,a,u;if(!(e.length<2)){for(i=[],r=0,o=0,s=e.length;o<s;o++)(a=e[o])instanceof w?(i.length>=n.sequences_limit&&c(),u=a.body,i.length>0&&(u=u.drop_side_effect_free(n)),u&&Ge(i,u)):a instanceof ce&&l(a)||a instanceof U?e[r++]=a:(c(),e[r++]=a);c(),e.length=r,r!=s&&(t=!0)}function c(){if(i.length){var n=de(i[0],i);e[r++]=ue(w,n,{body:n}),i=[]}}}function p(e,n){var t,i,r,o;if(!(e instanceof A))return e;for(t=null,i=0,r=e.body.length;i<r;i++)if((o=e.body[i])instanceof le&&l(o))n.push(o);else{if(t)return!1;t=o}return t}function d(e,n){var i,r,o,s,a,u,c,l,f;function d(e){r--,t=!0;var o=i.body;return de(o,[o,e]).transform(n)}for(r=0,o=0;o<e.length;o++)s=e[o],i&&(s instanceof Y?s.value=d(s.value||ue(_n,s).transform(n)):s instanceof O?s.init instanceof ce||(a=!1,i.body.walk(new ei(function(e){return!!(a||e instanceof P)||(e instanceof xe&&"in"==e.operator?(a=!0,!0):void 0)})),a||(s.init?s.init=d(s.init):(s.init=i.body,r--,t=!0))):s instanceof $?s.init instanceof pe||s.init instanceof fe||(s.object=d(s.object)):s instanceof ne?s.condition=d(s.condition):s instanceof te?s.expression=d(s.expression):s instanceof j&&(s.expression=d(s.expression))),n.option("conditionals")&&s instanceof ne&&(u=[],c=p(s.body,u),l=p(s.alternative,u),!1!==c&&!1!==l&&u.length>0)?(f=u.length,u.push(ue(ne,s,{condition:s.condition,body:c||ue(F,s.body),alternative:l})),u.unshift(r,1),[].splice.apply(e,u),o+=f,r+=f+1,i=null,t=!0):(e[r++]=s,i=s instanceof w?s:null);e.length=r}function h(e,t){var r,o,s,a,u,c;if(e instanceof ce&&(o=e.definitions[e.definitions.length-1]).value instanceof Te&&(t instanceof ke?r=[t]:t instanceof De&&(r=t.expressions.slice()),r)){s=!1;do{if(!((a=r[0])instanceof ke))break;if("="!=a.operator)break;if(!(a.left instanceof be))break;if(!((u=a.left.expression)instanceof rn))break;if(o.name.name!=u.name)break;if(!a.right.is_constant_expression(i))break;if((c=a.left.property)instanceof v&&(c=c.evaluate(n)),c instanceof v)break;if(c=""+c,n.option("ecma")<6&&n.has_directive("use strict")&&!Wt(o.value.properties,function(e){return e.key!=c&&e.key.name!=c}))break;o.value.properties.push(ue($e,a,{key:c,value:a.right})),r.shift(),s=!0}while(r.length);return s&&r}}function D(e){var n,i,r,o,s,a,u;for(i=0,r=-1,o=e.length;i<o;i++)if(s=e[i],a=e[r],s instanceof ce)a&&a.TYPE==s.TYPE?(a.definitions=a.definitions.concat(s.definitions),t=!0):n&&n.TYPE==s.TYPE&&l(s)?(n.definitions=n.definitions.concat(s.definitions),t=!0):(e[++r]=s,n=s);else if(s instanceof Y)s.value=c(s.value);else if(s instanceof O)(u=h(a,s.init))?(t=!0,s.init=u.length?de(s.init,u):null,e[++r]=s):a instanceof le&&(!s.init||s.init.TYPE==a.TYPE)?(s.init&&(a.definitions=a.definitions.concat(s.init.definitions)),s.init=a,e[r]=s,t=!0):n&&s.init&&n.TYPE==s.init.TYPE&&l(s.init)?(n.definitions=n.definitions.concat(s.init.definitions),s.init=null,e[++r]=s,t=!0):e[++r]=s;else if(s instanceof $)s.object=c(s.object);else if(s instanceof ne)s.condition=c(s.condition);else if(s instanceof w){if(u=h(a,s.body)){if(t=!0,!u.length)continue;s.body=de(s.body,u)}e[++r]=s}else s instanceof te?s.expression=c(s.expression):s instanceof j?s.expression=c(s.expression):e[++r]=s;function c(n){e[++r]=s;var i=h(a,n);return i?(t=!0,i.length?de(n,i):n instanceof De?n.tail_node().left:n.left):n}e.length=r+1}}function hn(e,n,t){n instanceof U||e.warn("Dropping unreachable code [{file}:{line},{col}]",n.start),n.walk(new ei(function(i){return i instanceof le?(e.warn("Declarations in unreachable code! [{file}:{line},{col}]",i.start),i.remove_initializers(),t.push(i),!0):i instanceof U&&(i===n||!e.has_directive("use strict"))?(t.push(i===n?i:ue(le,i,{definitions:[ue(ge,i,{name:ue(Ue,i.name,i.name),value:null})]})),!0):i instanceof P||void 0}))}function Fn(e){return e instanceof ln?e.getValue():e instanceof Ae&&"void"==e.operator&&e.expression instanceof ln?void 0:e}function xn(e,n){return e.is_undefined||e instanceof _n||e instanceof Ae&&"void"==e.operator&&!e.expression.has_side_effects(n)}function Cn(e,n){return n instanceof Ee&&s(n.operator)?n.expression:n instanceof ke&&n.left===e?e:void 0}function kn(e,n){return e.print_to_string().length>n.print_to_string().length?n:e}function Sn(e,n,t){return(Qt(e)?function(e,n){return kn(ue(w,e,{body:e}),ue(w,n,{body:n})).body}:kn)(n,t)}function Bn(e){for(var n in e)e[n]=Jt(e[n])}function Tn(e){return e&&e.aborts()}function On(e,n){var t,i,r;for(i=0;(t=e.parent(i))&&!(t instanceof I&&(r=t.name)&&r.definition()===n);i++);return t}function $n(e,n){return e instanceof rn||e.TYPE===n.TYPE}function Mn(e,n){var t=!1,i=new ei(function(e){return!!t||(e instanceof rn&&Ot(e.definition(),n)?t=!0:void 0)}),r=new ei(function(n){if(t)return!0;if(n instanceof P&&n!==e){var o=r.parent();if(o instanceof _e&&o.expression===n)return;return n.walk(i),!0}});return e.walk(r),t}function jn(e,n){return n.in_boolean_context()?Sn(n,e,de(e,[e,ue(wn,e)]).optimize(n)):e}function Pn(e,n){if(!n.option("computed_props"))return e;if(!(e.key instanceof ln))return e;if(e.key instanceof fn||e.key instanceof pn){if("constructor"==e.key.value&&n.parent()instanceof Ne)return e;e.key=e instanceof $e?e.key.value:ue(Ye,e.key,{name:e.key.value})}return e}h(v,function(e,n){return e}),v.DEFMETHOD("equivalent_to",function(e){return this.TYPE==e.TYPE&&this.print_to_string()==e.print_to_string()}),P.DEFMETHOD("process_expression",function(e,n){var t=this,i=new di(function(r){var o,s;return e&&r instanceof w?ue(X,r,{value:r.body}):!e&&r instanceof X?n?(o=r.value&&r.value.drop_side_effect_free(n,!0))?ue(w,r,{body:o}):ue(F,r):ue(w,r,{body:r.value||ue(Ae,r,{operator:"void",expression:ue(pn,r,{value:0})})}):r instanceof Ne||r instanceof I&&r!==t?r:(r instanceof E?(s=r.body.length-1)>=0&&(r.body[s]=r.body[s].transform(i)):r instanceof ne?(r.body=r.body.transform(i),r.alternative&&(r.alternative=r.alternative.transform(i))):r instanceof j&&(r.body=r.body.transform(i)),r)});t.transform(i)}),function(e){function n(e,n){n.assignments=0,n.direct_access=!1,n.escaped=!1,n.scope.uses_eval||n.scope.uses_with?n.fixed=!1:n.orig[0]instanceof Ve||!e.exposed(n)?n.fixed=n.init:n.fixed=!1,n.recursive_refs=0,n.references=[],n.should_replace=void 0,n.single_use=void 0}function t(e,t,i){i.variables.each(function(i){n(t,i),null===i.fixed?(i.safe_ids=e.safe_ids,a(e,i,!0)):i.fixed&&(e.loop_ids[i.id]=e.in_loop,a(e,i,!0))})}function i(e,t){t.block_scope&&t.block_scope.variables.each(function(t){n(e,t)})}function r(e){e.safe_ids=Object.create(e.safe_ids)}function s(e){e.safe_ids=Object.getPrototypeOf(e.safe_ids)}function a(e,n,t){e.safe_ids[n.id]=t}function u(e,n){if(e.safe_ids[n.id]){if(null==n.fixed){var t=n.orig[0];if(t instanceof Je||"arguments"==t.name)return!1;n.fixed=ue(_n,t)}return!0}return n.fixed instanceof U}function c(e,n,t){return void 0===n.fixed||(null===n.fixed&&n.safe_ids?(n.safe_ids[n.id]=!1,delete n.safe_ids,!0):!!Xt(e.safe_ids,n.id)&&!!u(e,n)&&!1!==n.fixed&&!(null!=n.fixed&&(!t||n.references.length>n.assignments))&&Wt(n.orig,function(e){return!(e instanceof Ve||e instanceof We||e instanceof Xe)}))}function l(e,n){var t,i,r,o;if(!((n=Fn(n))instanceof v)){if(e instanceof Be){if(i=e.elements,"length"==n)return Me(i.length,e);"number"==typeof n&&n in i&&(t=i[n])}else if(e instanceof Te)for(n=""+n,o=(r=e.properties).length;--o>=0;){if(!(r[o]instanceof $e))return;t||r[o].key!==n||(t=r[o].value)}return t instanceof rn&&t.fixed_value()||t}}e(v,Lt);var f=new ei(function(e){if(e instanceof Re){var n=e.definition();n&&(e instanceof rn&&n.references.push(e),n.fixed=!1)}});function p(e,n,i){this.inlined=!1;var r=e.safe_ids;return e.safe_ids=Object.create(null),t(e,i,this),n(),e.safe_ids=r,!0}function d(e,n,i){var o,u=this;return u.inlined=!1,r(e),t(e,i,u),!u.name&&(o=e.parent())instanceof _e&&o.expression===u&&u.argnames.forEach(function(n,t){if(n.definition){var i=n.definition();u.uses_arguments||void 0!==i.fixed?i.fixed=!1:(i.fixed=function(){return o.args[t]||ue(_n,o)},e.loop_ids[i.id]=e.in_loop,a(e,i,!0))}}),n(),s(e),!0}e(R,function(e,n,i){return r(e),t(e,i,this),n(),s(e),!0}),e(z,d),e(ke,function(e){var n,t=this;if(t.left instanceof H)t.left.walk(f);else if("="==t.operator&&t.left instanceof rn)return c(e,n=t.left.definition(),t.right)?(n.references.push(t.left),n.assignments++,n.fixed=function(){return t.right},a(e,n,!1),t.right.walk(e),a(e,n,!0),!0):void 0}),e(xe,function(e){if(o(this.operator))return this.left.walk(e),r(e),this.right.walk(e),s(e),!0}),e(E,function(e,n,t){i(t,this)}),e(Ie,function(e,n){return this.inlined=!1,r(e),n(),s(e),!0}),e(Ce,function(e){return this.condition.walk(e),r(e),this.consequent.walk(e),s(e),r(e),this.alternative.walk(e),s(e),!0}),e(Le,p),e(U,p),e(B,function(e,n,t){i(t,this);var o=e.in_loop;return e.in_loop=this,r(e),this.body.walk(e),this.condition.walk(e),s(e),e.in_loop=o,!0}),e(O,function(e,n,t){i(t,this),this.init&&this.init.walk(e);var o=e.in_loop;return e.in_loop=this,this.condition&&(r(e),this.condition.walk(e),s(e)),r(e),this.body.walk(e),s(e),this.step&&(r(e),this.step.walk(e),s(e)),e.in_loop=o,!0}),e($,function(e,n,t){i(t,this),this.init.walk(f),this.object.walk(e);var o=e.in_loop;return e.in_loop=this,r(e),this.body.walk(e),s(e),e.in_loop=o,!0}),e(q,d),e(ne,function(e){return this.condition.walk(e),r(e),this.body.walk(e),s(e),this.alternative&&(r(e),this.alternative.walk(e),s(e)),!0}),e(C,function(e){return r(e),this.body.walk(e),s(e),!0}),e(ie,function(e,n){return r(e),n(),s(e),!0}),e(Ke,function(){this.definition().fixed=!1}),e(rn,function(e,n,t){var i,r=this.definition();r.references.push(this),1==r.references.length&&!r.fixed&&r.orig[0]instanceof We&&(e.loop_ids[r.id]=e.in_loop),void 0!==r.fixed&&u(e,r)&&"m"!=r.single_use?r.fixed&&((i=this.fixed_value())instanceof I&&On(e,r)?r.recursive_refs++:i&&!t.exposed(r)&&function(e,n,t){return n.option("unused")&&!t.scope.uses_eval&&!t.scope.uses_with&&t.references.length-t.recursive_refs==1&&e.loop_ids[t.id]===e.in_loop}(e,t,r)?r.single_use=i instanceof I||i instanceof Ne||r.scope===this.scope&&i.is_constant_expression():r.single_use=!1,function e(n,t,i,r,o){var s,a=n.parent(r);return!(!Cn(t,a)&&(o||!(a instanceof _e)||a.expression!==t||i instanceof z||i instanceof Ne||i instanceof q&&(a instanceof ve||!i.contains_this())))||(a instanceof Be?e(n,a,a,r+1):a instanceof $e&&t===a.value?e(n,s=n.parent(r+1),s,r+2):a instanceof be&&a.expression===t?!o&&e(n,a,l(i,a.property),r+1):void 0)}(e,this,i,0,function(e){return!!e&&(e.is_constant()||e instanceof I||e instanceof un)}(i))&&(r.single_use?r.single_use="m":r.fixed=!1)):r.fixed=!1,function e(n,t,i,r,s,a,u){var c,f=n.parent(a);if(s){if(s.is_constant())return;if(s instanceof Ie)return}if(f instanceof ke&&"="==f.operator&&r===f.right||f instanceof _e&&r!==f.expression||f instanceof Y&&r===f.value&&r.scope!==t.scope||f instanceof ge&&r===f.value||f instanceof An&&r===f.value&&r.scope!==t.scope)return!(u>1)||s&&s.is_constant_expression(i)||(u=1),void((!t.escaped||t.escaped>u)&&(t.escaped=u));if(f instanceof Be||f instanceof En||f instanceof xe&&o(f.operator)||f instanceof Ce&&r!==f.condition||f instanceof L||f instanceof De&&r===f.tail_node())e(n,t,i,f,f,a+1,u);else if(f instanceof $e&&r===f.value)e(n,t,i,c=n.parent(a+1),c,a+2,u);else if(f instanceof be&&r===f.expression&&(e(n,t,i,f,s=l(s,f.property),a+1,u+1),s))return;0==a&&(t.direct_access=!0)}(e,r,this.scope,this,i,0,1)}),e(N,function(e,i,r){this.globals.each(function(e){n(r,e)}),t(e,r,this)}),e(se,function(e,n,t){return i(t,this),r(e),Kt(this,e),s(e),this.bcatch&&(r(e),this.bcatch.walk(e),s(e)),this.bfinally&&this.bfinally.walk(e),!0}),e(ge,function(e,n){var t,i=this;if(i.name instanceof H)i.name.walk(f);else{if(c(e,t=i.name.definition(),i.value))return i.value&&(t.fixed=function(){return i.value},e.loop_ids[t.id]=e.in_loop,a(e,t,!1),n()),a(e,t,!0),!0;i.value&&(t.fixed=!1)}}),e(T,function(e,n,t){i(t,this);var o=e.in_loop;return e.in_loop=this,r(e),this.condition.walk(e),this.body.walk(e),s(e),e.in_loop=o,!0})}(function(e,n){e.DEFMETHOD("reduce_vars",n)}),N.DEFMETHOD("reset_opt_flags",function(e){var n=e.option("reduce_vars"),t=new ei(function(i,r){if(i._squeezed=!1,i._optimized=!1,n)return i.reduce_vars(t,r,e)});t.safe_ids=Object.create(null),t.in_loop=null,t.loop_ids=Object.create(null),this.walk(t)}),Re.DEFMETHOD("fixed_value",function(){var e=this.definition().fixed;return!e||e instanceof v?e:e()}),rn.DEFMETHOD("is_immutable",function(){var e=this.definition().orig;return 1==e.length&&e[0]instanceof Xe}),e=Jt("Array Boolean clearInterval clearTimeout console Date decodeURI decodeURIComponent encodeURI encodeURIComponent Error escape eval EvalError Function isFinite isNaN JSON Math Number parseFloat parseInt RangeError ReferenceError RegExp Object setInterval setTimeout String SyntaxError TypeError unescape URIError"),rn.DEFMETHOD("is_declared",function(n){return!this.definition().undeclared||n.option("unsafe")&&e(this.name)}),r=Jt("Infinity NaN undefined"),function(e){function n(e){return/strict/.test(e.option("pure_getters"))}v.DEFMETHOD("may_throw_on_access",function(e){return!e.option("pure_getters")||this._dot_throw(e)}),e(v,n),e(mn,Rt),e(_n,Rt),e(ln,It),e(Be,It),e(Te,function(e){if(!n(e))return!1;for(var t=this.properties.length;--t>=0;)if(this.properties[t]._dot_throw(e))return!0;return!1}),e(Oe,It),e(je,Rt),e(L,function(e){return this.expression._dot_throw(e)}),e(q,It),e(z,It),e(Fe,It),e(Ae,function(){return"void"==this.operator}),e(xe,function(e){return("&&"==this.operator||"||"==this.operator)&&(this.left._dot_throw(e)||this.right._dot_throw(e))}),e(ke,function(e){return"="==this.operator&&this.right._dot_throw(e)}),e(Ce,function(e){return this.consequent._dot_throw(e)||this.alternative._dot_throw(e)}),e(ye,function(e){return!(!n(e)||this.expression instanceof q&&"prototype"==this.property)}),e(De,function(e){return this.tail_node()._dot_throw(e)}),e(rn,function(e){if(this.is_undefined)return!0;if(!n(e))return!1;if(sn(this)&&this.is_declared(e))return!1;if(this.is_immutable())return!1;var t=this.fixed_value();return!t||t._dot_throw(e)})}(function(e,n){e.DEFMETHOD("_dot_throw",n)}),t=["!","delete"],i=["in","instanceof","==","!=","===","!==","<","<=",">=",">"],(n=function(e,n){e.DEFMETHOD("is_boolean",n)})(v,It),n(Ae,function(){return Ot(this.operator,t)}),n(xe,function(){return Ot(this.operator,i)||o(this.operator)&&this.left.is_boolean()&&this.right.is_boolean()}),n(Ce,function(){return this.consequent.is_boolean()&&this.alternative.is_boolean()}),n(ke,function(){return"="==this.operator&&this.right.is_boolean()}),n(De,function(){return this.tail_node().is_boolean()}),n(wn,Rt),n(yn,Rt),function(e){var n,t;e(v,It),e(pn,Rt),n=Jt("+ - ~ ++ --"),e(Ee,function(){return n(this.operator)}),t=Jt("- * / % & | ^ << >> >>>"),e(xe,function(e){return t(this.operator)||"+"==this.operator&&this.left.is_number(e)&&this.right.is_number(e)}),e(ke,function(e){return t(this.operator.slice(0,-1))||"="==this.operator&&this.right.is_number(e)}),e(De,function(e){return this.tail_node().is_number(e)}),e(Ce,function(e){return this.consequent.is_number(e)&&this.alternative.is_number(e)})}(function(e,n){e.DEFMETHOD("is_number",n)}),function(e){e(v,It),e(fn,Rt),e(G,function(){return 1===this.segments.length}),e(Ae,function(){return"typeof"==this.operator}),e(xe,function(e){return"+"==this.operator&&(this.left.is_string(e)||this.right.is_string(e))}),e(ke,function(e){return("="==this.operator||"+="==this.operator)&&this.right.is_string(e)}),e(De,function(e){return this.tail_node().is_string(e)}),e(Ce,function(e){return this.consequent.is_string(e)&&this.alternative.is_string(e)})}(function(e,n){e.DEFMETHOD("is_string",n)}),o=Jt("&& ||"),s=Jt("delete ++ --"),function(e){v.DEFMETHOD("resolve_defines",function(e){var n,t,i,r;if(e.option("global_defs")&&(n=this._find_defs(e,""))){i=this,r=0;do{t=i,i=e.parent(r++)}while(i instanceof be&&i.expression===t);if(!Cn(t,i))return n;e.warn("global_defs "+this.print_to_string()+" redefined [{file}:{line},{col}]",this.start)}}),e(v,Lt),e(ye,function(e,n){return this.expression._find_defs(e,"."+this.property+n)}),e(rn,function(e,n){var t,i,r,o;if(this.global()&&(i=e.option("global_defs"))&&Xt(i,t=this.name+n))return r=function e(n,t){var i,r;if(n instanceof v)return ue(n.CTOR,t,n);if(Array.isArray(n))return ue(Be,t,{elements:n.map(function(n){return e(n,t)})});if(n&&"object"==typeof n){for(r in i=[],n)Xt(n,r)&&i.push(ue($e,t,{key:r,value:e(n[r],t)}));return ue(Te,t,{properties:i})}return Me(n,t)}(i[t],this),o=e.find_parent(N),r.walk(new ei(function(e){e instanceof rn&&(e.scope=o,e.thedef=o.def_global(e))})),r})}(function(e,n){e.DEFMETHOD("_find_defs",n)}),Bn(u={Array:["indexOf","join","lastIndexOf","slice"].concat(a=["constructor","toString","valueOf"]),Boolean:a,Number:["toExponential","toFixed","toPrecision"].concat(a),Object:a,RegExp:["test"].concat(a),String:["charAt","charCodeAt","concat","indexOf","italics","lastIndexOf","match","replace","search","slice","split","substr","substring","trim"].concat(a)}),Bn(c={Array:["isArray"],Math:["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","atan2","pow","max","min"],Number:["isFinite","isNaN"],Object:["create","getOwnPropertyDescriptor","getOwnPropertyNames","getPrototypeOf","isExtensible","isFrozen","isSealed","keys"],String:["fromCharCode"]}),function(e){var n,t,i;v.DEFMETHOD("evaluate",function(e){if(!e.option("evaluate"))return this;var n=this._eval(e,1);return!n||n instanceof RegExp||"object"!=typeof n?n:this}),n=Jt("! ~ - + void"),v.DEFMETHOD("is_constant",function(){return this instanceof ln?!(this instanceof dn):this instanceof Ae&&this.expression instanceof ln&&n(this.operator)}),e(D,function(){throw new Error(Ht("Cannot evaluate a statement [{file}:{line},{col}]",this.start))}),e(I,qt),e(Ne,qt),e(v,qt),e(ln,function(){return this.getValue()}),e(G,function(){return 1!==this.segments.length?this:this.segments[0].value}),e(Be,function(e,n){var t,i,r,o,s;if(e.option("unsafe")){for(t=[],i=0,r=this.elements.length;i<r;i++)if((o=this.elements[i])instanceof q)t.push(o);else{if(o===(s=o._eval(e,n)))return this;t.push(s)}return t}return this}),e(Te,function(e,n){var t,i,r,o,s;if(e.option("unsafe")){for(t={},i=0,r=this.properties.length;i<r;i++){if((o=this.properties[i])instanceof L)return this;if((s=o.key)instanceof Re)s=s.name;else if(s instanceof v&&(s=s._eval(e,n))===o.key)return this;if("function"==typeof Object.prototype[s])return this;if(!(o.value instanceof q)&&(t[s]=o.value._eval(e,n),t[s]===o.value))return this}return t}return this}),e(Ae,function(e,n){var t=this.expression;if(e.option("typeofs")&&"typeof"==this.operator&&(t instanceof I||t instanceof rn&&t.fixed_value()instanceof I))return"function";if((t=t._eval(e,n))===this.expression)return this;switch(this.operator){case"!":return!t;case"typeof":return t instanceof RegExp?this:typeof t;case"void":return;case"~":return~t;case"-":return-t;case"+":return+t}return this}),e(xe,function(e,n){var t,i,r=this.left._eval(e,n);if(r===this.left)return this;if((i=this.right._eval(e,n))===this.right)return this;switch(this.operator){case"&&":t=r&&i;break;case"||":t=r||i;break;case"|":t=r|i;break;case"&":t=r&i;break;case"^":t=r^i;break;case"+":t=r+i;break;case"*":t=r*i;break;case"**":t=Math.pow(r,i);break;case"/":t=r/i;break;case"%":t=r%i;break;case"-":t=r-i;break;case"<<":t=r<<i;break;case">>":t=r>>i;break;case">>>":t=r>>>i;break;case"==":t=r==i;break;case"===":t=r===i;break;case"!=":t=r!=i;break;case"!==":t=r!==i;break;case"<":t=r<i;break;case"<=":t=r<=i;break;case">":t=r>i;break;case">=":t=r>=i;break;default:return this}return isNaN(t)&&e.find_parent(j)?this:t}),e(Ce,function(e,n){var t,i,r=this.condition._eval(e,n);return r===this.condition?this:(i=(t=r?this.consequent:this.alternative)._eval(e,n))===t?this:i}),e(rn,function(e,n){var t,i,r=this.fixed_value();if(!r)return this;if(Xt(r,"_eval"))t=r._eval();else{if(this._eval=qt,t=r._eval(e,n),delete this._eval,t===r)return this;r._eval=function(){return t}}return t&&"object"==typeof t&&(i=this.definition().escaped)&&n>i?this:t}),t={Array,Math,Number,Object,String},Bn(i={Math:["E","LN10","LN2","LOG2E","LOG10E","PI","SQRT1_2","SQRT2"],Number:["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"]}),e(be,function(e,n){var r,o,s;if(e.option("unsafe")){if((r=this.property)instanceof v&&(r=r._eval(e,n))===this.property)return this;if(sn(s=this.expression)){if(!(i[s.name]||It)(r))return this;o=t[s.name]}else if(!(o=s._eval(e,n+1))||o===s||!Xt(o,r))return this;return o[r]}return this}),e(_e,function(e,n){var i,r,o,s,a,l,f,p,d=this.expression;if(e.option("unsafe")&&d instanceof be){if((r=d.property)instanceof v&&(r=r._eval(e,n))===d.property)return this;if(sn(o=d.expression)){if(!(c[o.name]||It)(r))return this;i=t[o.name]}else if((i=o._eval(e,n+1))===o||!(i&&u[i.constructor.name]||It)(r))return this;for(s=[],a=0,l=this.args.length;a<l;a++){if((f=this.args[a])===(p=f._eval(e,n)))return this;s.push(p)}try{return i[r].apply(i,s)}catch(n){e.warn("Error evaluating {code} [{file}:{line},{col}]",{code:this.print_to_string(),file:this.start.file,line:this.start.line,col:this.start.col})}}return this}),e(ve,qt)}(function(e,n){e.DEFMETHOD("_eval",n)}),function(e){function n(e){return ue(Ae,e,{operator:"!",expression:e})}function t(e,t,i){var r,o=n(e);return i?kn(o,r=ue(w,t,{body:t}))===r?t:o:kn(o,t)}e(v,function(){return n(this)}),e(D,function(){throw new Error("Cannot negate a statement")}),e(q,function(){return n(this)}),e(z,function(){return n(this)}),e(Ae,function(){return"!"==this.operator?this.expression:n(this)}),e(De,function(e){var n=this.expressions.slice();return n.push(n.pop().negate(e)),de(this,n)}),e(Ce,function(e,n){var i=this.clone();return i.consequent=i.consequent.negate(e),i.alternative=i.alternative.negate(e),t(this,i,n)}),e(xe,function(e,i){var r=this.clone(),o=this.operator;if(e.option("unsafe_comps"))switch(o){case"<=":return r.operator=">",r;case"<":return r.operator=">=",r;case">=":return r.operator="<",r;case">":return r.operator="<=",r}switch(o){case"==":return r.operator="!=",r;case"!=":return r.operator="==",r;case"===":return r.operator="!==",r;case"!==":return r.operator="===",r;case"&&":return r.operator="||",r.left=r.left.negate(e,i),r.right=r.right.negate(e),t(this,r,i);case"||":return r.operator="&&",r.left=r.left.negate(e,i),r.right=r.right.negate(e),t(this,r,i)}return n(this)})}(function(e,n){e.DEFMETHOD("negate",function(e,t){return n.call(this,e,t)})}),l=Jt("Boolean decodeURI decodeURIComponent Date encodeURI encodeURIComponent Error escape EvalError isFinite isNaN Number Object parseFloat parseInt RangeError ReferenceError String SyntaxError TypeError unescape URIError"),_e.DEFMETHOD("is_expr_pure",function(e){if(e.option("unsafe")){var n=this.expression;if(sn(n)&&l(n.name))return!0;if(n instanceof ye&&sn(n.expression)&&(c[n.expression.name]||It)(n.property))return!0}return this.pure||!e.pure_funcs(this)}),v.DEFMETHOD("is_call_pure",It),ye.DEFMETHOD("is_call_pure",function(e){if(e.option("unsafe")){var n=this.expression,t=It;return n instanceof Be?t=u.Array:n.is_boolean()?t=u.Boolean:n.is_number(e)?t=u.Number:n instanceof dn?t=u.RegExp:n.is_string(e)?t=u.String:this.may_throw_on_access(e)||(t=u.Object),t(this.property)}}),function(e){function n(e,n){for(var t=e.length;--t>=0;)if(e[t].has_side_effects(n))return!0;return!1}e(v,Rt),e(F,It),e(ln,It),e(un,It),e(E,function(e){return n(this.body,e)}),e(_e,function(e){return!(this.is_expr_pure(e)||this.expression.is_call_pure(e)&&!this.expression.has_side_effects(e))||n(this.args,e)}),e(te,function(e){return this.expression.has_side_effects(e)||n(this.body,e)}),e(oe,function(e){return this.expression.has_side_effects(e)||n(this.body,e)}),e(se,function(e){return n(this.body,e)||this.bcatch&&this.bcatch.has_side_effects(e)||this.bfinally&&this.bfinally.has_side_effects(e)}),e(ne,function(e){return this.condition.has_side_effects(e)||this.body&&this.body.has_side_effects(e)||this.alternative&&this.alternative.has_side_effects(e)}),e(C,function(e){return this.body.has_side_effects(e)}),e(w,function(e){return this.body.has_side_effects(e)}),e(I,It),e(Ne,It),e(Le,Rt),e(xe,function(e){return this.left.has_side_effects(e)||this.right.has_side_effects(e)}),e(ke,Rt),e(Ce,function(e){return this.condition.has_side_effects(e)||this.consequent.has_side_effects(e)||this.alternative.has_side_effects(e)}),e(Ee,function(e){return s(this.operator)||this.expression.has_side_effects(e)}),e(rn,function(e){return!this.is_declared(e)}),e(ze,It),e(Te,function(e){return n(this.properties,e)}),e(Oe,function(e){return!!(this.key instanceof $e&&this.key.has_side_effects(e))||this.value.has_side_effects(e)}),e(Be,function(e){return n(this.elements,e)}),e(ye,function(e){return this.expression.may_throw_on_access(e)||this.expression.has_side_effects(e)}),e(we,function(e){return this.expression.may_throw_on_access(e)||this.expression.has_side_effects(e)||this.property.has_side_effects(e)}),e(De,function(e){return n(this.expressions,e)}),e(ce,function(e){return n(this.definitions,e)}),e(ge,function(e){return this.value}),e(J,It),e(G,function(e){return n(this.segments,e)})}(function(e,n){e.DEFMETHOD("has_side_effects",n)}),function(e){function n(e,n){for(var t=e.length;--t>=0;)if(e[t].may_throw(n))return!0;return!1}e(v,Rt),e(Ne,It),e(ln,It),e(F,It),e(I,It),e(ze,It),e(un,It),e(Be,function(e){return n(this.elements,e)}),e(ke,function(e){return"="!=this.operator&&this.left.may_throw(e)||this.right.may_throw(e)}),e(xe,function(e){return this.left.may_throw(e)||this.right.may_throw(e)}),e(E,function(e){return n(this.body,e)}),e(_e,function(e){return!!n(this.args,e)||!this.is_expr_pure(e)&&(!!this.expression.may_throw(e)||!(this.expression instanceof I)||n(this.expression.body,e))}),e(oe,function(e){return this.expression.may_throw(e)||n(this.body,e)}),e(Ce,function(e){return this.condition.may_throw(e)||this.consequent.may_throw(e)||this.alternative.may_throw(e)}),e(ce,function(e){return n(this.definitions,e)}),e(ye,function(e){return this.expression.may_throw_on_access(e)||this.expression.may_throw(e)}),e(ne,function(e){return this.condition.may_throw(e)||this.body&&this.body.may_throw(e)||this.alternative&&this.alternative.may_throw(e)}),e(C,function(e){return this.body.may_throw(e)}),e(Te,function(e){return n(this.properties,e)}),e(Oe,function(e){return this.value.may_throw(e)}),e(De,function(e){return n(this.expressions,e)}),e(w,function(e){return this.body.may_throw(e)}),e(we,function(e){return this.expression.may_throw_on_access(e)||this.expression.may_throw(e)||this.property.may_throw(e)}),e(te,function(e){return this.expression.may_throw(e)||n(this.body,e)}),e(rn,function(e){return!this.is_declared(e)}),e(se,function(e){return n(this.body,e)||this.bcatch&&this.bcatch.may_throw(e)||this.bfinally&&this.bfinally.may_throw(e)}),e(Ee,function(e){return!("typeof"==this.operator&&this.expression instanceof rn)&&this.expression.may_throw(e)}),e(ge,function(e){return!!this.value&&this.value.may_throw(e)})}(function(e,n){e.DEFMETHOD("may_throw",n)}),function(e){function n(e){for(var n=e.length;--n>=0;)if(!e[n].is_constant_expression())return!1;return!0}function t(e){var n=this,t=!0;return n.walk(new ei(function(i){var r,o;if(!t)return!0;if(i instanceof rn){if(n.inlined)return t=!1,!0;if(Ot(r=i.definition(),n.enclosed)&&!n.variables.has(r.name)){if(e&&(o=e.find_variable(i),r.undeclared?!o:o===r))return t="f",!0;t=!1}return!0}return i instanceof un&&n instanceof z?(t=!1,!0):void 0})),t}e(v,It),e(ln,Rt),e(Ne,t),e(I,t),e(Ee,function(){return this.expression.is_constant_expression()}),e(xe,function(){return this.left.is_constant_expression()&&this.right.is_constant_expression()}),e(Be,function(){return n(this.elements)}),e(Te,function(){return n(this.properties)}),e(Oe,function(){return!(this.key instanceof v)&&this.value.is_constant_expression()})}(function(e,n){e.DEFMETHOD("is_constant_expression",n)}),function(e){function n(){var e=this.body.length;return e>0&&Tn(this.body[e-1])}e(D,zt),e(W,qt),e(he,function(){return null}),e(A,n),e(ie,n),e(ne,function(){return this.alternative&&Tn(this.body)&&Tn(this.alternative)&&this})}(function(e,n){e.DEFMETHOD("aborts",n)}),h(y,function(e,n){return n.has_directive(e.value)!==e?ue(F,e):e}),h(b,function(e,n){return n.option("drop_debugger")?ue(F,e):e}),h(C,function(e,n){return e.body instanceof K&&n.loopcontrol_target(e.body)===e.body?ue(F,e):0==e.label.references.length?e.body:e}),h(E,function(e,n){return cn(e.body,n),e}),h(A,function(e,n){switch(cn(e.body,n),e.body.length){case 1:if(!n.has_directive("use strict")&&n.parent()instanceof ne||en(e.body[0]))return e.body[0];break;case 0:return ue(F,e)}return e}),P.DEFMETHOD("drop_unused",function(e){var n,t,i,r,o,s,a,u,c,l,f,p,d,h,m;if(e.option("unused")&&!e.has_directive("use asm")&&!(n=this).uses_eval&&!n.uses_with){for(t=!(n instanceof N)||e.toplevel.funcs,i=!(n instanceof N)||e.toplevel.vars,r=/keep_assign/.test(e.option("unused"))?It:function(e){return e instanceof ke&&(e.write_only||"="==e.operator)?e.left:e instanceof Ee&&e.write_only?e.expression:void 0},o=[],s=Object.create(null),a=Object.create(null),n instanceof N&&e.top_retain&&n.variables.each(function(n){!e.top_retain(n)||n.id in s||(s[n.id]=!0,o.push(n))}),u=new Yt,c=new Yt,l=null,f=this,p=new ei(function(r,d){var h,m;if(r!==n)return r instanceof U||r instanceof Le?(h=r.name.definition(),((m=p.parent()instanceof me)||!t&&f===n)&&(!h.global||h.id in s||(s[h.id]=!0,o.push(h))),c.add(h.id,r),!0):(r instanceof Je&&f===n&&u.add(r.definition().id,r),r instanceof ce&&f===n?(m=p.parent()instanceof me,r.definitions.forEach(function(n){var t,r;n.name instanceof Ue&&u.add(n.name.definition().id,n),!m&&i||n.name.walk(new ei(function(e){if(e instanceof ze){var n=e.definition();!m&&!n.global||n.id in s||(s[n.id]=!0,o.push(n))}})),n.value&&(n.name instanceof H?(t=l,l=n.value,n.walk(p),l=t):(r=n.name.definition(),c.add(r.id,n.value),n.name.fixed_value()===n.value&&(a[r.id]=n)),n.value.has_side_effects(e)&&n.value.walk(p))}),!0):(r.destructuring&&l&&c.add(r.name,l),_(r,d)))}),n.walk(p),p=new ei(_),d=0;d<o.length;d++)(h=c.get(o[d].id))&&h.forEach(function(e){e.walk(p)});m=new di(function(o,c,l){var p,d,h,_,v,D,b,y,E,x,k,S,B,T=m.parent();if(i&&(D=r(o))instanceof rn)if(p=(d=D.definition()).id in s,o instanceof ke){if(!p||d.id in a&&a[d.id]!==o)return qe(T,o,o.right.transform(m))}else if(!p)return ue(pn,o,{value:0});if(f===n){if(o.name&&(!e.option("keep_classnames")&&o instanceof Ie||!e.option("keep_fnames")&&o instanceof q)&&((d=o.name.definition()).id in s&&!(d.orig.length>1)||(o.name=null)),o instanceof I&&!(o instanceof R))for(h=!e.option("keep_fargs"),v=(_=o.argnames).length;--v>=0;)(D=_[v])instanceof L&&(D=D.expression),D instanceof Se&&(D=D.left),D instanceof H||D.definition().id in s?h=!1:(D.__unused=!0,h&&(_.pop(),e[D.unreferenced()?"warn":"info"]("Dropping unused function argument {name} [{file}:{line},{col}]",M(D))));if((o instanceof U||o instanceof Le)&&o!==n&&!((d=o.name.definition()).id in s||!t&&d.global))return e[o.name.unreferenced()?"warn":"info"]("Dropping unused function {name} [{file}:{line},{col}]",M(o.name)),d.eliminated++,ue(F,o);if(o instanceof ce&&!(T instanceof $&&T.init===o))switch(b=!(T instanceof N||o instanceof le),y=[],E=[],x=[],k=[],o.definitions.forEach(function(n){var t,r,c,l,f;if(n.value&&(n.value=n.value.transform(m)),n.name instanceof H)return x.push(n);if(t=n.name.definition(),b&&t.global)return x.push(n);if(!i&&!b||t.id in s){if(n.value&&t.id in a&&a[t.id]!==n&&(n.value=n.value.drop_side_effect_free(e)),n.name instanceof Ue&&(r=u.get(t.id)).length>1&&(!n.value||t.orig.indexOf(n.name)>t.eliminated))return e.warn("Dropping duplicated definition of variable {name} [{file}:{line},{col}]",M(n.name)),n.value&&(c=ue(rn,n.name,n.name),t.references.push(c),l=ue(ke,n,{operator:"=",left:c,right:n.value}),a[t.id]===n&&(a[t.id]=l),k.push(l.transform(m))),Vt(r,n),void t.eliminated++;n.value?(k.length>0&&(x.length>0?(k.push(n.value),n.value=de(n.value,k)):y.push(ue(w,o,{body:de(o,k)})),k=[]),x.push(n)):E.push(n)}else t.orig[0]instanceof Ke?((f=n.value&&n.value.drop_side_effect_free(e))&&k.push(f),n.value=null,E.push(n)):((f=n.value&&n.value.drop_side_effect_free(e))?(e.warn("Side effects in initialization of unused variable {name} [{file}:{line},{col}]",M(n.name)),k.push(f)):e[n.name.unreferenced()?"warn":"info"]("Dropping unused variable {name} [{file}:{line},{col}]",M(n.name)),t.eliminated++)}),(E.length>0||x.length>0)&&(o.definitions=E.concat(x),y.push(o)),k.length>0&&y.push(ue(w,o,{body:de(o,k)})),y.length){case 0:return l?g.skip:ue(F,o);case 1:return y[0];default:return l?g.splice(y):ue(A,o,{body:y})}if(o instanceof O)return c(o,this),o.init instanceof A&&(S=o.init,o.init=S.body.pop(),S.body.push(o)),o.init instanceof w?o.init=o.init.body:Ze(o.init)&&(o.init=null),S?l?g.splice(S.body):S:o;if(o instanceof C&&o.body instanceof O)return c(o,this),o.body instanceof A?(S=o.body,o.body=S.body.pop(),S.body.push(o),l?g.splice(S.body):S):o;if(o instanceof A)return c(o,this),l&&Wt(o.body,en)?g.splice(o.body):o;if(o instanceof P)return B=f,f=o,c(o,this),f=B,o}function M(e){return{name:e.name,file:e.start.file,line:e.start.line,col:e.start.col}}}),n.transform(m)}function _(e,t){var i,u,c=r(e);return c instanceof rn&&!x(e.left,He)&&n.variables.get(c.name)===(i=c.definition())?(e instanceof ke&&(e.right.walk(p),e.left.fixed_value()===e.right&&(a[i.id]=e)),!0):e instanceof rn?((i=e.definition()).id in s||(s[i.id]=!0,o.push(i),(i=i.redefined())&&(s[i.id]=!0,o.push(i))),!0):e instanceof P?(u=f,f=e,t(),f=u,!0):void 0}}),P.DEFMETHOD("hoist_declarations",function(e){var n,t,i,r,o,s,a,u,c,l,f,p,d,h,m,g=this;if(e.has_directive("use asm"))return g;if(!Array.isArray(g.body))return g;if(n=e.option("hoist_funs"),t=e.option("hoist_vars"),n||t){if(i=[],r=[],o=new Yt,s=0,a=0,g.walk(new ei(function(e){return e instanceof P&&e!==g||(e instanceof le?(++a,!0):void 0)})),t=t&&a>1,u=new di(function(a){var c,l,f;if(a!==g){if(a instanceof y)return i.push(a),ue(F,a);if(n&&a instanceof U&&!(u.parent()instanceof me)&&u.parent()===g)return r.push(a),ue(F,a);if(t&&a instanceof le)return a.definitions.forEach(function(e){e.name instanceof H||(o.set(e.name.name,e),++s)}),c=a.to_assignments(e),(l=u.parent())instanceof $&&l.init===a?null==c?(f=a.definitions[0].name,ue(rn,f,f)):c:l instanceof O&&l.init===a?c:c?ue(w,a,{body:c}):ue(F,a);if(a instanceof P)return a}}),g=g.transform(u),s>0&&(c=[],o.each(function(e,n){g instanceof I&&$t(function(n){return n.name==e.name.name},g.args_as_names())?o.del(n):((e=e.clone()).value=null,c.push(e),o.set(n,e))}),c.length>0)){for(l=0;l<g.body.length;){if(g.body[l]instanceof w){if((d=g.body[l].body)instanceof ke&&"="==d.operator&&(f=d.left)instanceof Re&&o.has(f.name)){if((h=o.get(f.name)).value)break;h.value=d.right,Vt(c,h),c.push(h),g.body.splice(l,1);continue}if(d instanceof De&&(p=d.expressions[0])instanceof ke&&"="==p.operator&&(f=p.left)instanceof Re&&o.has(f.name)){if((h=o.get(f.name)).value)break;h.value=p.right,Vt(c,h),c.push(h),g.body[l].body=de(d,d.expressions.slice(1));continue}}if(g.body[l]instanceof F)g.body.splice(l,1);else{if(!(g.body[l]instanceof A))break;m=[l,1].concat(g.body[l].body),g.body.splice.apply(g.body,m)}}c=ue(le,g,{definitions:c}),r.push(c)}g.body=i.concat(r,g.body)}return g}),P.DEFMETHOD("var_names",function(){var e=this._var_names;return e||(this._var_names=e=Object.create(null),this.enclosed.forEach(function(n){e[n.name]=!0}),this.variables.each(function(n,t){e[t]=!0})),e}),P.DEFMETHOD("make_var_name",function(e){for(var n=this.var_names(),t=e=e.replace(/[^a-z_$]+/gi,"_"),i=0;n[t];i++)t=e+"$"+i;return n[t]=!0,t}),P.DEFMETHOD("hoist_properties",function(e){var n,t,i,r=this;return!e.option("hoist_props")||e.has_directive("use asm")?r:(n=r instanceof N&&e.top_retain||It,t=Object.create(null),i=new di(function(o,s){var a,u,c,l,f;return o instanceof ce&&i.parent()instanceof me?o:o instanceof ge&&(l=o.name).scope===r&&1!=(f=l.definition()).escaped&&!f.single_use&&!f.direct_access&&!e.exposed(f)&&!n(f)&&(a=l.fixed_value())===o.value&&a instanceof Te?(s(o,this),u=new Yt,c=[],a.properties.forEach(function(e){var n,t,i;c.push(ue(ge,o,{name:(n=e.key,t=ue(l.CTOR,l,{name:r.make_var_name(l.name+"_"+n),scope:r}),i=r.def_variable(t),u.set(n,i),r.enclosed.push(i),t),value:e.value}))}),t[f.id]=u,g.splice(c)):o instanceof be&&o.expression instanceof rn&&(u=t[o.expression.definition().id])?(f=u.get(Fn(o.property)),(l=ue(rn,o,{name:f.name,scope:o.expression.scope,thedef:f})).reference({}),l):void 0}),r.transform(i))}),function(e){function n(e,n,t){var i,r,o,s,a=e.length;if(!a)return null;for(i=[],r=!1,o=0;o<a;o++)r|=(s=e[o].drop_side_effect_free(n,t))!==e[o],s&&(i.push(s),t=!1);return r?i.length?i:null:e}e(v,qt),e(ln,zt),e(un,zt),e(_e,function(e,t){var i,r,o;return this.is_expr_pure(e)?(this.pure&&e.warn("Dropping __PURE__ call [{file}:{line},{col}]",this.start),(o=n(this.args,e,t))&&de(this,o)):this.expression.is_call_pure(e)?((i=this.args.slice()).unshift(this.expression.expression),(i=n(i,e,t))&&de(this,i)):!m(this.expression)||this.expression.name&&this.expression.name.definition().references.length?this:((r=this.clone()).expression.process_expression(!1,e),r)}),e(R,zt),e(q,zt),e(z,zt),e(Ie,zt),e(xe,function(e,n){var t,i,r=this.right.drop_side_effect_free(e);return r?o(this.operator)?r===this.right?this:((t=this.clone()).right=r,t):(i=this.left.drop_side_effect_free(e,n))?de(this,[i,r]):this.right.drop_side_effect_free(e,n):this.left.drop_side_effect_free(e,n)}),e(ke,function(e){var n=this.left;if(n.has_side_effects(e)||e.has_directive("use strict")&&n instanceof be&&n.expression.is_constant())return this;for(this.write_only=!0;n instanceof be;)n=n.expression;return n.is_constant_expression(e.find_parent(P))?this.right.drop_side_effect_free(e):this}),e(Ce,function(e){var n,t=this.consequent.drop_side_effect_free(e),i=this.alternative.drop_side_effect_free(e);return t===this.consequent&&i===this.alternative?this:t?i?((n=this.clone()).consequent=t,n.alternative=i,n):ue(xe,this,{operator:"&&",left:this.condition,right:t}):i?ue(xe,this,{operator:"||",left:this.condition,right:i}):this.condition.drop_side_effect_free(e)}),e(Ee,function(e,n){if(s(this.operator))return this.write_only=!this.expression.has_side_effects(e),this;if("typeof"==this.operator&&this.expression instanceof rn)return null;var t=this.expression.drop_side_effect_free(e,n);return n&&t&&tn(t)?t===this.expression&&"!"==this.operator?this:t.negate(e,n):t}),e(rn,function(e){return this.is_declared(e)?null:this}),e(Te,function(e,t){var i=n(this.properties,e,t);return i&&de(this,i)}),e(Oe,function(e,n){return this.value.drop_side_effect_free(e,n)}),e(Be,function(e,t){var i=n(this.elements,e,t);return i&&de(this,i)}),e(ye,function(e,n){return this.expression.may_throw_on_access(e)?this:this.expression.drop_side_effect_free(e,n)}),e(we,function(e,n){var t,i;return this.expression.may_throw_on_access(e)?this:(t=this.expression.drop_side_effect_free(e,n))?(i=this.property.drop_side_effect_free(e))?de(this,[t,i]):t:this.property.drop_side_effect_free(e,n)}),e(De,function(e){var n,t=this.tail_node(),i=t.drop_side_effect_free(e);return i===t?this:(n=this.expressions.slice(0,-1),i&&n.push(i),de(this,n))}),e(L,function(e,n){return this.expression.drop_side_effect_free(e,n)}),e(J,zt),e(G,function(e){var t=n(this.segments,e,Qt);return t&&de(this,t)})}(function(e,n){e.DEFMETHOD("drop_side_effect_free",n)}),h(w,function(e,n){if(n.option("side_effects")){var t=e.body,i=t.drop_side_effect_free(n,!0);if(!i)return n.warn("Dropping side-effect-free statement [{file}:{line},{col}]",e.start),ue(F,e);if(i!==t)return ue(w,e,{body:i})}return e}),h(T,function(e,n){return n.option("loops")?ue(O,e,e).optimize(n):e}),h(B,function(e,n){var t,i,r,o;if(!n.option("loops"))return e;if(!((t=e.condition.tail_node().evaluate(n))instanceof v)){if(t)return ue(O,e,{body:ue(A,e.body,{body:[e.body,ue(w,e.condition,{body:e.condition})]})}).optimize(n);if(i=!1,r=new ei(function(n){return!!(n instanceof P||i)||(n instanceof Z&&r.loopcontrol_target(n)===e?i=!0:void 0)}),((o=n.parent())instanceof C?o:e).walk(r),!i)return ue(A,e.body,{body:[e.body,ue(w,e.condition,{body:e.condition})]}).optimize(n)}return e}),h(O,function(e,n){var t,i,r;return n.option("loops")?(n.option("side_effects")&&e.init&&(e.init=e.init.drop_side_effect_free(n)),e.condition&&((t=e.condition.evaluate(n))instanceof v||(t?e.condition=null:n.option("dead_code")||(i=e.condition,e.condition=Me(t,e.condition),e.condition=kn(e.condition.transform(n),i))),n.option("dead_code")&&(t instanceof v&&(t=e.condition.tail_node().evaluate(n)),!t))?(r=[],hn(n,e.body,r),e.init instanceof D?r.push(e.init):e.init&&r.push(ue(w,e.init,{body:e.init})),r.push(ue(w,e.condition,{body:e.condition})),ue(A,e,{body:r}).optimize(n)):function e(n,t){var i,r=n.body instanceof A?n.body.body[0]:n.body;return t.option("dead_code")&&o(r)?(i=[],n.init instanceof D?i.push(n.init):n.init&&i.push(ue(w,n.init,{body:n.init})),n.condition&&i.push(ue(w,n.condition,{body:n.condition})),hn(t,n.body,i),ue(A,n,{body:i})):(r instanceof ne&&(o(r.body)?(n.condition?n.condition=ue(xe,n.condition,{left:n.condition,operator:"&&",right:r.condition.negate(t)}):n.condition=r.condition.negate(t),s(r.alternative)):o(r.alternative)&&(n.condition?n.condition=ue(xe,n.condition,{left:n.condition,operator:"&&",right:r.condition}):n.condition=r.condition,s(r.body))),n);function o(e){return e instanceof K&&t.loopcontrol_target(e)===t.self()}function s(i){i=Qe(i),n.body instanceof A?(n.body=n.body.clone(),n.body.body=i.concat(n.body.body.slice(1)),n.body=n.body.transform(t)):n.body=ue(A,n.body,{body:i}).transform(t),n=e(n,t)}}(e,n)):e}),h(ne,function(e,n){var t,i,r,o,s,a,u,c,l;if(Ze(e.alternative)&&(e.alternative=null),!n.option("conditionals"))return e;if(t=e.condition.evaluate(n),n.option("dead_code")||t instanceof v||(i=e.condition,e.condition=Me(t,i),e.condition=kn(e.condition.transform(n),i)),n.option("dead_code")){if(t instanceof v&&(t=e.condition.tail_node().evaluate(n)),!t)return n.warn("Condition always false [{file}:{line},{col}]",e.condition.start),r=[],hn(n,e.body,r),r.push(ue(w,e.condition,{body:e.condition})),e.alternative&&r.push(e.alternative),ue(A,e,{body:r}).optimize(n);if(!(t instanceof v))return n.warn("Condition always true [{file}:{line},{col}]",e.condition.start),r=[],e.alternative&&hn(n,e.alternative,r),r.push(ue(w,e.condition,{body:e.condition})),r.push(e.body),ue(A,e,{body:r}).optimize(n)}return o=e.condition.negate(n),s=e.condition.print_to_string().length,u=(a=o.print_to_string().length)<s,e.alternative&&u&&(u=!1,e.condition=o,c=e.body,e.body=e.alternative||ue(F,e),e.alternative=c),Ze(e.body)&&Ze(e.alternative)?ue(w,e.condition,{body:e.condition.clone()}).optimize(n):e.body instanceof w&&e.alternative instanceof w?ue(w,e,{body:ue(Ce,e,{condition:e.condition,consequent:e.body.body,alternative:e.alternative.body})}).optimize(n):Ze(e.alternative)&&e.body instanceof w?(s===a&&!u&&e.condition instanceof xe&&"||"==e.condition.operator&&(u=!0),u?ue(w,e,{body:ue(xe,e,{operator:"||",left:o,right:e.body.body})}).optimize(n):ue(w,e,{body:ue(xe,e,{operator:"&&",left:e.condition,right:e.body.body})}).optimize(n)):e.body instanceof F&&e.alternative instanceof w?ue(w,e,{body:ue(xe,e,{operator:"||",left:e.condition,right:e.alternative.body})}).optimize(n):e.body instanceof Y&&e.alternative instanceof Y&&e.body.TYPE==e.alternative.TYPE?ue(e.body.CTOR,e,{value:ue(Ce,e,{condition:e.condition,consequent:e.body.value||ue(_n,e.body),alternative:e.alternative.value||ue(_n,e.alternative)}).transform(n)}).optimize(n):(e.body instanceof ne&&!e.body.alternative&&!e.alternative&&(e=ue(ne,e,{condition:ue(xe,e.condition,{operator:"&&",left:e.condition,right:e.body.condition}),body:e.body.body,alternative:null})),Tn(e.body)&&e.alternative?(l=e.alternative,e.alternative=null,ue(A,e,{body:[e,l]}).optimize(n)):Tn(e.alternative)?(r=e.body,e.body=e.alternative,e.condition=u?o:e.condition.negate(n),e.alternative=null,ue(A,e,{body:[e,r]}).optimize(n)):e)}),h(te,function(e,n){var t,i,r,o,s,a,u,c,l,f,p,d,h,m,g,_;if(!n.option("switches"))return e;if((i=e.expression.evaluate(n))instanceof v||(r=e.expression,e.expression=Me(i,r),e.expression=kn(e.expression.transform(n),r)),!n.option("dead_code"))return e;for(i instanceof v&&(i=e.expression.tail_node().evaluate(n)),a=[],u=[],c=0,l=e.body.length;c<l&&!s;c++){if((t=e.body[c])instanceof re)o?D(t,u[u.length-1]):o=t;else if(!(i instanceof v)){if(!((g=t.expression.evaluate(n))instanceof v)&&g!==i){D(t,u[u.length-1]);continue}g instanceof v&&(g=t.expression.tail_node().evaluate(n)),g===i&&(s=t,o)&&(f=u.indexOf(o),u.splice(f,1),D(o,u[f-1]),o=null)}Tn(t)&&Tn(p=u[u.length-1])&&p.body.length==t.body.length&&ue(A,p,p).equivalent_to(ue(A,t,t))&&(p.body=[]),u.push(t)}for(;c<l;)D(e.body[c++],u[u.length-1]);for(u.length>0&&(u[0].body=a.concat(u[0].body)),e.body=u;(t=u[u.length-1])&&((d=t.body[t.body.length-1])instanceof K&&n.loopcontrol_target(d)===e&&t.body.pop(),!(t.body.length||t instanceof oe&&(o||t.expression.has_side_effects(n))));)u.pop()===o&&(o=null);return 0==u.length?ue(A,e,{body:a.concat(ue(w,e.expression,{body:e.expression}))}).optimize(n):1!=u.length||u[0]!==s&&u[0]!==o||(h=!1,m=new ei(function(n){if(h||n instanceof I||n instanceof w)return!0;n instanceof K&&m.loopcontrol_target(n)===e&&(h=!0)}),e.walk(m),h)?e:(_=u[0].body.slice(),(g=u[0].expression)&&_.unshift(ue(w,g,{body:g})),_.unshift(ue(w,e.expression,{body:e.expression})),ue(A,e,{body:_}).optimize(n));function D(e,t){t&&!Tn(t)?t.body=t.body.concat(e.body):hn(n,e,a)}}),h(se,function(e,n){if(cn(e.body,n),e.bcatch&&e.bfinally&&Wt(e.bfinally.body,Ze)&&(e.bfinally=null),n.option("dead_code")&&Wt(e.body,Ze)){var t=[];return e.bcatch&&(hn(n,e.bcatch,t),t.forEach(function(e){e instanceof ce&&e.definitions.forEach(function(e){var n=e.name.definition().redefined();n&&(e.name=e.name.clone(),e.name.thedef=n)})})),e.bfinally&&(t=t.concat(e.bfinally.body)),ue(A,e,{body:t}).optimize(n)}return e}),ce.DEFMETHOD("remove_initializers",function(){var e=[];this.definitions.forEach(function(n){n.name instanceof ze?(n.value=null,e.push(n)):n.name.walk(new ei(function(t){t instanceof ze&&e.push(ue(ge,n,{name:t,value:null}))}))}),this.definitions=e}),ce.DEFMETHOD("to_assignments",function(e){var n=e.option("reduce_vars"),t=this.definitions.reduce(function(e,t){var i,r,o;return!t.value||t.name instanceof H?t.value&&(i=ue(ge,t,{name:t.name,value:t.value}),r=ue(le,t,{definitions:[i]}),e.push(r)):(o=ue(rn,t.name,t.name),e.push(ue(ke,t,{operator:"=",left:o,right:t.value})),n&&(o.definition().fixed=!1)),(t=t.name.definition()).eliminated++,t.replaced--,e},[]);return 0==t.length?null:de(this,t)}),h(ce,function(e,n){return 0==e.definitions.length?ue(F,e):e}),h(he,function(e,n){return e}),h(_e,function(e,n){var t,i,o,s,a,u,c,l,f,p,d,h,g,_,D,b,y,E,F,x,C,S,B,T,O,$,M,j,R,U,V,G,J=e.expression,W=J,Y=Wt(e.args,function(e){return!(e instanceof L)});if(n.option("reduce_vars")&&W instanceof rn&&(W=W.fixed_value()),t=W instanceof I,n.option("unused")&&Y&&t&&!W.uses_arguments&&!W.uses_eval){for(i=0,o=0,s=0,a=e.args.length;s<a;s++){if(W.argnames[s]instanceof L){if(W.argnames[s].expression.__unused)for(;s<a;)(g=e.args[s++].drop_side_effect_free(n))&&(e.args[i++]=g);else for(;s<a;)e.args[i++]=e.args[s++];o=i;break}if((u=s>=W.argnames.length)||W.argnames[s].__unused){if(g=e.args[s].drop_side_effect_free(n))e.args[i++]=g;else if(!u){e.args[i++]=ue(pn,e.args[s],{value:0});continue}}else e.args[i++]=e.args[s];o=i}e.args.length=o}if(n.option("unsafe"))if(sn(J))switch(J.name){case"Array":if(1!=e.args.length)return ue(Be,e,{elements:e.args}).optimize(n);break;case"Object":if(0==e.args.length)return ue(Te,e,{properties:[]});break;case"String":if(0==e.args.length)return ue(fn,e,{value:""});if(e.args.length<=1)return ue(xe,e,{left:e.args[0],operator:"+",right:ue(fn,e,{value:""})}).optimize(n);break;case"Number":if(0==e.args.length)return ue(pn,e,{value:0});if(1==e.args.length)return ue(Ae,e,{expression:e.args[0],operator:"+"}).optimize(n);case"Boolean":if(0==e.args.length)return ue(yn,e);if(1==e.args.length)return ue(Ae,e,{expression:ue(Ae,e,{expression:e.args[0],operator:"!"}),operator:"!"}).optimize(n);break;case"RegExp":if(c=[],Wt(e.args,function(e){var t=e.evaluate(n);return c.unshift(t),e!==t}))try{return Sn(n,e,ue(dn,e,{value:RegExp.apply(RegExp,c)}))}catch(t){n.warn("Error converting {expr} [{file}:{line},{col}]",{expr:e.print_to_string(),file:e.start.file,line:e.start.line,col:e.start.col})}break;case"Symbol":return e.args=[],e}else if(J instanceof ye)switch(J.property){case"toString":if(0==e.args.length&&!J.expression.may_throw_on_access(n))return ue(xe,e,{left:ue(fn,e,{value:""}),operator:"+",right:J.expression}).optimize(n);break;case"join":if(J.expression instanceof Be)e:if(!(e.args.length>0&&(l=e.args[0].evaluate(n))===e.args[0])){for(p=[],d=[],s=0,a=J.expression.elements.length;s<a;s++){if((h=J.expression.elements[s])instanceof L)break e;(O=h.evaluate(n))!==h?d.push(O):(d.length>0&&(p.push(ue(fn,e,{value:d.join(l)})),d.length=0),p.push(h))}return d.length>0&&p.push(ue(fn,e,{value:d.join(l)})),0==p.length?ue(fn,e,{value:""}):1==p.length?p[0].is_string(n)?p[0]:ue(xe,p[0],{operator:"+",left:ue(fn,e,{value:""}),right:p[0]}):""==l?(f=p[0].is_string(n)||p[1].is_string(n)?p.shift():ue(fn,e,{value:""}),p.reduce(function(e,n){return ue(xe,n,{operator:"+",left:e,right:n})},f).optimize(n)):((g=e.clone()).expression=g.expression.clone(),g.expression.expression=g.expression.expression.clone(),g.expression.expression.elements=p,Sn(n,e,g))}break;case"charAt":if(J.expression.is_string(n)&&(D=(_=e.args[0])?_.evaluate(n):0)!==_)return ue(we,J,{expression:J.expression,property:Me(0|D,_||J)}).optimize(n);break;case"apply":if(2==e.args.length&&e.args[1]instanceof Be)return(B=e.args[1].elements.slice()).unshift(e.args[0]),ue(_e,e,{expression:ue(ye,J,{expression:J.expression,property:"call"}),args:B}).optimize(n);break;case"call":if((b=J.expression)instanceof rn&&(b=b.fixed_value()),b instanceof I&&!b.contains_this())return de(this,[e.args[0],ue(_e,e,{expression:J.expression,args:e.args.slice(1)})]).optimize(n)}if(n.option("unsafe_Function")&&sn(J)&&"Function"==J.name){if(0==e.args.length)return ue(q,e,{argnames:[],body:[]}).optimize(n);if(Wt(e.args,function(e){return e instanceof fn}))try{return y=pi(C="n(function("+e.args.slice(0,-1).map(function(e){return e.value}).join(",")+"){"+e.args[e.args.length-1].value+"})"),E={ie8:n.option("ie8")},y.figure_out_scope(E),x=new vi(n.options),(y=y.transform(x)).figure_out_scope(E),Yn.reset(),y.compute_char_frequency(E),y.mangle_names(E),y.walk(new ei(function(e){return!!F||(m(e)?(F=e,!0):void 0)})),F.body instanceof v&&(F.body=[ue(X,F.body,{value:F.body})]),C=_i(),A.prototype._codegen.call(F,F,C),e.args=[ue(fn,e,{value:F.argnames.map(function(e){return e.print_to_string()}).join(",")}),ue(fn,e.args[e.args.length-1],{value:C.get().replace(/^\{|\}$/g,"")})],e}catch(t){if(!(t instanceof ci))throw t;n.warn("Error parsing code passed to new Function [{file}:{line},{col}]",e.args[e.args.length-1].start),n.warn(t.toString())}}if((S=t&&W.body)instanceof v?S=ue(X,S,{value:S}):S&&(S=S[0]),n.option("inline")&&S instanceof X&&(!(O=S.value)||O.is_constant_expression()))return B=e.args.concat(O||ue(_n,e)),de(e,B).optimize(n);if(t&&!W.is_generator&&!W.async){if(j=-1,n.option("inline")&&Y&&!W.uses_arguments&&!W.uses_eval&&!(W.name&&W instanceof q)&&(O=function(e){var t,i,r=W.body instanceof v?[W.body]:W.body,o=r.length;if(n.option("inline")<3)return 1==o&&Q(e);for(e=null,t=0;t<o;t++)if((i=r[t])instanceof le){if(e&&!Wt(i.definitions,function(e){return!e.value}))return!1}else{if(e)return!1;e=i}return Q(e)}(S))&&(J===W||n.option("unused")&&1==(T=J.definition()).references.length&&!On(n,T)&&W.is_constant_expression(J.scope))&&!e.pure&&!W.contains_this()&&function(){var e,t,i=Object.create(null);do{if(($=n.parent(++j))instanceof ae)i[$.argname.name]=!0;else if($ instanceof k)M=[];else if($ instanceof rn&&$.fixed_value()instanceof P)return!1}while(!($ instanceof P)||$ instanceof z);return e=!($ instanceof N)||n.toplevel.vars,!(!function(e,n){var t,i,o,s,a;for(t=W.body.length,i=0;i<t;i++)if((o=W.body[i])instanceof le){if(!n)return!1;for(s=o.definitions.length;--s>=0;){if(e[(a=o.definitions[s].name).name]||r(a.name)||$.var_names()[a.name])return!1;M&&M.push(a.definition())}}return!0}(i,(t=n.option("inline"))>=3&&e)||!function(e,n){var t,i,o;for(t=0,i=W.argnames.length;t<i;t++){if((o=W.argnames[t])instanceof Se){if(o.left.__unused)continue;return!1}if(o instanceof H)return!1;if(o instanceof L){if(o.expression.__unused)continue;return!1}if(!o.__unused){if(!n||e[o.name]||r(o.name)||$.var_names()[o.name])return!1;M&&M.push(o.definition())}}return!0}(i,t>=2&&e)||M&&0!=M.length&&Mn(W,M))}())return de(e,(V=[],G=[],function(n,t){var i,r,o,s,a;for(i=W.argnames.length,r=e.args.length;--r>=i;)t.push(e.args[r]);for(r=i;--r>=0;)o=W.argnames[r],s=e.args[r],o.__unused||!o.name||$.var_names()[o.name]?s&&t.push(s):(a=ue(Ue,o,o),o.definition().orig.push(a),!s&&M&&(s=ue(_n,e)),Z(n,t,a,s));n.reverse(),t.reverse()}(V,G),function(e,n){var t,i,r,o,s,a,u,c,l,f;for(t=n.length,i=0,r=W.body.length;i<r;i++)if((o=W.body[i])instanceof le)for(s=0,a=o.definitions.length;s<a;s++)Z(e,n,c=(u=o.definitions[s]).name,u.value),M&&(l=c.definition(),f=ue(rn,c,c),l.references.push(f),n.splice(t++,0,ue(ke,u,{operator:"=",left:f,right:ue(_n,c)})))}(V,G),G.push(O),V.length&&(s=$.body.indexOf(n.parent(j-1))+1,$.body.splice(s,0,ue(le,W,{definitions:V}))),G)).optimize(n);if(n.option("side_effects")&&!(W.body instanceof v)&&Wt(W.body,Ze))return B=e.args.concat(ue(_n,e)),de(e,B).optimize(n)}if(n.option("drop_console")&&J instanceof be){for(R=J.expression;R.expression;)R=R.expression;if(sn(R)&&"console"==R.name)return ue(_n,e).optimize(n)}return n.option("negate_iife")&&n.parent()instanceof w&&tn(e)?e.negate(n,!0):(U=e.evaluate(n))!==e?(U=Me(U,e).optimize(n),Sn(n,U,e)):e;function Q(n){return n?n instanceof X?n.value?n.value.clone(!0):ue(_n,e):n instanceof w?ue(Ae,n,{operator:"void",expression:n.body.clone(!0)}):void 0:ue(_n,e)}function Z(n,t,i,r){var o,s=i.definition();$.variables.set(i.name,s),$.enclosed.push(s),$.var_names()[i.name]||($.var_names()[i.name]=!0,n.push(ue(ge,i,{name:i,value:null}))),o=ue(rn,i,i),s.references.push(o),r&&t.push(ue(ke,e,{operator:"=",left:o,right:r}))}}),h(ve,function(e,n){if(n.option("unsafe")){var t=e.expression;if(sn(t))switch(t.name){case"Object":case"RegExp":case"Function":case"Error":case"Array":return ue(_e,e,e).transform(n)}}return e}),h(De,function(e,n){var t,i,r,o;return n.option("side_effects")?(r=[],t=Qt(n),i=e.expressions.length-1,e.expressions.forEach(function(e,o){o<i&&(e=e.drop_side_effect_free(n,t)),e&&(Ge(r,e),t=!1)}),o=r.length-1,function(){for(;o>0&&xn(r[o],n);)o--;o<r.length-1&&(r[o]=ue(Ae,e,{operator:"void",expression:r[o]}),r.length=o+1)}(),0==o?((e=qe(n.parent(),n.self(),r[0]))instanceof De||(e=e.optimize(n)),e):(e.expressions=r,e)):e}),Ee.DEFMETHOD("lift_sequences",function(e){if(e.option("sequences")&&this.expression instanceof De){var n=this.expression.expressions.slice(),t=this.clone();return t.expression=n.pop(),n.push(t),de(this,n).optimize(e)}return this}),h(Fe,function(e,n){return e.lift_sequences(n)}),h(Ae,function(e,n){var t,i,r=e.expression;if("delete"==e.operator&&!(r instanceof rn||r instanceof be||an(r)))return r instanceof De?((r=r.expressions.slice()).push(ue(wn,e)),de(e,r).optimize(n)):de(e,[r,ue(wn,e)]).optimize(n);if((t=e.lift_sequences(n))!==e)return t;if(n.option("side_effects")&&"void"==e.operator)return(r=r.drop_side_effect_free(n))?(e.expression=r,e):ue(_n,e).optimize(n);if(n.in_boolean_context())switch(e.operator){case"!":if(r instanceof Ae&&"!"==r.operator)return r.expression;r instanceof xe&&(e=Sn(n,e,r.negate(n,Qt(n))));break;case"typeof":return n.warn("Boolean expression always true [{file}:{line},{col}]",e.start),(r instanceof rn?ue(wn,e):de(e,[r,ue(wn,e)])).optimize(n)}return"-"==e.operator&&r instanceof Dn&&(r=r.transform(n)),!(r instanceof xe)||"+"!=e.operator&&"-"!=e.operator||"*"!=r.operator&&"/"!=r.operator&&"%"!=r.operator?"-"==e.operator&&(r instanceof pn||r instanceof Dn)||(i=e.evaluate(n))===e?e:Sn(n,i=Me(i,e).optimize(n),e):ue(xe,e,{operator:r.operator,left:ue(Ae,r.left,{operator:e.operator,expression:r.left}),right:r.right})}),xe.DEFMETHOD("lift_sequences",function(e){var n,t,i,r,o;if(e.option("sequences")){if(this.left instanceof De)return n=this.left.expressions.slice(),(t=this.clone()).left=n.pop(),n.push(t),de(this,n).optimize(e);if(this.right instanceof De&&!this.left.has_side_effects(e)){for(i="="==this.operator&&this.left instanceof rn,r=(n=this.right.expressions).length-1,o=0;o<r&&(i||!n[o].has_side_effects(e));o++);if(o==r)return n=n.slice(),(t=this.clone()).right=n.pop(),n.push(t),de(this,n).optimize(e);if(o>0)return(t=this.clone()).right=de(this.right,n.slice(o)),(n=n.slice(0,o)).push(t),de(this,n).optimize(e)}}return this}),f=Jt("== === != !== * & | ^"),h(xe,function(e,n){var t,i,r,s,a,u,c,l,p,d;function h(){return e.left.is_constant()||e.right.is_constant()||!e.left.has_side_effects(n)&&!e.right.has_side_effects(n)}function m(n){if(h()){n&&(e.operator=n);var t=e.left;e.left=e.right,e.right=t}}if(f(e.operator)&&e.right.is_constant()&&!e.left.is_constant()&&(e.left instanceof xe&&Jn[e.left.operator]>=Jn[e.operator]||m()),e=e.lift_sequences(n),n.option("comparisons"))switch(e.operator){case"===":case"!==":(e.left.is_string(n)&&e.right.is_string(n)||e.left.is_number(n)&&e.right.is_number(n)||e.left.is_boolean()&&e.right.is_boolean()||e.left.equivalent_to(e.right))&&(e.operator=e.operator.substr(0,2));case"==":case"!=":if(n.option("typeofs")&&e.left instanceof fn&&"undefined"==e.left.value&&e.right instanceof Ae&&"typeof"==e.right.operator)((t=e.right.expression)instanceof rn?!t.is_declared(n):t instanceof be&&n.option("ie8"))||(e.right=t,e.left=ue(_n,e.left).optimize(n),2==e.operator.length&&(e.operator+="="));else if(e.left instanceof rn&&e.right instanceof rn&&e.left.definition()===e.right.definition()&&((i=e.left.fixed_value())instanceof Be||i instanceof I||i instanceof Te||i instanceof Ne))return ue("="==e.operator[0]?wn:yn,e)}if("+"==e.operator&&n.in_boolean_context()){if(r=e.left.evaluate(n),s=e.right.evaluate(n),r&&"string"==typeof r)return n.warn("+ in boolean context always true [{file}:{line},{col}]",e.start),de(e,[e.right,ue(wn,e)]).optimize(n);if(s&&"string"==typeof s)return n.warn("+ in boolean context always true [{file}:{line},{col}]",e.start),de(e,[e.left,ue(wn,e)]).optimize(n)}if(n.option("comparisons")&&e.is_boolean()&&(n.parent()instanceof xe&&!(n.parent()instanceof ke)||(a=ue(Ae,e,{operator:"!",expression:e.negate(n,Qt(n))}),e=Sn(n,e,a)),n.option("unsafe_comps")))switch(e.operator){case"<":m(">");break;case"<=":m(">=")}if("+"==e.operator){if(e.right instanceof fn&&""==e.right.getValue()&&e.left.is_string(n))return e.left;if(e.left instanceof fn&&""==e.left.getValue()&&e.right.is_string(n))return e.right;if(e.left instanceof xe&&"+"==e.left.operator&&e.left.left instanceof fn&&""==e.left.left.getValue()&&e.right.is_string(n))return e.left=e.left.right,e.transform(n)}if(n.option("evaluate")){switch(e.operator){case"&&":if(!(r=!!e.left.truthy||!e.left.falsy&&e.left.evaluate(n)))return n.warn("Condition left of && always false [{file}:{line},{col}]",e.start),qe(n.parent(),n.self(),e.left).optimize(n);if(!(r instanceof v))return n.warn("Condition left of && always true [{file}:{line},{col}]",e.start),de(e,[e.left,e.right]).optimize(n);if(s=e.right.evaluate(n)){if(!(s instanceof v)&&("&&"==(u=n.parent()).operator&&u.left===n.self()||n.in_boolean_context()))return n.warn("Dropping side-effect-free && [{file}:{line},{col}]",e.start),e.left.optimize(n)}else{if(n.in_boolean_context())return n.warn("Boolean && always false [{file}:{line},{col}]",e.start),de(e,[e.left,ue(yn,e)]).optimize(n);e.falsy=!0}if("||"==e.left.operator&&!(c=e.left.right.evaluate(n)))return ue(Ce,e,{condition:e.left.left,consequent:e.right,alternative:e.left.right}).optimize(n);break;case"||":if(!(r=!!e.left.truthy||!e.left.falsy&&e.left.evaluate(n)))return n.warn("Condition left of || always false [{file}:{line},{col}]",e.start),de(e,[e.left,e.right]).optimize(n);if(!(r instanceof v))return n.warn("Condition left of || always true [{file}:{line},{col}]",e.start),qe(n.parent(),n.self(),e.left).optimize(n);if(s=e.right.evaluate(n)){if(!(s instanceof v)){if(n.in_boolean_context())return n.warn("Boolean || always true [{file}:{line},{col}]",e.start),de(e,[e.left,ue(wn,e)]).optimize(n);e.truthy=!0}}else if("||"==(u=n.parent()).operator&&u.left===n.self()||n.in_boolean_context())return n.warn("Dropping side-effect-free || [{file}:{line},{col}]",e.start),e.left.optimize(n);if("&&"==e.left.operator&&(c=e.left.right.evaluate(n))&&!(c instanceof v))return ue(Ce,e,{condition:e.left.left,consequent:e.left.right,alternative:e.right}).optimize(n)}switch(l=!0,e.operator){case"+":if(e.left instanceof ln&&e.right instanceof xe&&"+"==e.right.operator&&e.right.left instanceof ln&&e.right.is_string(n)&&(e=ue(xe,e,{operator:"+",left:ue(fn,e.left,{value:""+e.left.getValue()+e.right.left.getValue(),start:e.left.start,end:e.right.left.end}),right:e.right.right})),e.right instanceof ln&&e.left instanceof xe&&"+"==e.left.operator&&e.left.right instanceof ln&&e.left.is_string(n)&&(e=ue(xe,e,{operator:"+",left:e.left.left,right:ue(fn,e.right,{value:""+e.left.right.getValue()+e.right.getValue(),start:e.left.right.start,end:e.right.end})})),e.left instanceof xe&&"+"==e.left.operator&&e.left.is_string(n)&&e.left.right instanceof ln&&e.right instanceof xe&&"+"==e.right.operator&&e.right.left instanceof ln&&e.right.is_string(n)&&(e=ue(xe,e,{operator:"+",left:ue(xe,e.left,{operator:"+",left:e.left.left,right:ue(fn,e.left.right,{value:""+e.left.right.getValue()+e.right.left.getValue(),start:e.left.right.start,end:e.right.left.end})}),right:e.right.right})),e.right instanceof Ae&&"-"==e.right.operator&&e.left.is_number(n)){e=ue(xe,e,{operator:"-",left:e.left,right:e.right.expression});break}if(e.left instanceof Ae&&"-"==e.left.operator&&h()&&e.right.is_number(n)){e=ue(xe,e,{operator:"-",left:e.right,right:e.left.expression});break}case"*":l=n.option("unsafe_math");case"&":case"|":case"^":e.left.is_number(n)&&e.right.is_number(n)&&h()&&!(e.left instanceof xe&&e.left.operator!=e.operator&&Jn[e.left.operator]>=Jn[e.operator])&&(p=ue(xe,e,{operator:e.operator,left:e.right,right:e.left}),e=e.right instanceof ln&&!(e.left instanceof ln)?Sn(n,p,e):Sn(n,e,p)),l&&e.is_number(n)&&(e.right instanceof xe&&e.right.operator==e.operator&&(e=ue(xe,e,{operator:e.operator,left:ue(xe,e.left,{operator:e.operator,left:e.left,right:e.right.left,start:e.left.start,end:e.right.left.end}),right:e.right.right})),e.right instanceof ln&&e.left instanceof xe&&e.left.operator==e.operator&&(e.left.left instanceof ln?e=ue(xe,e,{operator:e.operator,left:ue(xe,e.left,{operator:e.operator,left:e.left.left,right:e.right,start:e.left.left.start,end:e.right.end}),right:e.left.right}):e.left.right instanceof ln&&(e=ue(xe,e,{operator:e.operator,left:ue(xe,e.left,{operator:e.operator,left:e.left.right,right:e.right,start:e.left.right.start,end:e.right.end}),right:e.left.left}))),e.left instanceof xe&&e.left.operator==e.operator&&e.left.right instanceof ln&&e.right instanceof xe&&e.right.operator==e.operator&&e.right.left instanceof ln&&(e=ue(xe,e,{operator:e.operator,left:ue(xe,e.left,{operator:e.operator,left:ue(xe,e.left.left,{operator:e.operator,left:e.left.right,right:e.right.left,start:e.left.right.start,end:e.right.left.end}),right:e.left.left}),right:e.right.right})))}}return e.right instanceof xe&&e.right.operator==e.operator&&(o(e.operator)||"+"==e.operator&&(e.right.left.is_string(n)||e.left.is_string(n)&&e.right.right.is_string(n)))?(e.left=ue(xe,e.left,{operator:e.operator,left:e.left,right:e.right.left}),e.right=e.right.right,e.transform(n)):(d=e.evaluate(n))!==e?(d=Me(d,e).optimize(n),Sn(n,d,e)):e}),h(on,function(e,n){return e}),h(rn,function(e,n){var t,i,r,o,s,a,u,c,l,f,p,d,h,g,_,v=e.resolve_defines(n);if(v)return v.optimize(n);if(!n.option("ie8")&&sn(e)&&(!e.scope.uses_with||!n.find_parent(j)))switch(e.name){case"undefined":return ue(_n,e).optimize(n);case"NaN":return ue(gn,e).optimize(n);case"Infinity":return ue(Dn,e).optimize(n)}if(n.option("reduce_vars")&&Cn(e,n.parent())!==e){if(t=e.definition(),i=e.fixed_value(),(r=t.single_use)&&(i instanceof I||i instanceof Ne))if(t.scope!==e.scope&&(!n.option("reduce_funcs")&&i instanceof I||1==t.escaped||i.inlined))r=!1;else if(On(n,t))r=!1;else if((t.scope!==e.scope||t.orig[0]instanceof Je)&&"f"==(r=i.is_constant_expression(e.scope))){o=e.scope;do{(o instanceof U||m(o))&&(o.inlined=!0)}while(o=o.parent_scope)}if(r&&i)return i instanceof Le&&(i=ue(Ie,i,i)),i instanceof U&&(i._squeezed=!0,i=ue(q,i,i)),t.recursive_refs>0&&i.name instanceof We?(a=(s=i.clone(!0)).name.definition(),(c=(u=s.variables.get(s.name.name))&&u.orig[0])instanceof Xe||((c=ue(Xe,s.name,s.name)).scope=s,s.name=c,u=s.def_function(c)),s.walk(new ei(function(e){e instanceof rn&&e.definition()===a&&(e.thedef=u,u.references.push(e))}))):(s=i.optimize(n))===i&&(s=i.clone(!0)),s;if(i&&void 0===t.should_replace&&(i instanceof un?t.orig[0]instanceof Je||!Wt(t.references,function(e){return t.scope===e.scope})||(l=i):(f=i.evaluate(n))===i||!n.option("unsafe_regexp")&&f instanceof RegExp||(l=Me(f,i)),l?(d=l.optimize(n).print_to_string().length,i.walk(new ei(function(e){if(e instanceof rn&&(_=!0),_)return!0})),_?p=function(){var e=l.optimize(n);return e===l?e.clone(!0):e}:(d=Math.min(d,i.print_to_string().length),p=function(){var e=kn(l.optimize(n),i);return e===l||e===i?e.clone(!0):e}),h=t.name.length,g=0,n.option("unused")&&!n.exposed(t)&&(g=(h+2+d)/t.references.length),t.should_replace=d<=h+g&&p):t.should_replace=!1),t.should_replace)return t.should_replace()}return e}),h(_n,function(e,n){var t,i,r;return n.option("unsafe_undefined")&&(t=M(n,"undefined"))?((i=ue(rn,e,{name:"undefined",scope:t.scope,thedef:t})).is_undefined=!0,i):(r=Cn(n.self(),n.parent()))&&$n(r,e)?e:ue(Ae,e,{operator:"void",expression:ue(pn,e,{value:0})})}),h(Dn,function(e,n){var t=Cn(n.self(),n.parent());return t&&$n(t,e)?e:!n.option("keep_infinity")||t&&!$n(t,e)||M(n,"Infinity")?ue(xe,e,{operator:"/",left:ue(pn,e,{value:1}),right:ue(pn,e,{value:0})}):e}),h(gn,function(e,n){var t=Cn(n.self(),n.parent());return t&&!$n(t,e)||M(n,"NaN")?ue(xe,e,{operator:"/",left:ue(pn,e,{value:0}),right:ue(pn,e,{value:0})}):e}),p=["+","-","/","*","%",">>","<<",">>>","|","^","&"],d=["*","|","^","&"],h(ke,function(e,n){var t,i,r,o;if(n.option("dead_code")&&e.left instanceof rn&&(t=e.left.definition()).scope===n.find_parent(I)){r=0,o=e;do{if(i=o,(o=n.parent(r++))instanceof Y){if(s(r,o instanceof Q))break;if(Mn(t.scope,[t]))break;return"="==e.operator?e.right:ue(xe,e,{operator:e.operator.slice(0,-1),left:e.left,right:e.right}).optimize(n)}}while(o instanceof xe&&o.right===i||o instanceof De&&o.tail_node()===i)}return"="==(e=e.lift_sequences(n)).operator&&e.left instanceof rn&&e.right instanceof xe&&(e.right.left instanceof rn&&e.right.left.name==e.left.name&&Ot(e.right.operator,p)?(e.operator=e.right.operator+"=",e.right=e.right.right):e.right.right instanceof rn&&e.right.right.name==e.left.name&&Ot(e.right.operator,d)&&!e.right.left.has_side_effects(n)&&(e.operator=e.right.operator+"=",e.right=e.right.left)),e;function s(t,i){for(var r,o=e.left.definition().scope;(r=n.parent(t++))!==o;)if(r instanceof se){if(r.bfinally)return!0;if(i&&r.bcatch)return!0}}}),h(Se,function(e,n){if(!n.option("evaluate"))return e;var t=e.right.evaluate(n);return void 0===t?e=e.left:t!==e.right&&(t=Me(t,e.right),e.right=kn(t,e.right)),e}),h(Ce,function(e,n){var t,i,r,o,s,a,u,c,l;return n.option("conditionals")?e.condition instanceof De?(t=e.condition.expressions.slice(),e.condition=t.pop(),t.push(e),de(e,t)):(i=e.condition.evaluate(n))!==e.condition?i?(n.warn("Condition always true [{file}:{line},{col}]",e.start),qe(n.parent(),n.self(),e.consequent)):(n.warn("Condition always false [{file}:{line},{col}]",e.start),qe(n.parent(),n.self(),e.alternative)):(r=i.negate(n,Qt(n)),Sn(n,i,r)===r&&(e=ue(Ce,e,{condition:r,consequent:e.alternative,alternative:e.consequent})),s=e.condition,a=e.consequent,u=e.alternative,s instanceof rn&&a instanceof rn&&s.definition()===a.definition()?ue(xe,e,{operator:"||",left:s,right:u}):a instanceof ke&&u instanceof ke&&a.operator==u.operator&&a.left.equivalent_to(u.left)&&(!e.condition.has_side_effects(n)||"="==a.operator&&!a.left.has_side_effects(n))?ue(ke,e,{operator:a.operator,left:a.left,right:ue(Ce,e,{condition:e.condition,consequent:a.right,alternative:u.right})}):a instanceof _e&&u.TYPE===a.TYPE&&a.args.length>0&&a.args.length==u.args.length&&a.expression.equivalent_to(u.expression)&&!e.condition.has_side_effects(n)&&!a.expression.has_side_effects(n)&&"number"==typeof(o=function(){var e,n,t,i,r;for(e=a.args,n=u.args,t=0,i=e.length;t<i;t++){if(e[t]instanceof L)return;if(!e[t].equivalent_to(n[t])){if(n[t]instanceof L)return;for(r=t+1;r<i;r++){if(e[r]instanceof L)return;if(!e[r].equivalent_to(n[r]))return}return t}}}())?((c=a.clone()).args[o]=ue(Ce,e,{condition:e.condition,consequent:a.args[o],alternative:u.args[o]}),c):a instanceof Ce&&a.alternative.equivalent_to(u)?ue(Ce,e,{condition:ue(xe,e,{left:e.condition,operator:"&&",right:a.condition}),consequent:a.consequent,alternative:u}):a.equivalent_to(u)?de(e,[e.condition,a]).optimize(n):a instanceof xe&&"||"==a.operator&&a.right.equivalent_to(u)?ue(xe,e,{operator:"||",left:ue(xe,e,{operator:"&&",left:e.condition,right:a.left}),right:u}).optimize(n):(l=n.in_boolean_context(),p(e.consequent)?d(e.alternative)?f(e.condition):ue(xe,e,{operator:"||",left:f(e.condition),right:e.alternative}):d(e.consequent)?p(e.alternative)?f(e.condition.negate(n)):ue(xe,e,{operator:"&&",left:f(e.condition.negate(n)),right:e.alternative}):p(e.alternative)?ue(xe,e,{operator:"||",left:f(e.condition.negate(n)),right:e.consequent}):d(e.alternative)?ue(xe,e,{operator:"&&",left:f(e.condition),right:e.consequent}):e)):e;function f(e){return e.is_boolean()?e:ue(Ae,e,{operator:"!",expression:e.negate(n)})}function p(e){return e instanceof wn||l&&e instanceof ln&&e.getValue()||e instanceof Ae&&"!"==e.operator&&e.expression instanceof ln&&!e.expression.getValue()}function d(e){return e instanceof yn||l&&e instanceof ln&&!e.getValue()||e instanceof Ae&&"!"==e.operator&&e.expression instanceof ln&&e.expression.getValue()}}),h(bn,function(e,n){if(n.in_boolean_context())return ue(pn,e,{value:+e.value});if(n.option("booleans")){var t=n.parent();return t instanceof xe&&("=="==t.operator||"!="==t.operator)?(n.warn("Non-strict equality against boolean: {operator} {value} [{file}:{line},{col}]",{operator:t.operator,value:e.value,file:t.start.file,line:t.start.line,col:t.start.col}),ue(pn,e,{value:+e.value})):ue(Ae,e,{operator:"!",expression:ue(pn,e,{value:1-e.value})})}return e}),h(we,function(e,n){var t,i,r,o,s,a,u,c,l,f,p,d=e.expression,h=e.property;if(n.option("properties")&&(t=h.evaluate(n))!==h&&("string"==typeof t&&("undefined"==t?t=void 0:(f=parseFloat(t)).toString()==t&&(t=f)),h=e.property=kn(h,Me(t,h).transform(n)),ui(i=""+t)&&i.length<=h.print_to_string().length+1))return ue(ye,e,{expression:d,property:i}).optimize(n);if(Cn(e,n.parent()))return e;if(t!==h&&(r=e.flatten_object(i,n))&&(d=e.expression=r.expression,h=e.property=r.property),n.option("properties")&&n.option("side_effects")&&h instanceof pn&&d instanceof Be){o=h.getValue(),s=d.elements;e:if(o in s){for(a=!0,u=[],c=s.length;--c>o;)(f=s[c].drop_side_effect_free(n))&&(u.unshift(f),a&&f.has_side_effects(n)&&(a=!1));if((l=s[o])instanceof L)break e;for(l=l instanceof vn?ue(_n,l):l,a||u.unshift(l);--c>=0;){if((f=s[c])instanceof L)break e;(f=f.drop_side_effect_free(n))?u.unshift(f):o--}return a?(u.push(l),de(e,u).optimize(n)):ue(we,e,{expression:ue(Be,d,{elements:u}),property:ue(pn,h,{value:o})})}}return(p=e.evaluate(n))!==e?Sn(n,p=Me(p,e).optimize(n),e):e}),I.DEFMETHOD("contains_this",function(){var e,n=this;return n.walk(new ei(function(t){return!!e||(t instanceof un?e=!0:t!==n&&t instanceof P&&!(t instanceof z)||void 0)})),e}),be.DEFMETHOD("flatten_object",function(e,n){var t,i,r,o,s,a;if(n.option("properties")&&(t=n.option("unsafe_arrows")&&n.option("ecma")>=6,(i=this.expression)instanceof Te))for(o=(r=i.properties).length;--o>=0;)if(""+((s=r[o])instanceof Pe?s.key.name:s.key)==e){if(!Wt(r,function(e){return e instanceof $e||t&&e instanceof Pe&&!e.is_generator}))break;if(((a=s.value)instanceof R||a instanceof q)&&!(n.parent()instanceof ve)&&a.contains_this())break;return ue(we,this,{expression:ue(Be,i,{elements:r.map(function(e){var n,t=e.value;return t instanceof R&&(t=ue(q,t,t)),(n=e.key)instanceof v&&!(n instanceof Ye)?de(e,[n,t]):t})}),property:ue(pn,this,{value:o})})}}),h(ye,function(e,n){var t,i,r,o;if("arguments"!=e.property&&"caller"!=e.property||n.warn("Function.protoype.{prop} not supported [{file}:{line},{col}]",{prop:e.property,file:e.start.file,line:e.start.line,col:e.start.col}),t=e.resolve_defines(n))return t.optimize(n);if(Cn(e,n.parent()))return e;if(n.option("unsafe_proto")&&e.expression instanceof ye&&"prototype"==e.expression.property&&sn(i=e.expression.expression))switch(i.name){case"Array":e.expression=ue(Be,e.expression,{elements:[]});break;case"Function":e.expression=ue(q,e.expression,{argnames:[],body:[]});break;case"Number":e.expression=ue(pn,e.expression,{value:0});break;case"Object":e.expression=ue(Te,e.expression,{properties:[]});break;case"RegExp":e.expression=ue(dn,e.expression,{value:/t/});break;case"String":e.expression=ue(fn,e.expression,{value:""})}return(r=e.flatten_object(e.property,n))?r.optimize(n):(o=e.evaluate(n))!==e?Sn(n,o=Me(o,e).optimize(n),e):e}),h(Be,jn),h(Te,jn),h(dn,jn),h(X,function(e,n){return e.value&&xn(e.value,n)&&(e.value=null),e}),h(z,function(e,n){if(e.body instanceof v||cn(e.body,n),n.option("arrows")&&1==e.body.length&&e.body[0]instanceof X){var t=e.body[0].value;e.body=t||[]}return e}),h(q,function(e,n){if(cn(e.body,n),n.option("unsafe_arrows")&&n.option("ecma")>=6&&!e.name&&!e.is_generator&&!e.uses_arguments&&!e.uses_eval){var t=!1;if(e.walk(new ei(function(e){return!!t||(e instanceof un?(t=!0,!0):void 0)})),!t)return ue(z,e,e).optimize(n)}return e}),h(Ne,function(e,n){return e}),h(An,function(e,n){return e.expression&&!e.is_star&&xn(e.expression,n)&&(e.expression=null),e}),h(ge,function(e,n){var t=n.option("global_defs");return t&&Xt(t,e.name.name)&&n.warn("global_defs "+e.name.name+" redefined [{file}:{line},{col}]",e.start),e}),h(G,function(e,n){var t,i,r,o;if(!n.option("evaluate")||n.parent()instanceof V)return e;for(t=[],i=0;i<e.segments.length;i++)(r=e.segments[i])instanceof v&&(o=r.evaluate(n))!==r&&(o+"").length<=r.print_to_string().length+"${}".length?t[t.length-1].value=t[t.length-1].value+o+e.segments[++i].value:t.push(r);return e.segments=t,1==t.length?ue(fn,e,t[0]):e}),h(V,function(e,n){return e}),h(Oe,Pn),h(Pe,function(e,n){if(Pn(e,n),n.option("arrows")&&n.parent()instanceof Te&&!e.value.uses_arguments&&!e.value.uses_eval&&1==e.value.body.length&&e.value.body[0]instanceof X&&e.value.body[0].value&&!e.value.contains_this()){var t=ue(z,e.value,e.value);return t.async=e.async,t.is_generator=e.is_generator,ue($e,e,{key:e.key instanceof Ye?e.key.name:e.key,value:t,quote:e.quote})}return e}),h($e,function(e,n){var t,i,r;return Pn(e,n),!((t=n.option("unsafe_methods"))&&n.option("ecma")>=6)||t instanceof RegExp&&!t.test(e.key+"")||(i=e.key,!((r=e.value)instanceof z&&Array.isArray(r.body)&&!r.contains_this()||r instanceof q)||r.name)?e:ue(Pe,e,{async:r.async,is_generator:r.is_generator,key:i instanceof v?i:ue(Ye,e,{name:i}),value:ue(R,r,r),quote:e.quote})})}(),function(){var e,n=function(e){for(var n=!0,t=0;t<e.length;t++)n&&e[t]instanceof D&&e[t].body instanceof fn?e[t]=new y({start:e[t].start,end:e[t].end,value:e[t].body.value}):!n||e[t]instanceof D&&e[t].body instanceof fn||(n=!1);return e},t={Program:function(e){return new N({start:r(e),end:o(e),body:n(e.body.map(a))})},FunctionDeclaration:function(e){return new U({start:r(e),end:o(e),name:a(e.id),argnames:e.params.map(a),body:n(a(e.body).body)})},FunctionExpression:function(e){return new q({start:r(e),end:o(e),name:a(e.id),argnames:e.params.map(a),body:n(a(e.body).body)})},ExpressionStatement:function(e){return new w({start:r(e),end:o(e),body:a(e.expression)})},TryStatement:function(e){var n=e.handlers||[e.handler];if(n.length>1||e.guardedHandlers&&e.guardedHandlers.length)throw new Error("Multiple catch clauses are not supported.");return new se({start:r(e),end:o(e),body:a(e.block).body,bcatch:a(n[0]),bfinally:e.finalizer?new ue(a(e.finalizer)):null})},Property:function(e){var n=e.key,t={start:r(n),end:o(e.value),key:"Identifier"==n.type?n.name:n.value,value:a(e.value)};return"init"==e.kind?new $e(t):(t.key=new Ye({name:t.key}),t.value=new R(t.value),"get"==e.kind?new je(t):"set"==e.kind?new Me(t):void 0)},ArrayExpression:function(e){return new Be({start:r(e),end:o(e),elements:e.elements.map(function(e){return null===e?new vn:a(e)})})},ObjectExpression:function(e){return new Te({start:r(e),end:o(e),properties:e.properties.map(function(e){return e.type="Property",a(e)})})},SequenceExpression:function(e){return new De({start:r(e),end:o(e),expressions:e.expressions.map(a)})},MemberExpression:function(e){return new(e.computed?we:ye)({start:r(e),end:o(e),property:e.computed?a(e.property):e.property.name,expression:a(e.object)})},SwitchCase:function(e){return new(e.test?oe:re)({start:r(e),end:o(e),expression:a(e.test),body:e.consequent.map(a)})},VariableDeclaration:function(e){return new("const"===e.kind?pe:le)({start:r(e),end:o(e),definitions:e.declarations.map(a)})},Literal:function(e){var n,t=e.value,i={start:r(e),end:o(e)};if(null===t)return new mn(i);switch(typeof t){case"string":return i.value=t,new fn(i);case"number":return i.value=t,new pn(i);case"boolean":return new(t?wn:yn)(i);default:return(n=e.regex)&&n.pattern?i.value=new RegExp(n.pattern,n.flags).toString():i.value=e.regex&&e.raw?e.raw:t,new dn(i)}},Identifier:function(n){var t=e[e.length-2];return new("LabeledStatement"==t.type?tn:"VariableDeclarator"==t.type&&t.id===n?"const"==t.kind?Ve:Ue:"FunctionExpression"==t.type?t.id===n?Xe:Je:"FunctionDeclaration"==t.type?t.id===n?We:Je:"CatchClause"==t.type?Ke:"BreakStatement"==t.type||"ContinueStatement"==t.type?an:rn)({start:r(n),end:o(n),name:n.name})}};function i(e){if("Literal"==e.type)return null!=e.raw?e.raw:e.value+""}function r(e){var n=e.loc,t=n&&n.start,r=e.range;return new _({file:n&&n.source,line:t&&t.line,col:t&&t.column,pos:r?r[0]:e.start,endline:t&&t.line,endcol:t&&t.column,endpos:r?r[0]:e.start,raw:i(e)})}function o(e){var n=e.loc,t=n&&n.end,r=e.range;return new _({file:n&&n.source,line:t&&t.line,col:t&&t.column,pos:r?r[1]:e.end,endline:t&&t.line,endcol:t&&t.column,endpos:r?r[1]:e.end,raw:i(e)})}function s(e,n,i){var s,p="function From_Moz_"+e+"(M){\n";p+="return new U2."+n.name+"({\nstart: my_start_token(M),\nend: my_end_token(M)",s="function To_Moz_"+e+"(M){\n",s+="return {\ntype: "+JSON.stringify(e),i&&i.split(/\s*,\s*/).forEach(function(e){var n,t,i,r=/([a-z0-9$_]+)(=|@|>|%)([a-z0-9$_]+)/i.exec(e);if(!r)throw new Error("Can't understand property map: "+e);switch(n=r[1],t=r[2],i=r[3],p+=",\n"+i+": ",s+=",\n"+n+": ",t){case"@":p+="M."+n+".map(from_moz)",s+="M."+i+".map(to_moz)";break;case">":p+="from_moz(M."+n+")",s+="to_moz(M."+i+")";break;case"=":p+="M."+n,s+="M."+i;break;case"%":p+="from_moz(M."+n+").body",s+="to_moz_block(M)";break;default:throw new Error("Can't understand operator in propmap: "+e)}}),p+="\n})\n}",s+="\n}\n}",p=new Function("U2","my_start_token","my_end_token","from_moz","return("+p+")")(exports,r,o,a),s=new Function("to_moz","to_moz_block","to_moz_scope","return("+s+")")(c,l,f),t[e]=p,u(n,s)}function a(n){e.push(n);var i=null!=n?t[n.type](n):null;return e.pop(),i}function u(e,n){e.DEFMETHOD("to_mozilla_ast",function(){return e=n(this),t=this.start,i=this.end,null!=t.pos&&null!=i.endpos&&(e.range=[t.pos,i.endpos]),t.line&&(e.loc={start:{line:t.line,column:t.col},end:i.endline?{line:i.endline,column:i.endcol}:null},t.file&&(e.loc.source=t.file)),e;var e,t,i})}function c(e){return null!=e?e.to_mozilla_ast():null}function l(e){return{type:"BlockStatement",body:e.body.map(c)}}function f(e,n){var t=n.body.map(c);return n.body[0]instanceof w&&n.body[0].body instanceof fn&&t.unshift(c(new F(n.body[0]))),{type:e,body:t}}t.UpdateExpression=t.UnaryExpression=function(e){return new(("prefix"in e?e.prefix:"UnaryExpression"==e.type)?Ae:Fe)({start:r(e),end:o(e),operator:e.operator,expression:a(e.argument)})},s("EmptyStatement",F),s("BlockStatement",A,"body@body"),s("IfStatement",ne,"test>condition, consequent>body, alternate>alternative"),s("LabeledStatement",C,"label>label, body>body"),s("BreakStatement",K,"label>label"),s("ContinueStatement",ee,"label>label"),s("WithStatement",j,"object>expression, body>body"),s("SwitchStatement",te,"discriminant>expression, cases@body"),s("ReturnStatement",X,"argument>value"),s("ThrowStatement",Q,"argument>value"),s("WhileStatement",T,"test>condition, body>body"),s("DoWhileStatement",B,"test>condition, body>body"),s("ForStatement",O,"init>init, test>condition, update>step, body>body"),s("ForInStatement",$,"left>init, right>object, body>body"),s("DebuggerStatement",b),s("VariableDeclarator",ge,"id>name, init>value"),s("CatchClause",ae,"param>argname, body%body"),s("ThisExpression",un),s("BinaryExpression",xe,"operator=operator, left>left, right>right"),s("LogicalExpression",xe,"operator=operator, left>left, right>right"),s("AssignmentExpression",ke,"operator=operator, left>left, right>right"),s("ConditionalExpression",Ce,"test>condition, consequent>consequent, alternate>alternative"),s("NewExpression",ve,"callee>expression, arguments@args"),s("CallExpression",_e,"callee>expression, arguments@args"),u(N,function(e){return f("Program",e)}),u(U,function(e){return{type:"FunctionDeclaration",id:c(e.name),params:e.argnames.map(c),body:f("BlockStatement",e)}}),u(q,function(e){return{type:"FunctionExpression",id:c(e.name),params:e.argnames.map(c),body:f("BlockStatement",e)}}),u(y,function(e){return{type:"ExpressionStatement",expression:{type:"Literal",value:e.value}}}),u(w,function(e){return{type:"ExpressionStatement",expression:c(e.body)}}),u(ie,function(e){return{type:"SwitchCase",test:c(e.expression),consequent:e.body.map(c)}}),u(se,function(e){return{type:"TryStatement",block:l(e),handler:c(e.bcatch),guardedHandlers:[],finalizer:c(e.bfinally)}}),u(ae,function(e){return{type:"CatchClause",param:c(e.argname),guard:null,body:l(e)}}),u(ce,function(e){return{type:"VariableDeclaration",kind:e instanceof pe?"const":"var",declarations:e.definitions.map(c)}}),u(De,function(e){return{type:"SequenceExpression",expressions:e.expressions.map(c)}}),u(be,function(e){var n=e instanceof we;return{type:"MemberExpression",object:c(e.expression),computed:n,property:n?c(e.property):{type:"Identifier",name:e.property}}}),u(Ee,function(e){return{type:"++"==e.operator||"--"==e.operator?"UpdateExpression":"UnaryExpression",operator:e.operator,prefix:e instanceof Ae,argument:c(e.expression)}}),u(xe,function(e){return{type:"&&"==e.operator||"||"==e.operator?"LogicalExpression":"BinaryExpression",left:c(e.left),operator:e.operator,right:c(e.right)}}),u(Be,function(e){return{type:"ArrayExpression",elements:e.elements.map(c)}}),u(Te,function(e){return{type:"ObjectExpression",properties:e.properties.map(c)}}),u(Oe,function(e){var n,t={type:"Literal",value:e.key instanceof Ye?e.key.name:e.key};return e instanceof $e?n="init":e instanceof je?n="get":e instanceof Me&&(n="set"),{type:"Property",kind:n,key:t,value:c(e.value)}}),u(Re,function(e){var n=e.definition();return{type:"Identifier",name:n?n.mangled_name||n.name:e.name}}),u(dn,function(e){var n=e.value;return{type:"Literal",value:n,raw:n.toString(),regex:{pattern:n.source,flags:n.toString().match(/[gimuy]*$/)[0]}}}),u(ln,function(e){var n=e.value;return"number"==typeof n&&(n<0||0===n&&1/n<0)?{type:"UnaryExpression",operator:"-",prefix:!0,argument:{type:"Literal",value:-n,raw:e.start.raw}}:{type:"Literal",value:n,raw:e.start.raw}}),u(hn,function(e){return{type:"Identifier",name:String(e.value)}}),bn.DEFMETHOD("to_mozilla_ast",ln.prototype.to_mozilla_ast),mn.DEFMETHOD("to_mozilla_ast",ln.prototype.to_mozilla_ast),vn.DEFMETHOD("to_mozilla_ast",function(){return null}),E.DEFMETHOD("to_mozilla_ast",A.prototype.to_mozilla_ast),I.DEFMETHOD("to_mozilla_ast",q.prototype.to_mozilla_ast),e=null,v.from_mozilla_ast=function(n){var t,i=e;return e=[],t=a(n),e=i,t}}(),Qn="undefined"==typeof atob?function(e){return new Buffer(e,"base64").toString()}:atob,Zn="undefined"==typeof btoa?function(e){return new Buffer(e).toString("base64")}:btoa,Kn={TreeWalker:ei,parse:pi,TreeTransformer:di,Dictionary:Yt,push_uniq:Ut,minify:function(n,t){var i,r,o,s,a,u,c,l,f,p=v.warn_function;try{if(s=(t=Pt(t,{compress:{},ecma:void 0,ie8:!1,keep_classnames:void 0,keep_fnames:!1,mangle:{},nameCache:null,output:{},parse:{},rename:void 0,safari10:!1,sourceMap:!1,timings:!1,toplevel:!1,warnings:!1,wrap:!1},!0)).timings&&{start:Date.now()},void 0===t.keep_classnames&&(t.keep_classnames=t.keep_fnames),void 0===t.rename&&(t.rename=t.compress&&t.mangle),bi("ecma",t,["parse","compress","output"]),bi("ie8",t,["compress","mangle","output"]),bi("keep_classnames",t,["compress","mangle"]),bi("keep_fnames",t,["compress","mangle"]),bi("safari10",t,["mangle","output"]),bi("toplevel",t,["compress","mangle"]),bi("warnings",t,["compress"]),t.mangle&&(t.mangle=Pt(t.mangle,{cache:t.nameCache&&(t.nameCache.vars||{}),eval:!1,ie8:!1,keep_classnames:!1,keep_fnames:!1,properties:!1,reserved:[],safari10:!1,toplevel:!1},!0),t.mangle.properties&&("object"!=typeof t.mangle.properties&&(t.mangle.properties={}),t.mangle.properties.keep_quoted&&(o=t.mangle.properties.reserved,Array.isArray(o)||(o=[]),t.mangle.properties.reserved=o),!t.nameCache||"cache"in t.mangle.properties||(t.mangle.properties.cache=t.nameCache.props||{})),yi(t.mangle.cache),yi(t.mangle.properties.cache)),t.sourceMap&&(t.sourceMap=Pt(t.sourceMap,{content:null,filename:null,includeSources:!1,root:null,url:null},!0)),u=[],t.warnings&&!v.warn_function&&(v.warn_function=function(e){u.push(e)}),s&&(s.parse=Date.now()),n instanceof N)a=n;else{for(c in"string"==typeof n&&(n=[n]),t.parse=t.parse||{},t.parse.toplevel=null,n)if(Xt(n,c)&&(t.parse.filename=c,t.parse.toplevel=pi(n[c],t.parse),t.sourceMap&&"inline"==t.sourceMap.content)){if(Object.keys(n).length>1)throw new Error("inline source map only works with singular input");t.sourceMap.content=(i=n[c],(r=/\n\/\/# sourceMappingURL=data:application\/json(;.*?)?;base64,(.*)/.exec(i))?Qn(r[2]):(v.warn("inline source map not found"),null))}a=t.parse.toplevel}if(o&&function(e,n){function t(e){Ut(n,e)}a.walk(new ei(function(e){e instanceof $e&&e.quote?t(e.key):e instanceof Oe&&e.quote?t(e.key.name):e instanceof we&&Di(e.property,t)}))}(0,o),t.wrap&&(a=a.wrap_commonjs(t.wrap)),s&&(s.rename=Date.now()),s&&(s.compress=Date.now()),t.compress&&(a=new vi(t.compress).compress(a)),s&&(s.scope=Date.now()),t.mangle&&a.figure_out_scope(t.mangle),s&&(s.mangle=Date.now()),t.mangle&&(Yn.reset(),a.compute_char_frequency(t.mangle),a.mangle_names(t.mangle)),s&&(s.properties=Date.now()),t.mangle&&t.mangle.properties&&(a=function(n,t){var i,r,o,s,a,u,c,l=(t=Pt(t,{builtins:!1,cache:null,debug:!1,keep_quoted:!1,only_cache:!1,regex:null,reserved:null},!0)).reserved;return Array.isArray(l)||(l=[]),t.builtins||function(n){var t={},i="object"==typeof e?e:self;function r(e){Ut(n,e)}["Symbol","Map","Promise","Proxy","Reflect","Set","WeakMap","WeakSet"].forEach(function(e){t[e]=i[e]||new Function}),["null","true","false","Infinity","-Infinity","undefined"].forEach(r),[Object,Array,Function,Number,String,Boolean,Error,Math,Date,RegExp,t.Symbol,ArrayBuffer,DataView,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,eval,EvalError,Float32Array,Float64Array,Int8Array,Int16Array,Int32Array,isFinite,isNaN,JSON,t.Map,parseFloat,parseInt,t.Promise,t.Proxy,RangeError,ReferenceError,t.Reflect,t.Set,SyntaxError,TypeError,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,URIError,t.WeakMap,t.WeakSet].forEach(function(e){Object.getOwnPropertyNames(e).map(r),e.prototype&&Object.getOwnPropertyNames(e.prototype).map(r)})}(l),r=-1,t.cache?(i=t.cache.props).each(function(e){Ut(l,e)}):i=new Yt,s=t.regex,(a=!1!==t.debug)&&(o=!0===t.debug?"":t.debug),u=[],c=[],n.walk(new ei(function(e){e instanceof $e?d(e.key):e instanceof Oe?d(e.key.name):e instanceof ye?d(e.property):e instanceof we&&Di(e.property,d)})),n.transform(new di(function(e){e instanceof $e?e.key=h(e.key):e instanceof Oe?e.key.name=h(e.key.name):e instanceof ye?e.property=h(e.property):!t.keep_quoted&&e instanceof we&&(e.property=function e(n){return n.transform(new di(function(n){if(n instanceof De){var t=n.expressions.length-1;n.expressions[t]=e(n.expressions[t])}else n instanceof fn?n.value=h(n.value):n instanceof Ce&&(n.consequent=e(n.consequent),n.alternative=e(n.alternative));return n}))}(e.property))}));function f(e){return!(c.indexOf(e)>=0)&&!(l.indexOf(e)>=0)&&(t.only_cache?i.has(e):!/^-?[0-9]+(\.[0-9]+)?(e[+-][0-9]+)?$/.test(e))}function p(e){return!(s&&!s.test(e))&&!(l.indexOf(e)>=0)&&(i.has(e)||u.indexOf(e)>=0)}function d(e){f(e)&&Ut(u,e),p(e)||Ut(c,e)}function h(e){var n,t;if(!p(e))return e;if(!(n=i.get(e))){if(a&&f(t="_$"+e+"$"+o+"_")&&(n=t),!n)do{n=Yn(++r)}while(!f(n));i.set(e,n)}return n}}(a,t.mangle.properties)),s&&(s.output=Date.now()),l={},t.output.ast&&(l.ast=a),!Xt(t.output,"code")||t.output.code){if(t.sourceMap&&("string"==typeof t.sourceMap.content&&(t.sourceMap.content=JSON.parse(t.sourceMap.content)),t.output.source_map=function(e){e=Pt(e,{file:null,root:null,orig:null,orig_line_diff:0,dest_line_diff:0});var n=new m.SourceMapGenerator({file:e.file,sourceRoot:e.root}),t=e.orig&&new m.SourceMapConsumer(e.orig);return t&&Array.isArray(e.orig.sources)&&t._sources.toArray().forEach(function(e){var i=t.sourceContentFor(e,!0);i&&n.setSourceContent(e,i)}),{add:function(i,r,o,s,a,u){if(t){var c=t.originalPositionFor({line:s,column:a});if(null===c.source)return;i=c.source,s=c.line,a=c.column,u=c.name||u}n.addMapping({generated:{line:r+e.dest_line_diff,column:o},original:{line:s+e.orig_line_diff,column:a},source:i,name:u})},get:function(){return n},toString:function(){return JSON.stringify(n.toJSON())}}}({file:t.sourceMap.filename,orig:t.sourceMap.content,root:t.sourceMap.root}),t.sourceMap.includeSources)){if(n instanceof N)throw new Error("original source content unavailable");for(c in n)Xt(n,c)&&t.output.source_map.get().setSourceContent(c,n[c])}delete t.output.ast,delete t.output.code,f=_i(t.output),a.print(f),l.code=f.get(),t.sourceMap&&(l.map=t.output.source_map.toString(),"inline"==t.sourceMap.url?l.code+="\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,"+Zn(l.map):t.sourceMap.url&&(l.code+="\n//# sourceMappingURL="+t.sourceMap.url))}return t.nameCache&&t.mangle&&(t.mangle.cache&&(t.nameCache.vars=wi(t.mangle.cache)),t.mangle.properties&&t.mangle.properties.cache&&(t.nameCache.props=wi(t.mangle.properties.cache))),s&&(s.end=Date.now(),l.timings={parse:.001*(s.rename-s.parse),rename:.001*(s.compress-s.rename),compress:.001*(s.scope-s.compress),scope:.001*(s.mangle-s.scope),mangle:.001*(s.properties-s.mangle),properties:.001*(s.output-s.properties),output:.001*(s.end-s.output),total:.001*(s.end-s.start)}),u.length&&(l.warnings=u),l}catch(e){return{error:e}}finally{v.warn_function=p}},ast:{Accessor:R,Array:Be,Arrow:z,Assign:ke,Atom:hn,Await:En,Binary:xe,Block:E,BlockStatement:A,Boolean:bn,Break:K,Call:_e,Case:oe,Catch:ae,Class:Ne,ClassExpression:Ie,ConciseMethod:Pe,Conditional:Ce,Const:pe,Constant:ln,Continue:ee,DWLoop:S,Debugger:b,DefClass:Le,Default:re,DefaultAssign:Se,Definitions:ce,Defun:U,Destructuring:H,Directive:y,Do:B,Dot:ye,EmptyStatement:F,Exit:Y,Expansion:L,Export:me,False:yn,Finally:ue,For:O,ForIn:$,ForOf:M,Function:q,Hole:vn,If:ne,Import:he,Infinity:Dn,IterationStatement:k,Jump:W,Label:tn,LabelRef:an,LabeledStatement:C,Lambda:I,Let:fe,LoopControl:Z,NaN:gn,NameMapping:de,New:ve,NewTarget:qe,Node:v,Null:mn,Number:pn,Object:Te,ObjectGetter:je,ObjectKeyVal:$e,ObjectProperty:Oe,ObjectSetter:Me,PrefixedTemplateString:V,PropAccess:be,RegExp:dn,Return:X,Scope:P,Sequence:De,SimpleStatement:w,Statement:D,StatementWithBody:x,String:fn,Sub:we,Super:cn,Switch:te,SwitchBranch:ie,Symbol:Re,SymbolBlockDeclaration:He,SymbolCatch:Ke,SymbolClass:Ze,SymbolConst:Ve,SymbolDeclaration:ze,SymbolDefClass:Qe,SymbolDefun:We,SymbolExport:on,SymbolExportForeign:sn,SymbolFunarg:Je,SymbolImport:en,SymbolImportForeign:nn,SymbolLambda:Xe,SymbolLet:Ge,SymbolMethod:Ye,SymbolRef:rn,SymbolVar:Ue,TemplateSegment:J,TemplateString:G,This:un,Throw:Q,Token:_,Toplevel:N,True:wn,Try:se,Unary:Ee,UnaryPostfix:Fe,UnaryPrefix:Ae,Undefined:_n,Var:le,VarDef:ge,While:T,With:j,Yield:An}};let Ai=null;class AssetBundler{constructor(){this.mimeTypes=new Map([[".jpg","image/jpeg"],[".jpeg","image/jpeg"],[".png","image/png"],[".gif","image/gif"],[".svg","image/svg+xml"]]),this.assetCache=new Map,this.tsService=null,this.tsCompilerOptions={},this._typescriptProxy=null,this._rollupPlugin=null}mimeTypeIsText(e){return"image/svg+xml"==e}mimeTypeIsJSXCompatible(e){return"image/svg+xml"==e}mimeTypeIsImage(e){return e.startsWith("image/")}extractPathQueryString(e){let n=e.lastIndexOf("?");return-1!=n&&e.lastIndexOf("/")<n?[e.substr(0,n),e.substr(n+1)]:[e,""]}getTypescriptProxy(){const e=this;return this._typescriptProxy||(this._typescriptProxy={__proto__:a,sys:{__proto__:a.sys,fileExists(n){if(e.assetCache.has(n)||a.sys.fileExists(n))return!0;if(n.endsWith(".d.ts")){let i=n.substr(0,n.length-5),[r,o]=e.extractPathQueryString(i),s=t.extname(r).toLowerCase(),u=e.mimeTypes.get(s);if(u&&a.sys.fileExists(r))return e.assetCache.set(n,{meta:o,mimeType:u,file:r}),!0}return!1},readFile(n,t){let i=e.assetCache.get(n);if(void 0!==i){let{meta:n,mimeType:t,file:r}=i;if("jsx"==n){if(e.mimeTypeIsJSXCompatible(t))return"import React from 'react';\nconst s :React.StatelessComponent<React.SVGAttributes<SVGElement>>;\nexport default s;\n";console.error(`${r}: not valid JSX`)}return e.mimeTypeIsImage(t)?"const a :{url:string,width:number,height:number};\nexport default a;\n":"const a :{url:string};\nexport default a;\n"}return a.sys.readFile(n,t)}},createLanguageService(n,t,i){this.tsCompilerOptions=n.getCompilationSettings(),this.tsCompilerOptions.traceResolution&&(n.trace=(e=>nt(">>",e)));const r=this;n.getScriptSnapshot=function(e){e=e.replace(/\\+/g,"/");let t=n.snapshots[e];return t||(t=r.ScriptSnapshot.fromString(r.sys.readFile(e)),n.snapshots[e]=t,n.versions[e]=(n.versions[e]||0)+1),t};let o=a.createLanguageService(n,t,i);return e.tsService=o,o}})}getRollupPlugin(){const e=this;return this._rollupPlugin||(this._rollupPlugin={name:"asset",buildEnd(n){e.assetCache.clear()},resolveId(n,i){if(-1!=n.indexOf("?")){let[r,o]=e.extractPathQueryString(n);if(o&&e.mimeTypes.has(t.extname(r).toLowerCase()))return i?t.resolve(t.dirname(i),n):t.resolve(n)}},load(n){let i=t.extname(n);if(".json"==i)return ht(n,"utf8").then(e=>`export default ${JSON.stringify(JSON.parse(e))}`);let r=e.mimeTypes.get(i.toLowerCase()),o="";if(!r){if(-1!=n.indexOf("?")){let s;[s,o]=e.extractPathQueryString(n),o&&(i=t.extname(s),(r=e.mimeTypes.get(i.toLowerCase()))&&(n=s))}if(!r)return Promise.resolve(null)}this.addWatchFile(n);let s=t.basename(n);return s=s.substr(0,s.length-i.length).replace(/[^A-Za-z0-9_]+/g,"_"),"jsx"==o?e.readAsJSXModule(n,s):e.readAsDataURL(r,n,s)}})}async readAsJSXModule(e,n){let t='import React from "react";\n'+`const asset_${n} = ${await ht(e,"utf8")};\n`+`export default asset_${n};\n`,i={jsx:this.tsCompilerOptions.jsx||a.JsxEmit.React,module:a.ModuleKind.ESNext,target:a.ScriptTarget.ESNext};return a.transpile(t,i,e+".jsx")}async readAsDataURL(e,n,t){let i={url:""};if(this.mimeTypeIsImage(e)&&(i.width=0,i.height=0),"image/gif"==e){let t=await ht(n,"base64"),r=Buffer.from(t.substr(0,16),"base64");try{let e=function(e){if(e.length<10||71!=e[0]||73!=e[1]||70!=e[2]||56!=e[3]||97!=e[5]&&98!=e[5])throw new Error("not a gif");let n=e[4]-48,t=`8${n}${String.fromCharCode(e[5])}`;if(7!=n&&9!=n)throw new Error(`unsupported gif version GIF${t}`);return{version:t,width:(e[7]<<8)+e[6],height:(e[9]<<8)+e[8]}}(r);Object.assign(i,e)}catch(e){console.error(`${n}: not a GIF image (${e})`)}i.url=`data:${e};base64,${t}`}else if("image/jpeg"==e){let t=await ht(n);try{let e=function(e){let n=0,t=e.length-1;if(255^e[n]|216^e[n+1])throw new Error("invalid jpeg data");function i(){let t=e.length-n;if(t<2)throw new Error("jpeg data truncated");let i=Ei(e,n);if(i>t)throw nt({length:i,bytesRemaining:t}),new Error("jpeg data truncated");return n+=2,i}function r(){if(i()<9)throw new Error("jpeg syntax error");let t=e[n+5];return{height:Ei(e,n+1),width:Ei(e,n+3),isGreyscale:1==t}}for(n+=2;!(n>=t||255!=e[n]);)switch(e[(n+=2)-1]){case 192:return r();default:n+=i()}throw new Error("invalid jpeg (missing SOF section)")}(t);Object.assign(i,e)}catch(e){console.error(`${n}: not a JPEG image (${e})`)}i.url=`data:${e};base64,${t.toString("base64")}`}else if(this.mimeTypeIsText(e)){let t=await ht(n,"utf8");if("image/svg+xml"==e){let r=await(Ai||(Ai=new f({full:!0,plugins:[{cleanupAttrs:!0},{removeDoctype:!0},{removeXMLProcInst:!0},{removeComments:!0},{removeMetadata:!0},{removeTitle:!0},{removeDesc:!0},{removeUselessDefs:!0},{removeEditorsNSData:!0},{removeEmptyAttrs:!0},{removeHiddenElems:!0},{removeEmptyText:!0},{removeEmptyContainers:!0},{removeViewBox:!1},{cleanupEnableBackground:!0},{convertStyleToAttrs:!0},{convertColors:!0},{convertPathData:!0},{convertTransform:!0},{removeUnknownsAndDefaults:!0},{removeNonInheritableGroupAttrs:!0},{removeUselessStrokeAndFill:!0},{removeUnusedNS:!0},{cleanupIDs:!0},{cleanupNumericValues:!0},{moveElemsAttrsToGroup:!0},{moveGroupAttrsToElems:!0},{collapseGroups:!0},{removeRasterImages:!1},{mergePaths:!0},{convertShapeToPath:!0},{sortAttrs:!0}]}))).optimize(t,{path:n});if(r.data.match(/^[^\r\n\t]+$/)){let n=r.info;n.width&&(i.width=parseInt(n.width),isNaN(i.width)&&(i.width=0)),n.height&&(i.height=parseInt(n.height),isNaN(i.height)&&(i.height=0)),i.url=`data:${e};utf8,${r.data}`}}}if(""==i.url){let t=await ht(n,"base64");i.url=`data:${e};base64,${t}`}return`const asset_${t} = ${JSON.stringify(i)};\n`+`export default asset_${t};`}}class LibBase{}class Lib extends LibBase{constructor(e){super(),"string"==typeof e&&(e={dfile:e}),this.dfile=t.resolve(e.dfile),this.jsfile=e.jsfile?t.resolve(e.jsfile):"",this.cachedir=e.cachedir?t.resolve(e.cachedir):".",this._cacheDebug=null,this._cacheNonDebug=null,this._isBuilding=!1,this._buildPromises=[],this.jsfile||(this.getCode=(()=>""))}getDefines(e){return{DEBUG:e}}async getCode(e){let n=e.debug?this._cacheDebug:this._cacheNonDebug;if(n)return n;if(this._isBuilding)return new Promise((e,n)=>{this._buildPromises.push({resolve:e,reject:n})});const i=(e,n)=>{this._isBuilding=!1;let t=this._buildPromises.slice();this._buildPromises=[];for(let i of t)e?i.reject(e):i.resolve(n);return e?Promise.reject(e):Promise.resolve(n)};try{this._isBuilding=!0;let n=t.join(this.cachedir,(e.debug?".debug-":".opt-")+this.jsfile.replace(/[^A-Za-z0-9_\-\.]+/g,"-"));try{let[t,r]=await Promise.all([ft(this.jsfile),ft(n)]);if(void 0!==t.mtimeMs&&t.mtimeMs<=r.mtimeMs||void 0===t.mtimeMs&&t.mtime<=r.mtime)return e.verbose2&&nt(`cache hit for lib ${at(this.jsfile)} (${tt(n)})`),i(null,ht(n,"utf8"))}catch(e){}nt(`build ${t.relative(".",this.jsfile)}`);let r=await this.compile(e,this.jsfile,n);if(r.error){let e=r.error;throw void 0!==e.line&&(e.message=`${e.filename||e.file}:${e.line}:${e.col} ${r.message}`),e}try{await pt(t.dirname(n))}catch(e){}return await vt(n,r.code,"utf8"),e.verbose2&&nt(`compiled lib ${at(this.jsfile)} cached at ${tt(n)}`),e.debug?this._cacheDebug=r.code:this._cacheNonDebug=r.code,i(null,r.code)}catch(e){return i(e,"")}}async compile(e,n,t){let i=await ht(n,"utf8");return Kn.minify({[n]:i},{ecma:6,parse:{},compress:{dead_code:!0,global_defs:this.getDefines(e.debug)},mangle:!1,output:{ast:!1,code:!0,preserve_line:e.debug}})}}class StdLib extends LibBase{constructor(e){super(),this.name=e}}class Product{constructor(e){if(this.outfile=t.resolve(e.outfile),this.outdir=t.dirname(this.outfile),this.name=e.name||at(this.outfile),this.version=e.version||"0.0.0",this.basedir=e.basedir||".",this.entry=t.resolve(e.entry),this.srcdir=e.srcdir||t.dirname(this.entry),this.targetESVersion=Number(e.targetESVersion)||0,isNaN(this.targetESVersion))throw new Error("invalid targetESVersion value (not a number)");this.jsx=e.jsx||null,this.mapfile=e.mapfile||this.outfile+".map",this.assetBundler=new AssetBundler,this.banner=e.banner||`/* ${this.name} ${this.version} */\n`,this.libs=[],this.stdlibs=[];for(let n of e.libs||[])if(n instanceof Lib)this.libs.push(n);else{if(!(n instanceof StdLib))throw new Error(`invalid lib object ${tt(n)}`);this.stdlibs.push(n)}this.definesInline={},this.defines={},this.output={js:"",map:""}}async build(e){this.preBuild(e);try{let n=Date.now();e.verbose2&&nt(`build module ${tt(this.name)}`);let t=await this.makeInputConfig(e),i=await s.rollup(t),r=await this.makeOutputConfig(e),o=(await i.generate(r)).output.reduce((e,n)=>n.isEntry?n:e);this.patchSourceMap(o.map),e.optimize&&(o=this._optimize(e,o.code,o.map,r));let a=o.map.toString(),u=this.postProcessJs(e,o.code,a);this.output={js:u,map:a},await Promise.all([vt(this.outfile,u,"utf8"),vt(this.mapfile,a,"utf8")]),this.reportBuildCompleted(e,n)}catch(e){throw this.logBuildError(e),e._wasReported=!0,e}}preBuild(e){for(let e in this.definesInline)return;this.definesInline={};for(let n of this.libs)Object.assign(this.definesInline,n.getDefines(e.debug));this.defines=Object.assign({VERSION:this.version},this.definesInline)}postProcessJs(e,n,i){return n=n.trim().replace(/[\r\n\s]*\/\/#\s*sourceMappingURL\s*=\s*[^\r\n]+[\r\n]*/m,""),e.debug?n+="\n//#sourceMappingURL=data:application/json;base64,"+rt(i)+"\n":n+="\n//#sourceMappingURL="+t.basename(this.mapfile)+"\n",n}buildIncrementally(e,n,t){this.preBuild(e);let i=n?e=>{n(this,e)}:()=>{};e.verbose2&&(i=(e=>{n&&n(this,e),nt(`build module ${tt(this.name)}`)}));let r={end(){},ended:!1,promise:null,then(e){return this.promise.then(e)},catch(e){return this.promise.catch(e)}};return r.promise=new Promise(async(n,o)=>{let a=Date.now(),u=!0,[c,l]=await Promise.all([this.makeInputConfig(e),this.makeOutputConfig(e)]);const f={...c,output:l,watch:{clearScreen:!0}};let p=s.watch(f);r.end=(e=>{if(!r.ended){r.ended=!0;try{p.close()}catch(e){}e?o(e):n()}});let d=async()=>{let[n,i]=await Promise.all([ht(this.outfile,"utf8"),ht(this.mapfile,"utf8")]),r=JSON.parse(i);if(this.patchSourceMap(r),e.optimize){let t=this._optimize(e,n,r,l);n=t.code,i=t.map,await Promise.all([vt(this.outfile,n,"utf8"),vt(this.mapfile,i,"utf8")])}else i=JSON.stringify(r);n=this.postProcessJs(e,n,i),this.output={js:n,map:i},this.reportBuildCompleted(e,a),t&&t(this)};p.on("event",e=>{switch(e.code){case"BUNDLE_START":a=Date.now(),i(u),u&&(u=!1);break;case"BUNDLE_END":d().catch(e=>p.emit("error",e));break;case"ERROR":this.logBuildError(e.error);break;case"FATAL":{const n=e.error;n?(this.logBuildError(n),"PLUGIN_ERROR"==n.code&&n.plugin):o("unknown error");break}case"START":case"END":break;default:console.error("unhandled rollup event:",e.code,e)}})}),r}reportBuildCompleted(e,n){if(e.verbose2){let e=lt(Date.now()-n),t=ct(ut(this.output.js));nt(`built module ${tt(this.name)} (${t}) in ${e}`)}}logBuildError(e){if("PLUGIN_ERROR"==e.code){let n=e.message||""+e;"rpt2"==e.plugin&&(n=n.replace(/(\n|^)(.+)\((\d+),(\d+)\)/g,"$1$2:$3:$4")),console.error(n)}else if(e.loc){let n=e.loc;console.error(`${n.file}:${n.line}:${n.column}: ${e.message}`),e.frame&&console.error(e.frame)}else console.error(e.stack||""+e)}getTSTargetID(){switch(this.targetESVersion){case 0:return"esnext";case 3:return"es3";case 5:return"es5";case 6:case 2015:return"es6";case 7:case 2016:return"es2016";case 8:case 2017:return"es2017";case 9:case 2018:return"es2018";default:if(this.targetESVersion>2018)return"es"+this.targetESVersion;throw new Error(`invalid targetESVersion ${this.targetESVersion}`)}}async makeInputConfig(e){let n=t.join(this.basedir,"tsconfig.json"),i={},r={},o=this.getTSTargetID(),s=[],f=[o];try{r=(i=JSON.parse(await ht(n,"utf8"))).compilerOptions||{},i.include&&Array.isArray(i.include)&&(s=i.include.slice()),i.compilerOptions,r.lib&&(f=i.lib.slice())}catch(e){n=void 0}for(let e of this.libs)s.push(e.dfile);for(let e of this.stdlibs)f.push(e.name);let p=void 0!==r.jsx?r.jsx:this.entry.endsWith(".tsx")||this.entry.endsWith(".jsx")?"react":void 0,d=a,h=null;p&&(d=this.assetBundler.getTypescriptProxy(),h=this.assetBundler.getRollupPlugin());let m={removeComments:!e.debug,noFallthroughCasesInSwitch:!0,noImplicitReturns:!0,noImplicitThis:!0,preserveConstEnums:!0,strictNullChecks:!0,alwaysStrict:!0,forceConsistentCasingInFileNames:!0,allowSyntheticDefaultImports:!0,resolveJsonModule:!0,extendedDiagnostics:e.verbose2,listFiles:e.verbose2},g={check:!1,verbosity:e.verbose2?2:1,typescript:d,tsconfigDefaults:{compilerOptions:m},tsconfig:n,tsconfigOverride:{include:s,compilerOptions:Object.assign(r,{module:"esnext",sourceMap:!0,target:o,noEmitOnError:!0,outDir:t.relative(this.basedir,this.outdir),lib:f,jsx:p,baseUrl:t.relative(this.basedir,this.srcdir)},e.debug?{pretty:!0}:{})},cacheRoot:t.join(this.outdir,".tscache-"+(e.debug?"g":"o")),clean:e.clean,rollupCommonJSResolveHack:!0};e.verbose2&&nt(`configuration for ${tt(this.name)}:\n`+st({outfile:this.outfile,outdir:this.outdir,name:this.name,version:this.version,basedir:this.basedir,entry:this.entry,srcdir:this.srcdir,targetESVersion:this.targetESVersion,"tsconfig.compilerOptions":Object.assign({},m,g.tsconfigOverride.compilerOptions)}));let _=u(g);return{input:this.entry,plugins:[_,l({mainFields:["jsnext:main","module","main"]}),c({include:[t.join(this.basedir,"node_modules","**")],sourceMap:!1}),h],onwarn(e){console.warn("WARN",e.message)}}}async makeOutputConfig(e){let n={file:this.outfile,format:"cjs",name:this.name,sourcemap:!0,freeze:e.debug,banner:this.banner+"(function(exports){\n",footer:'})(typeof exports != "undefined" ? exports : this);\n',intro:""},t=Object.keys(this.defines).map(e=>e+" = "+JSON.stringify(this.defines[e]));t.length>0&&(n.intro+="var "+t.join(", ")+";\n");let i=await Promise.all(this.libs.map(n=>n.getCode(e)));for(let e of i)""!=e&&(n.intro+=e+"\n");return n}patchSourceMap(e){delete e.sourcesContent;const n=t.relative(this.outdir,this.srcdir);t.dirname(n),e.sourceRoot=n,e.sources=e.sources.map(e=>{if(e.startsWith(n)){const n=t.resolve(this.outdir,e);return t.relative(this.srcdir,n)}return e})}_optimize(e,n,i,r){let o=i.sourceRoot;i.sourceRoot="";let s=["Math.floor","Math.ceil","Math.round","Math.random"],a=at(r.file),u=!e.nomin,c=this.targetESVersion,l={},f=0;if(e.verbose2){f=Date.now();let e=ct(ut(n));nt(`optimizing module ${tt(this.name)} (${e})`)}try{if((l=Kn.minify({[a]:n},{warnings:!0,toplevel:"cjs"==r.format,compress:{ecma:c,evaluate:!0,global_defs:this.definesInline,hoist_vars:!0,keep_classnames:!0,keep_infinity:!0,passes:2,pure_funcs:s},mangle:!!u&&{keep_classnames:!0,keep_fnames:!1,safari10:!1},output:{preamble:this.banner.trim(),beautify:!u,indent_level:2,ast:!1,code:!0,safari10:!1,ecma:c},sourceMap:{content:i,root:o,url:t.basename(this.mapfile),filename:t.basename(this.outfile)}})).error)throw l.error;if(e.verbose2){ct(ut(n));let e=lt(Date.now()-f);nt(`finished optimizing module ${tt(this.name)} in ${e}`)}}catch(e){throw e.filename&&console.error(`${e.filename}:${e.line}:${e.col}:`,e.message),e}return{code:l.code,map:l.map}}}const Fi=new StdLib("dom");let xi=null,Ci=new Map;r.promisify(h.execFile);let ki=null,Si=null;const Bi=[[["v","verbose"],"Print additional information to stdout"],["debug","Print a lot of information to stdout. Implies -v"],["version","Print figplug version information"]];function Ti(e={},n={}){e.debug=n.debug||e.debug,e.verbose=n.v||n.verbose||e.verbose||n.debug||e.debug}async function Oi(e,n={}){const[t]=Ft(e.slice(1),`Usage: $prog ${e[0]} [-v|-verbose]\n`+"Print figplug version information.",...Bi.filter(e=>!Array.isArray(e)||"version"!=e[0]));if(Ti(n,t),t.verbose=t.verbose||t.v||n.verbose,nt(`figplug ${et}`),t.verbose){let e=JSON.parse(i.readFileSync(__dirname+"/../package.json","utf8")),n=__dirname+"/../node_modules/",t=[["arch",process.arch],["platform",process.platform]];for(let e of Object.keys(process.versions))t.push([e,process.versions[e]]);let r=t.reduce((e,n)=>Math.max(e,n[0].length),0),o="                                             ";for(let[e,n]of t)e+=o.substr(0,r-e.length),nt(`  ${e} ${n}`);t.splice(0,t.length);for(let r of Object.keys(e.dependencies))try{let e=JSON.parse(i.readFileSync(`${n}/${r}/package.json`,"utf8"));t.push([r,e.version])}catch(e){t.push([r,"(unavailable)"])}r=t.reduce((e,n)=>Math.max(e,n[0].length),0),nt("  deps:");for(let[e,n]of t)e+=o.substr(0,r-e.length),nt(`    ${e} ${n}`)}process.exit(0)}function $i(e){"object"==typeof e&&e._wasReported?process.exit(1):At(e)}process.on("unhandledRejection",$i),async function e(n){const[r,o]=Ft(n.slice(1),"Usage: $prog [options] <command> [<command-arg> ...]\n\ncommands:\n  init  [<dir>]   Initialize a plugin\n  build [<dir>]   Build a plugin\n  version         Print figplug version information\n  help [<cmd>]    Equivalent to $prog command -help\n",...Bi);0==o.length&&At(`missing <command>. Try ${Et} -help`),r.verbose=r.verbose2||r.v||r.verbose;let s=o[0];if("help"==s){if(!(s=o[1]))return e([n[0],"-h"]);o[0]=s,o[1]="-help"}if(r.version)return Oi(o,r);switch(s){case"init":return async function(e,n={}){const[i,r]=Ft(e.slice(1),`Usage: $prog ${e[0]} [<dir> ...]\n`+"Initialize Figma plugins in directories provided as <dir>, or the current directory.",["ui","Generate UI written in TypeScript & HTML"],["html","Generate UI written purely in HTML"],["react","Generate UI written in React"],[["f","force"],"Overwrite or replace existing files"],["name","Name of plugin. Defaults to directory name.","<name>"],["srcdir",'Where to put source files, relative to <dir>. Defaults to "."',"<dirname>"],...Bi);Ti(n,i);let o=0==r.length?["."]:r,s={verbose:n.verbose,debug:n.verbose2,name:i.name,overwrite:!!i.force,srcdir:i.srcdir,ui:i.react?"react":i.html?"html":i.ui?"ts+html":void 0};await Promise.all(o.map(e=>(async function(n){return new class PluginInitializer{constructor(e){this.wrotePackage=!1,this.verbose=!!e.verbose,this.debug=!!e.debug,e.dir,this.dir=e.dir,this.srcdir=e.srcdir?t.isAbsolute(e.srcdir)?e.srcdir:t.join(this.dir,e.srcdir):this.dir,this.name=e.name||t.basename(t.resolve(this.dir)),this.ui=e.ui||null,this.overwrite=!!e.overwrite,this.apiVersion="",this.manifestFile=t.join(this.dir,"manifest.json"),this.tsconfigFile=t.join(this.dir,"tsconfig.json"),this.packageFile=t.join(this.dir,"package.json"),this.figmaDtsFile=t.join(this.dir,"figma.d.ts"),this.pluginFile=t.join(this.srcdir,"plugin.ts"),this.htmlFile=t.join(this.srcdir,"ui.html"),this.uiFile=t.join(this.srcdir,"react"==this.ui?"ui.tsx":"ui.ts")}async initPlugin(){this.apiVersion||(this.apiVersion=await async function(){if(!Si){let e=t.join(kt,"lib","figma-plugin-latest.d.ts"),n=(await ht(e,"utf8")).match(/\s+readonly\s+version:\s*"([^"]+)",/m);if(!n||!n[1])throw new Error(`failed to find version in ${e}`);Si=n[1].trim()}return Si}());let e=[this.writeManifest(),this.writePlugin(),this.writeTypeDefsFile(),this.writeTSConfig()];switch(this.ui){case null:break;case"html":e.push(this.writeHTML());break;case"ts+html":e.push(this.writeHTML()),e.push(this.writeUITS());break;case"react":e.push(this.writeHTML()),e.push(this.writeUITSX()),e.push(this.writePackageJson());break;default:throw new Error(`unexpected value for ui: ${tt(this.ui)}`)}return Promise.all(e).then(this.initStage2.bind(this))}async initStage2(e){if(!e.every(e=>e))return!1;if(this.wrotePackage){this.verbose&&nt("npm install");let e=this.debug?["install"]:["install","--silent"];if(0!=await function(e,n,t){let i;i=t&&n?h.spawn("npm",n,t):t?h.spawn("npm",t):n?h.spawn("npm",n):h.spawn("npm");let r=new Promise((e,n)=>{i.on("close",n=>e(n)),i.on("error",e=>n(e))});return r.proc=i,r}(0,e,{cwd:t.dirname(t.resolve(this.packageFile)),windowsHide:!0,stdio:this.verbose?"inherit":"pipe"}))return!1}return!0}warnFileExist(e){return console.error(`${e} already exists`),!1}async writeTypeDefsFile(){let e=t.join(kt,"lib",`figma-plugin-${this.apiVersion}.d.ts`);return!this.overwrite&&await mt(this.figmaDtsFile)?(console.error(`${this.figmaDtsFile} already exists`),!0):bt(e,this.figmaDtsFile).then(()=>!0)}async writeTSConfig(){if(!this.overwrite&&await mt(this.tsconfigFile))return this.warnFileExist(this.tsconfigFile);let e=await async function(){if(!ki){let e=t.join(kt,"lib","template-tsconfig.json");ki=JSON.stringify(ot(await ht(e,"utf8")))}return JSON.parse(ki)}();e.include=[t.relative(this.dir,this.figmaDtsFile)],"react"==this.ui&&(e.compilerOptions.jsx="react");let n=st(e)+"\n";return vt(this.tsconfigFile,n,"utf8").then(()=>!0)}async writeHTML(){return!this.overwrite&&await mt(this.htmlFile)?this.warnFileExist(this.htmlFile):bt(t.join(kt,"lib","react"==this.ui?"template-ui-react.html":"template-ui.html"),this.htmlFile).then(()=>!0)}async writeUITS(){return!this.overwrite&&await mt(this.uiFile)?this.warnFileExist(this.uiFile):bt(t.join(kt,"lib","template-ui.ts"),this.uiFile).then(()=>!0)}async writeUITSX(){return!this.overwrite&&await mt(this.uiFile)?this.warnFileExist(this.uiFile):bt(t.join(kt,"lib","template-ui-react.tsx"),this.uiFile).then(()=>!0)}async writePackageJson(){return!this.overwrite&&await mt(this.packageFile)?this.warnFileExist(this.packageFile):(this.wrotePackage=!0,bt(t.join(kt,"lib","template-package-react.json"),this.packageFile).then(()=>!0))}async writePlugin(){return!this.overwrite&&await mt(this.pluginFile)?this.warnFileExist(this.pluginFile):bt(t.join(kt,"lib",this.ui?"template-plugin-ui.ts":"template-plugin.ts"),this.pluginFile).then(()=>!0)}async writeManifest(){let e,n={version:this.apiVersion,name:this.name,script:t.relative(this.dir,this.pluginFile)};"html"==this.ui?n.ui=t.relative(this.dir,this.htmlFile):this.ui&&(n.ui=t.relative(this.dir,this.uiFile));try{e=await ht(this.manifestFile,"utf8")}catch(e){}if(e){if(!this.overwrite)return this.warnFileExist(this.manifestFile);let t=ot(e);n=Object.assign(t,n)}let i=st(n)+"\n";return vt(this.manifestFile,i,"utf8").then(()=>!0)}}(Object.assign({},s,{dir:e})).initPlugin()})())).then(e=>e.every(e=>e))?process.exit(0):(console.error("Remove files you'd like to be re-created, or run with -force to overwrite all files."),process.exit(1))}(o,r);case"build":return async function(e,n={}){const[r,o]=Ft(e.slice(1),`Usage: $prog ${e[0]} [options] [<path> ...]\n`+'Builds Figma plugins.\n<path>  Path to a plugin directory or a manifest file. Defaults to ".".',["w","Watch sources for changes and rebuild incrementally"],["g","Generate debug code (assertions and DEBUG branches)."],["O","Generate optimized code."],["clean","Force rebuilding of everything, ignoring cache. Implied with -O."],["nomin","Do not minify or mangle optimized code when -O is enabled."],[["o","output"],"Write output to directory. Defaults to ./build","<dir>"],...Bi);Ti(n,r);const s=new class BuildCtx{constructor(){this.watch=!1,this.debug=!1,this.optimize=!1,this.clean=!1,this.nomin=!1,this.verbose=!1,this.verbose2=!1,this.outdir=""}};s.verbose2=n.debug||s.verbose2,s.verbose=n.verbose||s.verbose,s.watch=r.w||s.watch,s.debug=r.g||s.debug,s.optimize=r.O||s.optimize,s.clean=r.clean||s.clean,s.nomin=r.nomin||s.nomin,s.outdir=r.o||r.outdir||s.outdir;let a=(u=(0==o.length?[process.cwd()+t.sep]:o).map(e=>t.resolve(e)),Array.from(new Set(u)));var u;return Promise.all(a.map(async e=>{return async function(e,n){return new class PluginTarget{constructor(e,n){this.uiProduct=null,this.htmlOutFile="",this.htmlInFile="",this.cssInFile="",this.manifest=e,this.basedir=t.dirname(e.file);let r=t.join(this.basedir,e.props.script);this.srcdir=t.dirname(r),this.outdir=n=n||t.join(this.srcdir,"build"),this.name=e.props.name;let o=xi||(xi=new Lib({dfile:t.join(kt,"lib","global.d.ts"),jsfile:t.join(kt,"lib","global.js"),cachedir:t.join(p.tmpdir(),"figplug")})),s=function(e){let n=e&&"latest"!=e?"-"+e:"",r=Ci.get(n);if(!r){let o=t.join(kt,"lib",`figma-plugin${n}.d.ts`);i.existsSync(o)||(console.warn(`warning: unknown Figma API version ${e}.`+" Using type definitions for latest known version."),o=t.join(kt,"lib","figma-plugin.d.ts")),r=new Lib(o),Ci.set(n,r)}return r}(e.props.version);if(this.pluginProduct=new Product({version:"0",entry:r,outfile:t.join(n,"plugin.js"),basedir:this.basedir,libs:[o,s]}),e.props.ui){let i=t.join(this.basedir,e.props.ui),r=t.parse(i),s=r.ext.toLowerCase(),a=r.dir,u=t.join(a,r.name);this.htmlInFile=u+".html",this.cssInFile=u+".css",this.htmlOutFile=t.join(n,"ui.html"),i.endsWith(".html")||(this.uiProduct=new Product({version:this.pluginProduct.version,entry:i,outfile:t.join(n,".ui.js"),basedir:this.basedir,libs:[o,Fi],jsx:".tsx"==s||".jsx"==s?"react":null}))}}async build(e,n){if(this.pluginProduct.entry==this.pluginProduct.outfile)throw"plugin input file is same as output file: "+tt(this.pluginProduct.entry);if(this.htmlInFile&&this.htmlInFile==this.htmlOutFile)throw"html input file is same as output file: "+tt(this.htmlInFile);if(this.uiProduct&&this.uiProduct.entry==this.uiProduct.outfile)throw"ui input file is same as output file: "+tt(this.uiProduct.entry);let t=()=>{},i=n||(()=>{});if(e.verbose){let e="plugin "+tt(this.name)+" at "+at(this.srcdir)+" -> "+at(this.outdir),r=0;t=(()=>{r=Date.now(),nt(`building ${e}`)}),i=(()=>{let t=lt(Date.now()-r);nt(`built ${e} in ${t}`),n&&n()})}return Promise.all([this.writeManifestFile(e,this.manifest),e.watch?this.buildIncr(e,t,i):this.buildOnce(e,t,i)]).then(()=>{})}async buildIncr(e,n,t){i.watch(this.manifest.file,{},async()=>{try{let n=await Manifest.loadFile(this.manifest.file);this.manifest.props.script!=n.props.script||this.manifest.props.ui!=n.props.ui?console.error("\nWarning: Need to restart program -- source files in manifest changed.\n"):this.writeManifestFile(e,n)}catch(e){console.error(e.message)}});let r=()=>{};const o=()=>(r(),this.buildHTML(e));if(this.htmlInFile&&i.existsSync(this.htmlInFile)&&i.watch(this.htmlInFile,{},o),this.cssInFile&&i.existsSync(this.cssInFile)&&i.watch(this.cssInFile,{},o),this.uiProduct||this.htmlInFile){let i=0,s=()=>{0==i++&&n()},a=()=>{0==--i&&t()};if(this.uiProduct)return Promise.all([this.pluginProduct.buildIncrementally(e,s,a),this.uiProduct.buildIncrementally(e,s,()=>o().then(a))]).then(()=>{});if(this.htmlInFile)return r=s,Promise.all([this.pluginProduct.buildIncrementally(e,s,a),o().then(a)]).then(()=>{})}return this.pluginProduct.buildIncrementally(e,n,t)}buildOnce(e,n,t){return n(),this.uiProduct?Promise.all([this.pluginProduct.build(e),this.uiProduct.build(e).then(()=>this.buildHTML(e))]).then(t):this.htmlInFile?Promise.all([this.pluginProduct.build(e),this.buildHTML(e)]).then(t):this.pluginProduct.build(e).then(t)}async buildHTML(e){let n=0;e.verbose&&(n=Date.now(),nt(`build module ${tt(at(this.htmlOutFile))}`));let[t,i]=await Promise.all([ht(this.htmlInFile,"utf8").catch(e=>{if("ENOENT"!=e.code)throw e;return'<html><head></head><body><div id="root"></div></body></html>'}),ht(this.cssInFile,"utf8").catch(e=>{if("ENOENT"!=e.code)throw e;return""})]),r="",o="";this.uiProduct&&(o+="<script>\n"+this.uiProduct.output.js+"\n<\/script>"),""!=i.trim()&&(r="<style>\n"+(i=await this.processCss(i,this.cssInFile))+"\n</style>");let s="",a=function(e){let n=/<\/body[^\>]*>/gim.exec(e);return n?n.index:(n=/(<\/html[^\>]*>)/gim.exec(e))?n.index:e.length}(t);if(r.length){let e=function(e){let n=/\s*<\/head[^\>]*>/gim.exec(e);return n?n.index:(n=/\s*<body[^\>]*>/gim.exec(e))?n.index:(n=/(<html[^\>]*>[ \t]*[\r\n]?)/gim.exec(e))?n.index+n[1].length:(n=/(<\!doctype[^\>]*>[ \t]*[\r\n]?)/gim.exec(e))?n.index+n[1].length:0}(t);s=t.substr(0,e)+r+t.substring(e,a)+o+t.substr(a)}else s=t.substr(0,a)+o+t.substr(a);if(e.verbose){let e=lt(Date.now()-n);nt(`built module ${tt(at(this.htmlOutFile))} in ${e}`)}return vt(this.htmlOutFile,s,"utf8")}processCss(e,n){return d.process(e,{from:n},{features:{"nesting-rules":!0}}).then(e=>e.toString())}writeManifestFile(e,n){let i=n.getStandardPropMap();i.set("script",t.basename(this.pluginProduct.outfile)),this.htmlOutFile?i.set("html",t.basename(this.htmlOutFile)):i.delete("html");let r=st(i),o=t.join(this.outdir,"manifest.json");return e.verbose2&&nt(`write ${at(o)}`),vt(o,r,"utf8")}toString(){return`Plugin(${JSON.stringify(this.manifest.props.name)} at ${JSON.stringify(at(this.srcdir)||t.basename(process.cwd()))})`}}(e,n.outdir).build(n)}(await Manifest.load(e),s)})).then(()=>{})}(o,r);case"version":return Oi(o,r);default:At(`unknown command ${tt(s)}. Try ${Et} -help`)}}(process.argv.slice(1)).catch($i)}("undefined"!=typeof exports?exports:this);
//# sourceMappingURL=figplug.map